{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":[null],"names":["CanvasLayoutEngine","static","defaultFontSize","defaultFontFamily","defaultLineHeight","ctx","options","constructor","context","this","DEFAULT_STYLE","measureText","text","style","fontSize","fontFamily","fontWeight","fontStyle","lineHeight","font","width","letterSpacing","length","height","calculateBoxSize","node","box","padding","margin","border","paddingHorizontal","left","right","paddingVertical","top","bottom","marginHorizontal","marginVertical","borderHorizontal","borderVertical","contentWidth","contentHeight","type","content","textSize","undefined","layout","parentWidth","x","y","size","computedWidth","Math","min","computedHeight","children","currentY","contentX","child","totalChildrenHeight","reduce","sum","renderText","color","textAlign","fillStyle","textBaseline","contentY","textX","words","split","lines","currentLine","word","testLine","push","forEach","line","index","lineY","fillText","textDecoration","lineWidth","underlineY","beginPath","moveTo","lineTo","strokeStyle","stroke","renderBox","setLineDash","strokeRect","renderNode","render","layoutTree","clearRect","containerWidth","containerHeight","getNodeAt","childNode","createTextNode","createContainerNode"],"mappings":"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"}