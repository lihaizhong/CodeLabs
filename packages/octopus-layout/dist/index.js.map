{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":[null],"names":["CanvasLayoutEngine","ctx","options","constructor","canvas","getContext","Error","this","defaultFontSize","defaultFontFamily","defaultLineHeight","measureText","text","style","fontSize","fontFamily","fontWeight","lineHeight","font","width","letterSpacing","length","height","calculateBoxSize","node","box","padding","margin","border","paddingHorizontal","left","right","paddingVertical","top","bottom","marginHorizontal","marginVertical","borderHorizontal","borderVertical","contentWidth","contentHeight","type","content","textSize","undefined","layout","parentWidth","x","y","size","computedWidth","Math","min","computedHeight","children","currentY","contentX","child","totalChildrenHeight","reduce","sum","renderText","color","textAlign","fillStyle","textBaseline","contentY","textX","words","split","lines","currentLine","word","testLine","push","forEach","line","index","lineY","fillText","textDecoration","lineWidth","underlineY","beginPath","moveTo","lineTo","strokeStyle","stroke","renderBox","setLineDash","strokeRect","renderNode","render","layoutTree","clearRect","containerWidth","containerHeight","getNodeAt","childNode","createTextNode","createContainerNode"],"mappings":"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"}