!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).OctopusSvga={})}(this,(function(t){"use strict";var i=function(){function t(t){this.continuous=0,this.count=0,this.position=0,this.distance=0,this.options={continuous:.3,count:.2,position:.1,distance:.4},Object.assign(this.options,t)}return t.prototype.initialize=function(t){this.continuous=0,this.count=0,this.position=t,this.distance=-1},t.prototype.setContinuous=function(t){this.continuous<t&&(this.continuous=t)},t.prototype.setCount=function(t){this.count=t},t.prototype.setPosition=function(t){this.position=t},t.prototype.setDistance=function(t){this.distance=t},t.prototype.calc=function(t,i){var n=this,e=n.continuous,s=n.count,o=n.position,r=n.distance,u=n.options;return(1-r/Math.max(t,i))*u.distance+(1-o/i)*u.position+e/i*u.continuous+s/i*u.count},t.prototype.get=function(t,i){var n=t.length,e=i.length,s=new Array(e);if(this.initialize(e-1),0===n)this.setDistance(e);else if(0===e)this.setDistance(n);else{for(var o=[],r=0,u=0,a=0;a<n;a++){for(var c=t[a],p=a,h=-1,f=0;f<e;f++){var l=i[f],y=0===f?a+1:s[f-1],d=void 0===s[f]?f+1:s[f];c===l?(u=0,-1!==h||o.includes(f)||(h=f),this.position===e&&this.setPosition(f)):u=1;var m=Math.min(y+1,d+1,p+u);p=d,s[f]=m}-1!==h?(a>0&&h>0&&t[a-1]===i[h-1]?0===r?r=2:r++:0===r?r++:(this.setContinuous(r),r=1),o.push(h)):(this.setContinuous(r),r=0)}this.setContinuous(r),this.setCount(o.length),this.setDistance(s[e-1])}return this.calc(t.length,i.length)},t}(),n=function(t){return function(n,e){return new i(t).get(n,e)}},e=function(){function t(t,i){this.options={keyNameList:["text"],filterEmptyValue:!0,caseSensitive:!1,minSimilarity:0,calc:n()},Object.assign(this.options,i),this.dataSource=t,this.keyNameList=this.parseKeyNameList(this.options.keyNameList)}return t.prototype.parseValue=function(t){var i=this.options.caseSensitive;return"string"!=typeof t?"":i?t:t.toLowerCase()},t.prototype.parseKeyNameList=function(t){return"string"==typeof t?t.split(","):Array.isArray(t)?t:["value"]},t.prototype.getMaxSimilarity=function(t,i){var n=this;return"string"==typeof t&&""===t&&this.options.filterEmptyValue?100:"string"==typeof i?this.options.calc(this.parseValue(i),t):this.keyNameList.reduce((function(e,s){var o=n.parseValue(i[s]),r=n.options.calc(o,t);return Math.max(e,r)}),Number.NEGATIVE_INFINITY)},t.prototype.get=function(t){for(var i=[],n=this.parseValue(t),e=0;e<this.dataSource.length;e++){var s=this.dataSource[e],o=this.getMaxSimilarity(n,s);o>=this.options.minSimilarity&&i.push({data:s,similarity:o})}return i.sort((function(t,i){return i.similarity-t.similarity}))},t}();t.YouNeedSuggestion=e,t.calcOfLevenshteinDistanceAdaptor=n,Object.defineProperty(t,"__esModule",{value:!0})}));//# sourceMappingURL=index.min.js.map
