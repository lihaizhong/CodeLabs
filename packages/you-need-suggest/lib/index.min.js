!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).OctopusSvga={})}(this,(function(t){"use strict";var i=function(){function t(t){this.continuous=0,this.count=0,this.position=0,this.distance=0,this.options={continuous:.3,count:.2,position:.1,distance:.4},Object.assign(this.options,t)}return t.prototype.initialize=function(t){this.continuous=0,this.count=0,this.position=t,this.distance=-1},t.prototype.setContinuous=function(t){this.continuous<t&&(this.continuous=t)},t.prototype.setCount=function(t){this.count=t},t.prototype.setPosition=function(t){this.position=t},t.prototype.setDistance=function(t){this.distance=t},t.prototype.calc=function(t,i){var e=this,n=e.continuous,o=e.count,s=e.position,r=e.distance,u=e.options;return(1-r/Math.max(t,i))*u.distance+(1-s/i)*u.position+n/i*u.continuous+o/i*u.count},t.prototype.get=function(t,i){var e=t.length,n=i.length,o=new Array(n);if(this.initialize(n-1),0===e)this.setDistance(n);else if(0===n)this.setDistance(e);else{for(var s=[],r=0,u=0,a=0;a<e;a++){for(var p=t[a],c=a,h=-1,f=0;f<n;f++){var l=i[f],y=0===f?a+1:o[f-1],m=void 0===o[f]?f+1:o[f];p===l?(u=0,-1!==h||s.includes(f)||(h=f),this.position===n&&this.setPosition(f)):u=1;var d=Math.min(y+1,m+1,c+u);c=m,o[f]=d}-1!==h?(a>0&&h>0&&t[a-1]===i[h-1]?0===r?r=2:r++:0===r?r++:(this.setContinuous(r),r=1),s.push(h)):(this.setContinuous(r),r=0)}this.setContinuous(r),this.setCount(s.length),this.setDistance(o[n-1])}return this.calc(t.length,i.length)},t}(),e=function(t){return function(e,n){return new i(t).get(e,n)}},n=function(){function t(t,i){this.options={keyNameList:["text"],filterEmptyValue:!0,caseSensitive:!1,minSimilarity:0,compare:e()},Object.assign(this.options,i),this.dataSource=t,this.keyNameList=this.parseKeyNameList(this.options.keyNameList)}return t.prototype.parseValue=function(t){var i=this.options.caseSensitive;return"string"!=typeof t?"":i?t:t.toLowerCase()},t.prototype.parseKeyNameList=function(t){return"string"==typeof t?t.split(","):Array.isArray(t)?t:["value"]},t.prototype.getMaxSimilarity=function(t,i){var e=this;return"string"==typeof t&&""===t&&this.options.filterEmptyValue?100:"string"==typeof i?this.options.compare(this.parseValue(i),t):this.keyNameList.reduce((function(n,o){var s=e.parseValue(i[o]),r=e.options.compare(s,t);return Math.max(n,r)}),Number.NEGATIVE_INFINITY)},t.prototype.get=function(t){for(var i=[],e=this.parseValue(t),n=0;n<this.dataSource.length;n++){var o=this.dataSource[n],s=this.getMaxSimilarity(e,o);s>=this.options.minSimilarity&&i.push({data:o,similarity:s})}return i.sort((function(t,i){return i.similarity-t.similarity}))},t}();t.YouNeedSuggestion=n,Object.defineProperty(t,"__esModule",{value:!0})}));//# sourceMappingURL=index.min.js.map
