{"version":3,"file":"index.js","sources":["../src/utils/PointPool.ts","../src/core/2d/index.ts"],"sourcesContent":[null,null],"names":["PointPool","pool","acquire","this","length","pop","x","y","x1","y1","x2","y2","release","point","push","Renderer2D","context","static","Set","parseSVGPath","d","SVG_LETTER_REGEXP","result","currentIndex","state","currentCommand","currentArgs","char","test","command","args","trim","pointPool","globalTransform","constructor","setTransform","transform","a","b","c","tx","ty","fillOrStroke","styles","fill","stroke","resetShapeStyles","strokeStyle","strokeWidth","lineWidth","miterLimit","lineCap","lineJoin","fillStyle","lineDash","setLineDash","drawBezier","currentPoint","save","beginPath","commands","SVG_PATH","has","drawBezierElement","split","filter","Boolean","restore","method","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","drawEllipse","radiusX","radiusY","w","h","kappa","ox","oy","xe","ye","xm","ym","drawRect","width","height","cornerRadius","radius","arcTo","drawShape","shape","type","path","drawSprite","frame","bitmap","dynamicElement","alpha","layout","shapes","maskPath","globalAlpha","clip","drawImage","i","getGlobalTransform","setGlobalTransform","render","videoEntity","materials","dynamicMaterials","currentFrame","head","tail","sprites","sprite","imageKey","get","frames"],"mappings":"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"}