{"version":3,"file":"index.js","sources":["../src/utils/PointPool.ts","../src/core/2d/index.ts"],"sourcesContent":[null,null],"names":["PointPool","pool","static","getInstance","instance","acquire","this","length","pop","x","y","x1","y1","x2","y2","release","point","push","Renderer2D","context","Set","pointPool","globalTransform","constructor","setTransform","transform","a","b","c","d","tx","ty","fillOrStroke","styles","fill","stroke","resetShapeStyles","strokeStyle","strokeWidth","lineWidth","miterLimit","lineCap","lineJoin","fillStyle","lineDash","setLineDash","drawBezier","currentPoint","save","beginPath","commands","match","command","firstLetter","SVG_PATH","has","args","substring","trim","split","filter","Boolean","drawBezierElement","restore","method","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","drawEllipse","radiusX","radiusY","w","h","kappa","ox","oy","xe","ye","xm","ym","drawRect","width","height","cornerRadius","radius","arcTo","drawShape","shape","type","path","drawSprite","frame","bitmap","dynamicElement","alpha","layout","shapes","maskPath","globalAlpha","clip","drawImage","i","getGlobalTransform","setGlobalTransform","render","videoEntity","materials","dynamicMaterials","currentFrame","head","tail","sprites","sprite","imageKey","get","frames"],"mappings":"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5C,MACF,IAAK,IACHqC,EAAapC,IAAM6C,EAAK,GACxBT,EAAanC,IAAM4C,EAAK,GACxBT,EAAalC,IAAM2C,EAAK,GACxBT,EAAajC,IAAM0C,EAAK,GACxBT,EAAatC,GAAK+C,EAAK,GACvBT,EAAarC,GAAK8C,EAAK,GACvBrC,EAAQgD,cACNpB,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAajC,GACbiC,EAAatC,EACbsC,EAAarC,GAEf,MACF,IAAK,IACHqC,EAAapC,GAAKoC,EAAatC,IAAK+C,EAAK,GACzCT,EAAanC,GAAKmC,EAAarC,IAAK8C,EAAK,GACzCT,EAAalC,GAAKkC,EAAatC,IAAK+C,EAAK,GACzCT,EAAajC,GAAKiC,EAAarC,IAAK8C,EAAK,GACzCT,EAAatC,IAAM+C,EAAK,GACxBT,EAAarC,IAAM8C,EAAK,GACxBrC,EAAQgD,cACNpB,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAajC,GACbiC,EAAatC,EACbsC,EAAarC,GAEf,MACF,IAAK,SAEmB,IAApBqC,EAAapC,SACO,IAApBoC,EAAanC,SACO,IAApBmC,EAAalC,SACO,IAApBkC,EAAajC,IAEbiC,EAAapC,GAAKoC,EAAatC,EAAIsC,EAAalC,GAAKkC,EAAatC,EAClEsC,EAAanC,GAAKmC,EAAarC,EAAIqC,EAAajC,GAAKiC,EAAarC,EAClEqC,EAAalC,IAAM2C,EAAK,GACxBT,EAAajC,IAAM0C,EAAK,GACxBT,EAAatC,GAAK+C,EAAK,GACvBT,EAAarC,GAAK8C,EAAK,GACvBrC,EAAQgD,cACNpB,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAajC,GACbiC,EAAatC,EACbsC,EAAarC,KAGfqC,EAAapC,IAAM6C,EAAK,GACxBT,EAAanC,IAAM4C,EAAK,GACxBT,EAAatC,GAAK+C,EAAK,GACvBT,EAAarC,GAAK8C,EAAK,GACvBrC,EAAQiD,iBACNrB,EAAapC,GACboC,EAAanC,GACbmC,EAAatC,EACbsC,EAAarC,IAGjB,MACF,IAAK,SAEmB,IAApBqC,EAAapC,SACO,IAApBoC,EAAanC,SACO,IAApBmC,EAAalC,SACO,IAApBkC,EAAajC,IAEbiC,EAAapC,GAAKoC,EAAatC,EAAIsC,EAAalC,GAAKkC,EAAatC,EAClEsC,EAAanC,GAAKmC,EAAarC,EAAIqC,EAAajC,GAAKiC,EAAarC,EAClEqC,EAAalC,GAAKkC,EAAatC,IAAK+C,EAAK,GACzCT,EAAajC,GAAKiC,EAAarC,IAAK8C,EAAK,GACzCT,EAAatC,IAAM+C,EAAK,GACxBT,EAAarC,IAAM8C,EAAK,GACxBrC,EAAQgD,cACNpB,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAajC,GACbiC,EAAatC,EACbsC,EAAarC,KAGfqC,EAAapC,GAAKoC,EAAatC,IAAK+C,EAAK,GACzCT,EAAanC,GAAKmC,EAAarC,IAAK8C,EAAK,GACzCT,EAAatC,IAAM+C,EAAK,GACxBT,EAAarC,IAAM8C,EAAK,GACxBrC,EAAQiD,iBACNrB,EAAapC,GACboC,EAAanC,GACbmC,EAAatC,EACbsC,EAAarC,IAGjB,MACF,IAAK,IACHqC,EAAapC,IAAM6C,EAAK,GACxBT,EAAanC,IAAM4C,EAAK,GACxBT,EAAatC,GAAK+C,EAAK,GACvBT,EAAarC,GAAK8C,EAAK,GACvBrC,EAAQiD,iBACNrB,EAAapC,GACboC,EAAanC,GACbmC,EAAatC,EACbsC,EAAarC,GAEf,MACF,IAAK,IACHqC,EAAapC,GAAKoC,EAAatC,IAAK+C,EAAK,GACzCT,EAAanC,GAAKmC,EAAarC,IAAK8C,EAAK,GACzCT,EAAatC,IAAM+C,EAAK,GACxBT,EAAarC,IAAM8C,EAAK,GACxBrC,EAAQiD,iBACNrB,EAAapC,GACboC,EAAanC,GACbmC,EAAatC,EACbsC,EAAarC,GAEf,MACF,IAAK,IACL,IAAK,IACHS,EAAQkD,aAKN,WAAAC,CACN7D,EACAC,EACA6D,EACAC,EACA/C,EACAQ,GAEA,MAAMd,QAAEA,GAAYb,KAEpBa,EAAQ6B,OACR1C,KAAK8B,iBAAiBH,GACtB3B,KAAKk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"}