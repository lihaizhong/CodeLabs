{"version":3,"file":"index.js","sources":["../src/utils/PointPool.ts","../src/core/2d/index.ts"],"sourcesContent":[null,null],"names":["PointPool","pool","acquire","this","length","pop","x","y","x1","y1","x2","y2","release","point","push","Renderer2D","context","static","Set","pointPool","globalTransform","constructor","setTransform","transform","a","b","c","d","tx","ty","fillOrStroke","styles","fill","stroke","resetShapeStyles","strokeStyle","strokeWidth","lineWidth","miterLimit","lineCap","lineJoin","fillStyle","lineDash","setLineDash","drawBezier","currentPoint","save","beginPath","commands","match","command","firstLetter","SVG_PATH","has","args","substring","trim","split","filter","Boolean","drawBezierElement","restore","method","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","drawEllipse","radiusX","radiusY","w","h","kappa","ox","oy","xe","ye","xm","ym","drawRect","width","height","cornerRadius","radius","arcTo","drawShape","shape","type","path","drawSprite","frame","bitmap","dynamicElement","alpha","layout","shapes","maskPath","globalAlpha","clip","drawImage","i","getGlobalTransform","setGlobalTransform","render","videoEntity","materials","dynamicMaterials","currentFrame","head","tail","sprites","sprite","imageKey","get","frames"],"mappings":"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EAAanC,IAAM4C,EAAK,GACxBT,EAAalC,IAAM2C,EAAK,GACxBT,EAAavC,GAAKgD,EAAK,GACvBT,EAAatC,GAAK+C,EAAK,GACvBtC,EAAQiD,cACNpB,EAAarC,GACbqC,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAavC,EACbuC,EAAatC,GAEf,MACF,IAAK,IACHsC,EAAarC,GAAKqC,EAAavC,IAAKgD,EAAK,GACzCT,EAAapC,GAAKoC,EAAatC,IAAK+C,EAAK,GACzCT,EAAanC,GAAKmC,EAAavC,IAAKgD,EAAK,GACzCT,EAAalC,GAAKkC,EAAatC,IAAK+C,EAAK,GACzCT,EAAavC,IAAMgD,EAAK,GACxBT,EAAatC,IAAM+C,EAAK,GACxBtC,EAAQiD,cACNpB,EAAarC,GACbqC,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAavC,EACbuC,EAAatC,GAEf,MACF,IAAK,SAEmB,IAApBsC,EAAarC,SACO,IAApBqC,EAAapC,SACO,IAApBoC,EAAanC,SACO,IAApBmC,EAAalC,IAEbkC,EAAarC,GAAKqC,EAAavC,EAAIuC,EAAanC,GAAKmC,EAAavC,EAClEuC,EAAapC,GAAKoC,EAAatC,EAAIsC,EAAalC,GAAKkC,EAAatC,EAClEsC,EAAanC,IAAM4C,EAAK,GACxBT,EAAalC,IAAM2C,EAAK,GACxBT,EAAavC,GAAKgD,EAAK,GACvBT,EAAatC,GAAK+C,EAAK,GACvBtC,EAAQiD,cACNpB,EAAarC,GACbqC,EAAapC,GACboC,EAAanC,GACbmC,EAAalC,GACbkC,EAAavC,EACbuC,EAAatC,KAGfsC,EAAarC,IAAM8C,EAAK,GACxBT,EAAapC,IAAM6C,EAAK,GACxBT,EAAavC,GAAKgD,EAAK,GACvBT,EAAatC,GAAK+C,EAAK,GACvBtC,EAAQkD,iBACNrB,EAAarC,GACbqC,EAAapC,GACboC,EAAavC,EACbuC,EAAatC,IAGjB,MACF,IAAK,SAEmB,IAApBsC,EAAarC,SACO,IAApBqC,EAAapC,SACO,IAApBoC,EAAanC,SACO,IAApBmC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"}