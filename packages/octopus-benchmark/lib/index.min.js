!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).benchmark={})}(this,(function(t){"use strict";function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function e(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function r(t,n,e){return n=c(n),function(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(n,e||[],c(t).constructor):n.apply(t,e))}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n,e){return n&&function(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw u}}}}function a(t,n,e){return(n=y(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function l(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return s(f,"_invoke",function(e,r,o){var i,a,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!s&&f&&!o&&n<l.length;n++){var o,i=l[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw s=!0,r}return function(o,l,v){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&y(l,v),a=l,c=v;(n=a<2?t:c)||!s;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(s=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:s}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(s(n={},r,(function(){return this})),n),y=f.prototype=a.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return c.prototype=f,s(y,"constructor",f),s(f,"constructor",c),c.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(y),s(y,o,"Generator"),s(y,r,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),(l=function(){return{w:i,m:v}})()}function s(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{function i(n,e){s(t,n,(function(t){return this._invoke(n,e,t)}))}i("next",0),i("throw",1),i("return",2)}},s(t,n,e,r)}function p(t,n){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},p(t,n)}function y(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof n?n:n+""}function v(t,n,e,r){return new(e||(e=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;var h=function(){};function d(t,n){return new Promise((function(e){return setTimeout((function(){return e(t())}),n)}))}function b(t){return w.apply(this,arguments)}function w(){var t;return t=l().m((function t(n){var e,r,o,i=arguments;return l().w((function(t){for(;;)switch(t.p=t.n){case 0:return e=i.length>1&&void 0!==i[1]?i[1]:[],r=i.length>2&&void 0!==i[2]?i[2]:0,t.p=1,t.a(2,n());case 2:if(t.p=2,o=t.v,!(r>=e.length)){t.n=3;break}throw o;case 3:return t.a(2,d((function(){return b(n,e,++r)}),e[r]))}}),t,null,[[1,2]])})),w=function(){var n=this,r=arguments;return new Promise((function(o,i){var u=t.apply(n,r);function a(t){e(u,o,i,a,c,"next",t)}function c(t){e(u,o,i,a,c,"throw",t)}a(void 0)}))},w.apply(this,arguments)}var g={name:"now",install:function(){var t=this.globals,n=t.env,e=t.br,r="h5"===n||"tt"===n?performance:e.getPerformance();return"function"==typeof(null==r?void 0:r.now)?r.now()-Date.now()>1?function(){return r.now()/1e3}:function(){return r.now()}:function(){return Date.now()}}},m=function(t){function n(){var t;return o(this,n),(t=r(this,n,[[g],"1.1.0"])).init(),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&p(t,n)}(n,t),i(n,[{key:"installPlugin",value:function(t){!function(t,n){var e=n.install.call(t);Object.defineProperty(t,n.name,{get:function(){return e},enumerable:!0,configurable:!0})}(this,t)}}])}(function(){return i((function t(n,e){o(this,t),a(this,"plugins",[]),a(this,"platformVersion","0.1.2"),a(this,"version",""),a(this,"globals",{env:"unknown",br:null,dpr:1,system:"unknown"}),a(this,"noop",h),a(this,"retry",b),this.version=e||"",this.plugins=n,this.globals.env=this.autoEnv()}),[{key:"init",value:function(){var t=this.globals,n=this.plugins,e=new Map,r=[],o=new Set;t.br=this.useBridge(),t.dpr=this.usePixelRatio(),t.system=this.useSystem();var i,a=u(n);try{for(a.s();!(i=a.n()).done;){var c=i.value;r.push(c.name),e.set(c.name,c)}}catch(t){a.e(t)}finally{a.f()}this.usePlugins(e,r,o),o.clear()}},{key:"autoEnv",value:function(){if("undefined"!=typeof window)return"h5";if("undefined"!=typeof tt)return"tt";if("undefined"!=typeof my)return"alipay";if("undefined"!=typeof wx)return"weapp";throw new Error("Unsupported platformï¼")}},{key:"useBridge",value:function(){switch(this.globals.env){case"alipay":return my;case"tt":return tt;case"weapp":return wx}return globalThis}},{key:"usePixelRatio",value:function(){var t=this.globals,n=t.env,e=t.br;return"h5"===n?devicePixelRatio:"getWindowInfo"in e?e.getWindowInfo().pixelRatio:"getSystemInfoSync"in e?e.getSystemInfoSync().pixelRatio:1}},{key:"useSystem",value:function(){var t;switch(this.globals.env){case"weapp":t=wx.getDeviceInfo().platform;break;case"alipay":t=my.getDeviceBaseInfo().platform;break;case"tt":t=tt.getDeviceInfoSync().platform;break;default:t="unknown"}return t.toLowerCase()}},{key:"usePlugins",value:function(t,n,e){var r,o=u(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!t.has(i))throw new Error("Plugin ".concat(i," not found"));if(e.has(i))return;var a=t.get(i);if(Array.isArray(a.dependencies)){var c,f=u(a.dependencies);try{for(f.s();!(c=f.n()).done;){var l,s=c.value;if("function"!=typeof(null===(l=t.get(s))||void 0===l?void 0:l.install))throw new Error("Plugin ".concat(i," depends on plugin ").concat(s,", but ").concat(s," is not found"))}}catch(t){f.e(t)}finally{f.f()}this.usePlugins(t,a.dependencies,e)}this.installPlugin(a),e.add(i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"switch",value:function(t){this.globals.env=t,this.init()}}])}()),k=new m,P=["%cBENCHMARK","padding: 2px 4px; background: #68B984; color: #FFFFFF; border-radius: 4px;"],O=["%cBENCHMARK","padding: 2px 4px; background: #89CFF0; color: #FFFFFF; border-radius: 4px;"],j=new(function(){return i((function t(){o(this,t),this.timeLabels=new Map,this.markLabels=new Map}),[{key:"start",value:function(t){this.timeLabels.set(t,k.now())}},{key:"stop",value:function(t){var n=k.now(),e=this.timeLabels;e.has(t)&&(console.log("".concat(t,": ").concat(n-e.get(t)," ms")),e.delete(t))}},{key:"mark",value:function(t){var n=k.now(),e=this.markLabels;e.has(t)&&console.log("".concat(t,": ").concat(n-e.get(t)," ms")),e.set(t,n)}},{key:"reset",value:function(t){this.markLabels.delete(t)}},{key:"clear",value:function(){this.timeLabels.clear(),this.markLabels.clear()}}])}()),x=Object.create(j);x.now=function(){return k.now()},x.time=function(t,n){return v(void 0,void 0,void 0,l().m((function e(){var r;return l().w((function(e){for(;;)switch(e.n){case 0:return j.start(t),e.n=1,n();case 1:return r=e.v,j.stop(t),e.a(2,r)}}),e)})))},x.line=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;console.log("-".repeat(t))},x.log=function(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];(t=console).log.apply(t,P.concat(e))},x.info=function(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];(t=console).info.apply(t,O.concat(e))},t.benchmark=x,Object.defineProperty(t,"__esModule",{value:!0})}));//# sourceMappingURL=index.min.js.map
