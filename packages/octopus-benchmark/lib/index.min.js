!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).benchmark=e()}(this,(function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))}function n(t,e){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function o(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;const r=()=>{};async function i(t,e=[],n=0){try{return t()}catch(s){if(n>=e.length)throw s;return o=()=>i(t,e,++n),r=e[n],new Promise((t=>setTimeout((()=>t(o())),r)))}var o,r}var s={name:"now",install(){const{env:t,br:e}=this.globals,n="h5"===t||"tt"===t?performance:e.getPerformance();return"function"==typeof n?.now?n.now()-Date.now()>1?()=>n.now()/1e3:()=>n.now():()=>Date.now()}},a=function(e){function n(){var t=e.call(this,[s],"0.0.1")||this;return t.init(),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}(n,e),n.prototype.installPlugin=function(t){!function(t,e){const n=e.install.call(t);Object.defineProperty(t,e.name,{get:()=>n,enumerable:!0,configurable:!0})}(this,t)},n}(class{plugins=[];platformVersion="0.0.1";version="";globals={env:"unknown",br:null,dpr:1,system:"unknown"};noop=r;retry=i;constructor(t,e){this.version=e||"",this.plugins=t,this.globals.env=this.autoEnv()}init(){const{globals:t,plugins:e}=this,n=new Map,o=[],r=new Set;t.br=this.useBridge(),t.dpr=this.usePixelRatio(),t.system=this.useSystem();for(const t of e)o.push(t.name),n.set(t.name,t);this.usePlugins(n,o,r),r.clear()}autoEnv(){if("undefined"!=typeof window)return"h5";if("undefined"!=typeof tt)return"tt";if("undefined"!=typeof my)return"alipay";if("undefined"!=typeof wx)return"weapp";throw new Error("Unsupported app")}useBridge(){switch(this.globals.env){case"h5":return globalThis;case"alipay":return my;case"tt":return tt;case"weapp":return wx}return{}}usePixelRatio(){const{env:t,br:e}=this.globals;return"h5"===t?devicePixelRatio:"getWindowInfo"in e?e.getWindowInfo().pixelRatio:"getSystemInfoSync"in e?e.getSystemInfoSync().pixelRatio:1}useSystem(){const{env:t}=this.globals;let e;switch(t){case"weapp":e=wx.getDeviceInfo().platform;break;case"alipay":e=my.getDeviceBaseInfo().platform;break;case"tt":e=tt.getDeviceInfoSync().platform;break;default:e="unknown"}return e.toLowerCase()}usePlugins(t,e,n){for(const o of e){if(!t.has(o))throw new Error(`Plugin ${o} not found`);if(n.has(o))return;const e=t.get(o);if(Array.isArray(e.dependencies)){for(const n of e.dependencies)if("function"!=typeof t.get(n)?.install)throw new Error(`Plugin ${o} depends on plugin ${n}, but ${n} is not found`);this.usePlugins(t,e.dependencies,n)}this.installPlugin(e),n.add(o)}}switch(t){this.globals.env=t,this.init()}}),c=new a,l=["%cBENCHMARK","padding: 2px 4px; background: #68B984; color: #FFFFFF; border-radius: 4px;"],u=new(function(){function t(){this.timeLabels=new Map,this.markLabels=new Map}return t.prototype.start=function(t){this.timeLabels.set(t,c.now())},t.prototype.stop=function(t){var e=c.now(),n=this.timeLabels;n.has(t)&&(console.log("".concat(t,": ").concat(e-n.get(t)," ms")),n.delete(t))},t.prototype.mark=function(t){var e=c.now(),n=this.markLabels;n.has(t)&&console.log("".concat(t,": ").concat(e-n.get(t)," ms")),n.set(t,e)},t.prototype.reset=function(t){this.markLabels.delete(t)},t.prototype.clear=function(){this.timeLabels.clear(),this.markLabels.clear()},t}()),f=Object.create(u);return f.now=function(){return c.now()},f.time=function(t,o){return e(void 0,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return u.start(t),[4,o()];case 1:return e=n.sent(),u.stop(t),[2,e]}}))}))},f.line=function(t){void 0===t&&(t=40),console.log("-".repeat(t))},f.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,o(o([],l,!1),t,!1))},f}));
//# sourceMappingURL=index.min.js.map
