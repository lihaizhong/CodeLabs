!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).benchmark={})}(this,(function(e){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function o(e,t){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function r(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;const i=()=>{};async function s(e,t=[],n=0){try{return e()}catch(i){if(n>=t.length)throw i;return o=()=>s(e,t,++n),r=t[n],new Promise((e=>setTimeout((()=>e(o())),r)))}var o,r}var a={name:"now",install(){const{env:e,br:t}=this.globals,n="h5"===e||"tt"===e?performance:t.getPerformance();return"function"==typeof n?.now?n.now()-Date.now()>1?()=>n.now()/1e3:()=>n.now():()=>Date.now()}},c=function(e){function n(){var t=e.call(this,[a],"0.0.3")||this;return t.init(),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}(n,e),n.prototype.installPlugin=function(e){!function(e,t){const n=t.install.call(e);Object.defineProperty(e,t.name,{get:()=>n,enumerable:!0,configurable:!0})}(this,e)},n}(class{plugins=[];platformVersion="0.0.1";version="";globals={env:"unknown",br:null,dpr:1,system:"unknown"};noop=i;retry=s;constructor(e,t){this.version=t||"",this.plugins=e,this.globals.env=this.autoEnv()}init(){const{globals:e,plugins:t}=this,n=new Map,o=[],r=new Set;e.br=this.useBridge(),e.dpr=this.usePixelRatio(),e.system=this.useSystem();for(const e of t)o.push(e.name),n.set(e.name,e);this.usePlugins(n,o,r),r.clear()}autoEnv(){if("undefined"!=typeof window)return"h5";if("undefined"!=typeof tt)return"tt";if("undefined"!=typeof my)return"alipay";if("undefined"!=typeof wx)return"weapp";throw new Error("Unsupported app")}useBridge(){switch(this.globals.env){case"h5":return globalThis;case"alipay":return my;case"tt":return tt;case"weapp":return wx}return{}}usePixelRatio(){const{env:e,br:t}=this.globals;return"h5"===e?devicePixelRatio:"getWindowInfo"in t?t.getWindowInfo().pixelRatio:"getSystemInfoSync"in t?t.getSystemInfoSync().pixelRatio:1}useSystem(){const{env:e}=this.globals;let t;switch(e){case"weapp":t=wx.getDeviceInfo().platform;break;case"alipay":t=my.getDeviceBaseInfo().platform;break;case"tt":t=tt.getDeviceInfoSync().platform;break;default:t="unknown"}return t.toLowerCase()}usePlugins(e,t,n){for(const o of t){if(!e.has(o))throw new Error(`Plugin ${o} not found`);if(n.has(o))return;const t=e.get(o);if(Array.isArray(t.dependencies)){for(const n of t.dependencies)if("function"!=typeof e.get(n)?.install)throw new Error(`Plugin ${o} depends on plugin ${n}, but ${n} is not found`);this.usePlugins(e,t.dependencies,n)}this.installPlugin(t),n.add(o)}}switch(e){this.globals.env=e,this.init()}}),l=new c,u=["%cBENCHMARK","padding: 2px 4px; background: #68B984; color: #FFFFFF; border-radius: 4px;"],f=["%cBENCHMARK","padding: 2px 4px; background: #89CFF0; color: #FFFFFF; border-radius: 4px;"],p=new(function(){function e(){this.timeLabels=new Map,this.markLabels=new Map}return e.prototype.start=function(e){this.timeLabels.set(e,l.now())},e.prototype.stop=function(e){var t=l.now(),n=this.timeLabels;n.has(e)&&(console.log("".concat(e,": ").concat(t-n.get(e)," ms")),n.delete(e))},e.prototype.mark=function(e){var t=l.now(),n=this.markLabels;n.has(e)&&console.log("".concat(e,": ").concat(t-n.get(e)," ms")),n.set(e,t)},e.prototype.reset=function(e){this.markLabels.delete(e)},e.prototype.clear=function(){this.timeLabels.clear(),this.markLabels.clear()},e}()),h=Object.create(p);h.now=function(){return l.now()},h.time=function(e,t){return n(void 0,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:return p.start(e),[4,t()];case 1:return n=o.sent(),p.stop(e),[2,n]}}))}))},h.line=function(e){void 0===e&&(e=40),console.log("-".repeat(e))},h.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,r(r([],u,!1),e,!1))},h.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,r(r([],f,!1),e,!1))},e.benchmark=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
