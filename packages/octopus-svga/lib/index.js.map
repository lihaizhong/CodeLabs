{"version":3,"file":"index.js","sources":["../../../node_modules/.pnpm/@rollup+plugin-typescript@12.1.4_rollup@4.45.1_tslib@2.8.1_typescript@5.8.3/node_modules/tslib/tslib.es6.js","../../octopus-platform/esm/index.js","../src/platform/index.ts","../src/extensions/svga-decoder/io/float.ts","../src/shared/hash.ts","../src/extensions/svga-decoder/io/preflight.ts","../src/extensions/svga-decoder/io/Reader.ts","../src/extensions/svga-decoder/serialization/Layout.ts","../src/extensions/svga-decoder/serialization/Transform.ts","../src/extensions/svga-decoder/serialization/ShapeArgs.ts","../src/extensions/svga-decoder/serialization/RectArgs.ts","../src/extensions/svga-decoder/serialization/EllipseArgs.ts","../src/extensions/svga-decoder/serialization/RGBAColor.ts","../src/extensions/svga-decoder/serialization/ShapeStyle.ts","../src/extensions/svga-decoder/serialization/ShapeEntity.ts","../src/extensions/svga-decoder/serialization/FrameEntity.ts","../src/extensions/svga-decoder/serialization/SpriteEntity.ts","../src/extensions/svga-decoder/serialization/MovieParams.ts","../src/extensions/svga-decoder/serialization/MovieEntity.ts","../src/extensions/svga-decoder/index.ts","../src/shared/PointPool.ts","../src/extensions/svga-renderer/2d/index.ts","../src/extensions/svga-animator/index.ts","../src/extensions/zlib/index.ts","../src/extensions/png-encoder/crc.ts","../src/extensions/png-encoder/index.ts","../src/extensions/qrcode-encoder/bit-buffer.ts","../src/extensions/qrcode-encoder/constants.ts","../src/extensions/qrcode-encoder/bit-byte.ts","../src/extensions/qrcode-encoder/block.ts","../src/extensions/qrcode-encoder/math.ts","../src/extensions/qrcode-encoder/polynomial.ts","../src/extensions/qrcode-encoder/util.ts","../src/extensions/qrcode-encoder/index.ts","../src/core/parser/index.ts","../src/core/painter/index.ts","../src/core/player/config.ts","../src/helper/qrcode.ts","../src/helper/png.ts","../src/helper/zlib.ts","../src/helper/VideoManager.ts","../src/helper/VideoEditor.ts","../src/helper/ResourceManager.ts","../src/core/player/index.ts","../src/core/poster/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","const noop = (() => { });\n\nfunction delay(callback, interval) {\n    return new Promise((resolve) => setTimeout(() => resolve(callback()), interval));\n}\nasync function retry(fn, intervals = [], \n/*\n * @private 不建议外部传入\n */\ntimes = 0) {\n    try {\n        return fn();\n    }\n    catch (err) {\n        if (times >= intervals.length) {\n            throw err;\n        }\n        return delay(() => retry(fn, intervals, ++times), intervals[times]);\n    }\n}\n\n// 使用静态缓冲区，避免重复创建\nconst BUFFER_SIZE = 4096; // 更大的缓冲区，减少字符串拼接次数\nconst STATIC_BUFFER = new Uint16Array(BUFFER_SIZE); // 预分配ASCII缓冲区\n/**\n * 优化的 UTF-8 解码函数\n * 主要优化点：\n * 1. 使用静态缓冲区减少内存分配\n * 2. 批量处理 ASCII 字符\n * 3. 优化循环结构和条件判断\n * 4. 使用 Uint16Array 代替普通数组提高性能\n */\nfunction utf8(buffer, start, end) {\n    // 边界检查\n    if (start < 0 || end > buffer.length)\n        throw new RangeError(\"Index out of range\");\n    if (end - start < 1)\n        return \"\";\n    const resultParts = [];\n    let bufferPos = 0;\n    const appendBuffer = (parts) => {\n        resultParts.push(String.fromCharCode.apply(null, Array.from(parts)));\n    };\n    // 快速路径：检查是否全是 ASCII\n    let allAscii = true;\n    for (let i = start; i < end; i++) {\n        if (buffer[i] > 0x7F) {\n            allAscii = false;\n            break;\n        }\n    }\n    // 全 ASCII 优化路径\n    if (allAscii) {\n        for (let i = start; i < end; i += BUFFER_SIZE) {\n            const chunkEnd = Math.min(i + BUFFER_SIZE, end);\n            const len = chunkEnd - i;\n            // 直接复制到 Uint16Array\n            for (let j = 0; j < len; j++) {\n                STATIC_BUFFER[j] = buffer[i + j];\n            }\n            appendBuffer(STATIC_BUFFER.subarray(0, len));\n        }\n        return resultParts.join('');\n    }\n    // 混合内容处理\n    for (let i = start; i < end;) {\n        const byte = buffer[i++];\n        // ASCII 字符处理\n        if (byte < 0x80) {\n            STATIC_BUFFER[bufferPos++] = byte;\n            // 如果缓冲区满了，提交并清空\n            if (bufferPos === BUFFER_SIZE) {\n                appendBuffer(STATIC_BUFFER);\n                bufferPos = 0;\n            }\n            continue;\n        }\n        // 提交之前的 ASCII 字符\n        if (bufferPos > 0) {\n            appendBuffer(STATIC_BUFFER.subarray(0, bufferPos));\n            bufferPos = 0;\n        }\n        // 变长编码处理 - 使用查表法代替多个条件判断\n        let codePoint;\n        // 2 字节序列: 110xxxxx 10xxxxxx\n        if ((byte & 0xE0) === 0xC0 && i < end) {\n            codePoint = ((byte & 0x1F) << 6) | (buffer[i++] & 0x3F);\n        }\n        // 3 字节序列: 1110xxxx 10xxxxxx 10xxxxxx\n        else if ((byte & 0xF0) === 0xE0 && i + 1 < end) {\n            codePoint = ((byte & 0x0F) << 12) |\n                ((buffer[i++] & 0x3F) << 6) |\n                (buffer[i++] & 0x3F);\n        }\n        // 4 字节序列: 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n        else if ((byte & 0xF8) === 0xF0 && i + 2 < end) {\n            codePoint = ((byte & 0x07) << 18) |\n                ((buffer[i++] & 0x3F) << 12) |\n                ((buffer[i++] & 0x3F) << 6) |\n                (buffer[i++] & 0x3F);\n            // 处理 Unicode 代理对\n            if (codePoint > 0xFFFF) {\n                codePoint -= 0x10000;\n                STATIC_BUFFER[bufferPos++] = 0xD800 + (codePoint >> 10);\n                STATIC_BUFFER[bufferPos++] = 0xDC00 + (codePoint & 0x3FF);\n                // 检查缓冲区是否需要提交\n                if (bufferPos >= BUFFER_SIZE - 2) { // 预留空间给下一个可能的代理对\n                    appendBuffer(STATIC_BUFFER.subarray(0, bufferPos));\n                    bufferPos = 0;\n                }\n                continue;\n            }\n        }\n        // 无效的 UTF-8 序列\n        else {\n            codePoint = 0xFFFD; // Unicode 替换字符\n            // 跳过可能的后续字节\n            while (i < end && (buffer[i] & 0xC0) === 0x80)\n                i++;\n        }\n        STATIC_BUFFER[bufferPos++] = codePoint;\n        // 检查缓冲区是否需要提交\n        if (bufferPos >= BUFFER_SIZE - 3) { // 预留空间给下一个可能的多字节字符\n            appendBuffer(STATIC_BUFFER.subarray(0, bufferPos));\n            bufferPos = 0;\n        }\n    }\n    // 提交剩余字符\n    if (bufferPos > 0) {\n        appendBuffer(STATIC_BUFFER.subarray(0, bufferPos));\n    }\n    return resultParts.join('');\n}\n\nclass OctopusPlatform {\n    /**\n     * 插件列表\n     */\n    plugins = [];\n    /**\n     * 平台版本\n     */\n    platformVersion = \"0.1.2\";\n    /**\n     * 应用版本\n     */\n    version = \"\";\n    /**\n     * 全局变量\n     */\n    globals = {\n        env: \"unknown\",\n        br: null,\n        dpr: 1,\n        system: \"unknown\",\n    };\n    noop = noop;\n    retry = retry;\n    constructor(plugins, version) {\n        this.version = version || \"\";\n        this.plugins = plugins;\n        this.globals.env = this.autoEnv();\n    }\n    init() {\n        const { globals, plugins } = this;\n        const collection = new Map();\n        const names = [];\n        const installedPlugins = new Set();\n        globals.br = this.useBridge();\n        globals.dpr = this.usePixelRatio();\n        globals.system = this.useSystem();\n        for (const plugin of plugins) {\n            names.push(plugin.name);\n            collection.set(plugin.name, plugin);\n        }\n        this.usePlugins(collection, names, installedPlugins);\n        installedPlugins.clear();\n    }\n    autoEnv() {\n        // FIXME：由于抖音场景支持wx对象，所以需要放在wx对象之前检查\n        if (typeof window !== \"undefined\") {\n            return \"h5\";\n        }\n        if (typeof tt !== \"undefined\") {\n            return \"tt\";\n        }\n        if (typeof my !== \"undefined\") {\n            return \"alipay\";\n        }\n        if (typeof wx !== \"undefined\") {\n            return \"weapp\";\n        }\n        throw new Error(\"Unsupported platform！\");\n    }\n    useBridge() {\n        switch (this.globals.env) {\n            case \"alipay\":\n                return my;\n            case \"tt\":\n                return tt;\n            case \"weapp\":\n                return wx;\n        }\n        return globalThis;\n    }\n    usePixelRatio() {\n        const { env, br } = this.globals;\n        if (env === \"h5\") {\n            return devicePixelRatio;\n        }\n        if (\"getWindowInfo\" in br) {\n            return br.getWindowInfo().pixelRatio;\n        }\n        if (\"getSystemInfoSync\" in br) {\n            return br.getSystemInfoSync().pixelRatio;\n        }\n        return 1;\n    }\n    useSystem() {\n        const { env } = this.globals;\n        let system;\n        switch (env) {\n            case \"weapp\":\n                system = wx.getDeviceInfo().platform;\n                break;\n            case \"alipay\":\n                system = my.getDeviceBaseInfo().platform;\n                break;\n            case \"tt\":\n                system = tt.getDeviceInfoSync().platform;\n                break;\n            default:\n                system = \"unknown\";\n        }\n        return system.toLowerCase();\n    }\n    usePlugins(plugins, pluginNames, installedPlugins) {\n        for (const pluginName of pluginNames) {\n            if (!plugins.has(pluginName)) {\n                throw new Error(`Plugin ${pluginName} not found`);\n            }\n            if (installedPlugins.has(pluginName)) {\n                return;\n            }\n            const plugin = plugins.get(pluginName);\n            // 递归调用依赖\n            if (Array.isArray(plugin.dependencies)) {\n                for (const dependency of plugin.dependencies) {\n                    if (typeof plugins.get(dependency)?.install !== \"function\") {\n                        throw new Error(`Plugin ${pluginName} depends on plugin ${dependency}, but ${dependency} is not found`);\n                    }\n                }\n                // 递归加载依赖\n                this.usePlugins(plugins, plugin.dependencies, installedPlugins);\n            }\n            this.installPlugin(plugin);\n            installedPlugins.add(pluginName);\n        }\n    }\n    switch(env) {\n        this.globals.env = env;\n        this.init();\n    }\n}\n\n/**\n * 定义平台插件\n */\nconst definePlugin = (plugin) => plugin;\n\nfunction installPlugin(platform, plugin) {\n    const value = plugin.install.call(platform);\n    Object.defineProperty(platform, plugin.name, {\n        get: () => value,\n        enumerable: true,\n        configurable: true,\n    });\n}\n\nvar pluginSelector = definePlugin({\n    name: \"getSelector\",\n    install() {\n        const { env, br } = this.globals;\n        if (env === \"h5\") {\n            return (selector) => document.querySelector(selector);\n        }\n        return (selector, component) => {\n            let query = br.createSelectorQuery();\n            if (component) {\n                query = query.in(component);\n            }\n            return query\n                .select(selector)\n                .fields({ node: true, size: true });\n        };\n    }\n});\n\n/**\n * 通过选择器匹配获取canvas实例\n * @returns\n */\nvar pluginCanvas = definePlugin({\n    name: \"getCanvas\",\n    dependencies: [\"getSelector\"],\n    install() {\n        const { retry, getSelector } = this;\n        const { env, br, dpr } = this.globals;\n        const intervals = [50, 100, 100];\n        function initCanvas(canvas, width, height) {\n            if (!canvas) {\n                throw new Error(\"canvas not found.\");\n            }\n            // const MAX_SIZE = 1365;\n            const context = canvas.getContext(\"2d\");\n            // let virtualWidth = width * dpr;\n            // let virtualHeight = height * dpr;\n            // // 微信小程序限制canvas最大尺寸为 1365 * 1365\n            // if (\n            //   env === \"weapp\" &&\n            //   (virtualWidth > MAX_SIZE || virtualHeight > MAX_SIZE)\n            // ) {\n            //   if (virtualWidth > virtualHeight) {\n            //     virtualHeight = (virtualHeight / virtualWidth) * MAX_SIZE;\n            //     virtualWidth = MAX_SIZE;\n            //   } else {\n            //     virtualWidth = (virtualWidth / virtualHeight) * MAX_SIZE;\n            //     virtualHeight = MAX_SIZE;\n            //   }\n            // }\n            // canvas!.width = virtualWidth;\n            // canvas!.height = virtualHeight;\n            canvas.width = width * dpr;\n            canvas.height = height * dpr;\n            return { canvas, context };\n        }\n        if (env === \"h5\") {\n            return (selector) => retry(() => {\n                // FIXME: Taro 对 canvas 做了特殊处理，canvas 元素的 id 会被加上 canvas-id 的前缀\n                const canvas = (getSelector(`canvas[canvas-id=${selector.slice(1)}]`) || getSelector(selector));\n                return initCanvas(canvas, canvas?.clientWidth, canvas?.clientHeight);\n            }, intervals);\n        }\n        return (selector, component) => retry(() => new Promise((resolve, reject) => {\n            let query = getSelector(selector, component);\n            query.exec((res) => {\n                const { node, width, height } = res[0] || {};\n                try {\n                    resolve(initCanvas(node, width, height));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        }), intervals);\n    },\n});\n\n/**\n * 用于处理数据解码\n * @returns\n */\nvar pluginDecode = definePlugin({\n    name: \"decode\",\n    install() {\n        const { env, br } = this.globals;\n        const b64Wrap = (b64, type = \"image/png\") => `data:${type};base64,${b64}`;\n        const decode = {\n            toBuffer(data) {\n                const { buffer, byteOffset, byteLength } = data;\n                if (buffer instanceof ArrayBuffer) {\n                    return buffer.slice(byteOffset, byteOffset + byteLength);\n                }\n                const view = new Uint8Array(byteLength);\n                view.set(data);\n                return view.buffer;\n            },\n            bytesToString(data) {\n                const chunkSize = 8192; // 安全的块大小\n                let result = \"\";\n                for (let i = 0; i < data.length; i += chunkSize) {\n                    const chunk = data.slice(i, i + chunkSize);\n                    // 在安全的块上使用 String.fromCharCode\n                    result += String.fromCharCode.apply(null, Array.from(chunk));\n                }\n                return result;\n            },\n        };\n        if (env === \"h5\") {\n            const textDecoder = new TextDecoder(\"utf-8\", { fatal: true });\n            return {\n                ...decode,\n                toDataURL: (data) => b64Wrap(btoa(decode.bytesToString(data))),\n                utf8: (data, start, end) => textDecoder.decode(data.subarray(start, end)),\n            };\n        }\n        return {\n            ...decode,\n            toDataURL: (data) => b64Wrap(br.arrayBufferToBase64(decode.toBuffer(data))),\n            utf8,\n        };\n    },\n});\n\n/**\n * 用于处理远程文件读取\n * @returns\n */\nvar pluginDownload = definePlugin({\n    name: \"remote\",\n    install() {\n        const { env, br } = this.globals;\n        const isRemote = (url) => /^(blob:)?http(s)?:\\/\\//.test(url);\n        if (env === \"h5\") {\n            return {\n                is: isRemote,\n                fetch: (url) => fetch(url).then((response) => {\n                    if (response.ok) {\n                        return response.arrayBuffer();\n                    }\n                    throw new Error(`HTTP error, status=${response.status}, statusText=${response.statusText}`);\n                }),\n            };\n        }\n        function download(url, enableCache) {\n            return new Promise((resolve, reject) => {\n                br.request({\n                    url,\n                    // @ts-ignore 支付宝小程序必须有该字段\n                    dataType: \"arraybuffer\",\n                    responseType: \"arraybuffer\",\n                    enableCache,\n                    success: (res) => resolve(res.data),\n                    fail: reject,\n                });\n            }).catch((err) => {\n                const errorMessage = err.errMsg || err.errorMessage || err.message;\n                // FIXME: 可能存在写入网络缓存空间失败的情况，此时重新下载\n                if (errorMessage.includes(\"ERR_CACHE_WRITE_FAILURE\") ||\n                    errorMessage.includes(\"ERR_CACHE_WRITE_FAILED\")) {\n                    return download(url, false);\n                }\n                throw err;\n            });\n        }\n        return {\n            is: isRemote,\n            fetch: (url) => download(url, true),\n        };\n    },\n});\n\n/**\n * 用于处理本地文件存储\n * @returns\n */\nvar pluginFsm = definePlugin({\n    name: \"local\",\n    install() {\n        const { env, br } = this.globals;\n        if (env === \"h5\" || env === \"tt\") {\n            return null;\n        }\n        const fsm = br.getFileSystemManager();\n        return {\n            exists: (filepath) => new Promise((resolve) => {\n                fsm.access({\n                    path: filepath,\n                    success: () => resolve(true),\n                    fail: () => resolve(false),\n                });\n            }),\n            write: (data, filePath) => new Promise((resolve, reject) => {\n                fsm.writeFile({\n                    filePath,\n                    data,\n                    success: () => resolve(filePath),\n                    fail: reject,\n                });\n            }),\n            read: (filePath) => new Promise((resolve, reject) => {\n                fsm.readFile({\n                    filePath,\n                    success: (res) => resolve(res.data),\n                    fail: reject,\n                });\n            }),\n            remove: (filePath) => new Promise((resolve, reject) => {\n                fsm.unlink({\n                    filePath,\n                    success: () => resolve(filePath),\n                    fail: reject,\n                });\n            }),\n        };\n    },\n});\n\n/**\n * 图片加载插件\n * @package plugin-fsm 本地文件存储能力\n * @package plugin-path 路径处理能力\n * @package plugin-decode 解码能力\n */\nvar pluginImage = definePlugin({\n    name: \"image\",\n    dependencies: [\"local\", \"decode\"],\n    install() {\n        const { local, decode } = this;\n        const { env } = this.globals;\n        let genImageSource = (data, _filepath) => (typeof data === \"string\" ? data : decode.toDataURL(data));\n        /**\n         * 加载图片\n         * @param img\n         * @param url\n         * @returns\n         */\n        function loadImage(img, url) {\n            return new Promise((resolve, reject) => {\n                img.onload = () => resolve(img);\n                img.onerror = () => reject(new Error(`SVGA LOADING FAILURE: ${url}`));\n                img.src = url;\n            });\n        }\n        function releaseImage(img) {\n            img.onload = null;\n            img.onerror = null;\n            img.src = \"\";\n        }\n        if (env === \"h5\") {\n            return {\n                create: (_) => new Image(),\n                load: (createImage, data, filepath) => {\n                    // 由于ImageBitmap在图片渲染上有优势，故优先使用\n                    if (data instanceof Uint8Array && \"createImageBitmap\" in globalThis) {\n                        return createImageBitmap(new Blob([decode.toBuffer(data)]));\n                    }\n                    if (data instanceof ImageBitmap) {\n                        return Promise.resolve(data);\n                    }\n                    return loadImage(createImage(), genImageSource(data, filepath));\n                },\n                release: releaseImage,\n            };\n        }\n        // FIXME: 支付宝小程序IDE保存临时文件会失败;抖音最大用户文件大小为10M\n        if (env === \"weapp\") {\n            genImageSource = async (data, filepath) => {\n                if (typeof data === \"string\") {\n                    return data;\n                }\n                // FIXME: IOS设备 微信小程序 Uint8Array转base64 时间较长，使用图片缓存形式速度会更快\n                return local\n                    .write(decode.toBuffer(data), filepath)\n                    .catch((ex) => {\n                    console.warn(`image write fail: ${ex.errorMessage || ex.errMsg || ex.message}`);\n                    return decode.toDataURL(data);\n                });\n            };\n        }\n        return {\n            create: (canvas) => canvas.createImage(),\n            load: async (createImage, data, filepath) => loadImage(createImage(), await genImageSource(data, filepath)),\n            release: releaseImage,\n        };\n    },\n});\n\nvar pluginNow = definePlugin({\n    name: \"now\",\n    install() {\n        const { env, br } = this.globals;\n        // performance可以提供更高精度的时间测量，且不受系统时间的调整（如更改系统时间或同步时间）的影响\n        const perf = env === \"h5\" || env === \"tt\" ? performance : br.getPerformance();\n        if (typeof perf?.now === \"function\") {\n            // 支付宝小程序的performance.now()获取的是当前时间戳，单位是微秒。\n            if (perf.now() - Date.now() > 1) {\n                return () => perf.now() / 1000;\n            }\n            // H5环境下，performance.now()获取的不是当前时间戳，而是从页面加载开始的时间戳，单位是毫秒。\n            return () => perf.now();\n        }\n        return () => Date.now();\n    },\n});\n\n/**\n * 用于创建离屏canvas\n * @returns\n */\nvar pluginOfsCanvas = definePlugin({\n    name: \"getOfsCanvas\",\n    install() {\n        const { env } = this.globals;\n        let createOffscreenCanvas;\n        if (env === \"h5\") {\n            createOffscreenCanvas = (options) => new OffscreenCanvas(options.width, options.height);\n        }\n        else if (env === \"alipay\") {\n            createOffscreenCanvas = (options) => my.createOffscreenCanvas(options);\n        }\n        else if (env === \"tt\") {\n            createOffscreenCanvas = (options) => {\n                const canvas = tt.createOffscreenCanvas();\n                canvas.width = options.width;\n                canvas.height = options.height;\n                return canvas;\n            };\n        }\n        else {\n            createOffscreenCanvas = (options) => wx.createOffscreenCanvas(options);\n        }\n        return (options) => {\n            const type = options.type || \"2d\";\n            const canvas = createOffscreenCanvas({ ...options, type });\n            const context = canvas.getContext(type);\n            return {\n                canvas,\n                context,\n            };\n        };\n    },\n});\n\n/**\n * 用于处理文件路径\n * @returns\n */\nvar pluginPath = definePlugin({\n    name: \"path\",\n    install() {\n        const { env, br } = this.globals;\n        const filename = (path) => {\n            const filepath = path.split(/\\?#/g)[0];\n            return filepath.substring(filepath.lastIndexOf(\"/\") + 1);\n        };\n        if (env === \"h5\" || env === \"tt\") {\n            return {\n                USER_DATA_PATH: \"\",\n                is: (_) => false,\n                filename,\n                resolve: (filename, prefix) => \"\",\n            };\n        }\n        const { USER_DATA_PATH } = br.env;\n        return {\n            USER_DATA_PATH,\n            is: (filepath) => filepath?.startsWith(USER_DATA_PATH),\n            filename,\n            resolve: (filename, prefix) => `${USER_DATA_PATH}/${prefix ? `${prefix}__` : \"\"}${filename}`,\n        };\n    },\n});\n\n/**\n * 用于处理requestAnimationFrame\n * @returns\n */\nvar pluginRaf = definePlugin({\n    name: \"rAF\",\n    install() {\n        const { env } = this.globals;\n        function requestAnimationFrameImpl() {\n            return (callback) => setTimeout(callback, Math.max(0, 16 - (Date.now() % 16)));\n        }\n        if (env === \"h5\") {\n            const rAF = \"requestAnimationFrame\" in globalThis\n                ? requestAnimationFrame\n                : requestAnimationFrameImpl();\n            return (_, callback) => rAF(callback);\n        }\n        return (canvas, callback) => {\n            // 检查canvas是否存在\n            try {\n                return canvas.requestAnimationFrame(callback);\n            }\n            catch (error) {\n                console.warn(error.message);\n                return requestAnimationFrameImpl()(callback);\n            }\n        };\n    },\n});\n\nvar pluginIntersectionObserver = definePlugin({\n    name: \"walkIn\",\n    install() {\n        const { env, br } = this.globals;\n        const thresholds = [0, 0.5, 1];\n        if (env === \"h5\") {\n            return (callback, selector, options = {}) => {\n                let observer = new IntersectionObserver((entries) => callback(entries[0].intersectionRatio > 0), {\n                    threshold: thresholds,\n                    root: options.root ? document.querySelector(options.root) : null,\n                });\n                if (options.observeAll) {\n                    document.querySelectorAll(selector)?.forEach((element) => observer.observe(element));\n                }\n                else {\n                    const element = document.querySelector(selector);\n                    if (element) {\n                        observer.observe(element);\n                    }\n                }\n                return () => {\n                    observer.disconnect();\n                    observer = null;\n                };\n            };\n        }\n        return (callback, selector, options = {}) => {\n            let observer = br.createIntersectionObserver(options.component, {\n                thresholds,\n                initialRatio: 0,\n                observeAll: options.observeAll,\n                // nativeMode: true,\n            });\n            if (options.root) {\n                observer.relativeTo(options.root);\n            }\n            else {\n                observer.relativeToViewport();\n            }\n            observer.observe(selector, (res) => callback(res.intersectionRatio > 0));\n            return () => {\n                observer.disconnect();\n                observer = null;\n            };\n        };\n    },\n});\n\nexport { OctopusPlatform, definePlugin, installPlugin, pluginCanvas, pluginDecode, pluginDownload, pluginFsm, pluginImage, pluginIntersectionObserver, pluginNow, pluginOfsCanvas, pluginPath, pluginRaf as pluginRAF, pluginSelector };\n//# sourceMappingURL=index.js.map\n","import {\n  type OctopusPlatformPlugins,\n  type OctopusPlatformPluginOptions,\n  OctopusPlatform,\n  installPlugin,\n  pluginSelector,\n  pluginCanvas,\n  pluginOfsCanvas,\n  pluginDecode,\n  pluginDownload,\n  pluginFsm,\n  pluginImage,\n  pluginNow,\n  pluginPath,\n  pluginRAF,\n} from \"octopus-platform\";\n\nexport type PlatformProperties =\n  | \"now\"\n  | \"path\"\n  | \"remote\"\n  | \"local\"\n  | \"decode\"\n  | \"image\"\n  | \"rAF\"\n  | \"getSelector\"\n  | \"getCanvas\"\n  | \"getOfsCanvas\";\n\nclass EnhancedPlatform extends OctopusPlatform<PlatformProperties> {\n  now!: OctopusPlatformPlugins[\"now\"];\n\n  path!: OctopusPlatformPlugins[\"path\"];\n\n  remote!: OctopusPlatformPlugins[\"remote\"];\n\n  local!: OctopusPlatformPlugins[\"local\"];\n\n  decode!: OctopusPlatformPlugins[\"decode\"];\n\n  image!: OctopusPlatformPlugins[\"image\"];\n\n  rAF!: OctopusPlatformPlugins[\"rAF\"];\n\n  getSelector!: OctopusPlatformPlugins[\"getSelector\"];\n\n  getCanvas!: OctopusPlatformPlugins[\"getCanvas\"];\n\n  getOfsCanvas!: OctopusPlatformPlugins[\"getOfsCanvas\"];\n\n  constructor() {\n    super(\n      [\n        pluginSelector,\n        pluginCanvas,\n        pluginOfsCanvas,\n        pluginDecode,\n        pluginDownload,\n        pluginFsm,\n        pluginImage,\n        pluginNow,\n        pluginPath,\n        pluginRAF,\n      ],\n      __VERSION__\n    );\n\n    this.init();\n  }\n\n  installPlugin(\n    plugin: OctopusPlatformPluginOptions<PlatformProperties>\n  ) {\n    installPlugin<PlatformProperties>(this, plugin);\n  }\n}\n\nexport const platform = new EnhancedPlatform();\n","function readFloatLEImpl() {\n  // 使用静态DataView池\n  const DATA_VIEW_POOL_SIZE = 4;\n  const dataViewPool: DataView[] = Array(DATA_VIEW_POOL_SIZE)\n    .fill(0)\n    .map(() => new DataView(new ArrayBuffer(8))); // 使用8字节支持double\n  let currentViewIndex = 0;\n\n  return function readFloatLE(buf: Uint8Array, pos: number): number {\n    if (pos < 0 || pos + 4 > buf.length)\n      throw new RangeError(\"Index out of range\");\n\n    // 轮换使用DataView池中的实例\n    const view = dataViewPool[currentViewIndex];\n    currentViewIndex = (currentViewIndex + 1) % DATA_VIEW_POOL_SIZE;\n\n    // 直接设置字节，避免创建subarray\n    const u8 = new Uint8Array(view.buffer);\n    u8[0] = buf[pos];\n    u8[1] = buf[pos + 1];\n    u8[2] = buf[pos + 2];\n    u8[3] = buf[pos + 3];\n\n    return view.getFloat32(0, true);\n  };\n}\n\nexport const readFloatLE = readFloatLEImpl();\n","/**\n * 简易的hash算法\n * @param buff \n * @param start \n * @param end \n * @param step \n * @returns \n */\nexport function calculateHash(buff: Uint8Array, start: number, end: number, step: number) {\n  // 使用简单的哈希算法\n    let hash = 0;\n\n    for (let i = start; i < end; i += step) {\n      // 简单的哈希算法，类似于字符串哈希\n      hash = (hash << 5) - hash + buff[i];\n      hash = hash & hash; // 转换为32位整数\n    }\n\n    // 添加数据长度作为哈希的一部分，增加唯一性\n    hash = (hash << 5) - hash + end - start;\n    hash = hash & hash;\n    // 转换为字符串\n    return hash.toString(36);\n}\n","import { calculateHash } from \"../../../shared/hash\";\nimport Reader from \"./Reader\";\n\nexport class Preflight {\n  private caches: Map<string, any> = new Map();\n\n  private count: number = 0;\n\n  get size() {\n    return this.caches.size;\n  }\n\n  get hitCount() {\n    return this.count;\n  }\n\n  // get cache() {\n  //   return Object.fromEntries(this.caches);\n  // }\n\n  /**\n   * 计算二进制数据的哈希值\n   * @param reader Reader对象\n   * @param end 结束位置\n   * @returns 哈希值\n   */\n  calculate(reader: Reader, end: number): string {\n    // 保存原始位置\n    const { pos: startPos, buf } = reader;\n    const endPos = Math.min(end, reader.len);\n    // 采样数据以加快计算速度，同时保持足够的唯一性\n    // 对于大数据，每隔几个字节采样一次\n    const step = Math.max(1, Math.floor((endPos - startPos) / 100));\n    \n    return calculateHash(buf, startPos, endPos, step);\n  }\n\n  /**\n   * 检查是否存在缓存数据\n   * @param key 键\n   * @returns 是否存在\n   */\n  has(key: string): boolean {\n    const hit = this.caches.has(key);\n\n    if (hit) {\n      this.count++;\n    }\n\n    return hit;\n\n    // return this.caches.has(key);\n  }\n\n  /**\n   * 获取缓存数据\n   * @param key 键\n   * @returns 缓存数据\n   */\n  get(key: string): any {\n    return this.caches.get(key);\n  }\n\n  /**\n   * 设置缓存数据\n   * @param key 键\n   * @param value 缓存数据\n   */\n  set(key: string, value: any) {\n    this.caches.set(key, value);\n  }\n\n  /**\n   * 清空所有缓存数据\n   */\n  clear() {\n    this.count = 0;\n    this.caches.clear();\n  }\n}\n","import { platform } from \"../../../platform\";\nimport { readFloatLE } from \"./float\";\nimport { Preflight } from \"./preflight\";\n\nexport default class Reader {\n  // 添加静态缓存，用于常用的空数组\n  private static EMPTY_UINT8ARRAY = new Uint8Array(0);\n\n  /**\n   * Read buffer.\n   * @type {Uint8Array}\n   */\n  readonly buf: Uint8Array;\n  /**\n   * Read buffer length.\n   * @type {number}\n   */\n  readonly len: number;\n  /**\n   * Read buffer position.\n   * @type {number}\n   */\n  pos: number;\n\n  preflight = new Preflight();\n\n  /**\n   * Constructs a new reader instance using the specified buffer.\n   * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n   * @constructor\n   * @param {Uint8Array} buffer Buffer to read from\n   */\n  constructor(buffer: Uint8Array) {\n    this.buf = buffer;\n    this.pos = 0;\n    this.len = buffer.length;\n  }\n\n  private indexOutOfRange(reader: Reader, writeLength?: number) {\n    return new RangeError(\n      \"index out of range: \" +\n        reader.pos +\n        \" + \" +\n        (writeLength || 1) +\n        \" > \" +\n        reader.len\n    );\n  }\n\n  /**\n   * 将复杂逻辑分离到单独方法\n   * @returns\n   */\n  private readVarint32Slow() {\n    let byte = this.buf[this.pos++];\n    let value = byte & 0x7f;\n    let shift = 7;\n\n    // 使用do-while循环减少条件判断\n    do {\n      if (this.pos >= this.len) {\n        throw this.indexOutOfRange(this);\n      }\n\n      byte = this.buf[this.pos++];\n      value |= (byte & 0x7f) << shift;\n      shift += 7;\n    } while (byte >= 128 && shift < 32);\n\n    return value >>> 0; // 确保无符号\n  }\n\n  /**\n   * Reads a sequence of bytes preceded by its length as a varint.\n   * @param length \n   * @returns \n   */\n  end(length?: number) {\n    return length === undefined ? this.len : this.pos + length\n  }\n\n  /**\n   * Reads a varint as an unsigned 32 bit value.\n   * @function\n   * @returns {number} Value read\n   */\n  uint32() {\n    // 快速路径：大多数情况下是单字节\n    const byte = this.buf[this.pos];\n\n    if (byte < 128) {\n      this.pos++;\n\n      return byte;\n    }\n\n    // 慢速路径：多字节处理\n    return this.readVarint32Slow();\n  }\n\n  /**\n   * Reads a varint as a signed 32 bit value.\n   * @returns {number} Value read\n   */\n  int32() {\n    return this.uint32() | 0;\n  }\n\n  /**\n   * Reads a float (32 bit) as a number.\n   * @function\n   * @returns {number} Value read\n   */\n  float() {\n    const pos = this.pos + 4;\n\n    if (pos > this.len) {\n      throw this.indexOutOfRange(this, 4);\n    }\n\n    const value = readFloatLE(this.buf, this.pos);\n    this.pos = pos;\n\n    return value;\n  }\n\n  /**\n   * read bytes range\n   * @returns \n   */\n  private getBytesRange() {\n    const length = this.uint32();\n    const start = this.pos;\n    const end = start + length;\n\n    if (end > this.len) {\n      throw this.indexOutOfRange(this, length);\n    }\n\n    return [start, end, length];\n  }\n\n  /**\n   * Reads a sequence of bytes preceded by its length as a varint.\n   * @returns {Uint8Array} Value read\n   */\n  bytes() {\n    const [start, end, length] = this.getBytesRange();\n\n    this.pos += length;\n\n    if (length === 0) {\n      return Reader.EMPTY_UINT8ARRAY;\n    }\n\n    return this.buf.subarray(start, end);\n  }\n\n  /**\n   * Reads a string preceeded by its byte length as a varint.\n   * @returns {string} Value read\n   */\n  string() {\n    const [start, end] = this.getBytesRange();\n    // 直接在原始buffer上解码，避免创建中间bytes对象\n    const result = platform.decode.utf8(this.buf, start, end);\n    this.pos = end;\n\n    return result;\n  }\n\n  /**\n   * Skips the specified number of bytes if specified, otherwise skips a varint.\n   * @param {number} [length] Length if known, otherwise a varint is assumed\n   * @returns {Reader} `this`\n   */\n  skip(length?: number) {\n    if (typeof length === \"number\") {\n      if (this.pos + length > this.len) {\n        throw this.indexOutOfRange(this, length);\n      }\n\n      this.pos += length;\n\n      return this;\n    }\n    \n    // 变长整数跳过优化 - 使用位运算\n    const { buf, len } = this;\n    let pos = this.pos;\n    \n    // 一次检查多个字节，减少循环次数\n    while (pos < len) {\n      const byte = buf[pos++];\n\n      if ((byte & 0x80) === 0) {\n        this.pos = pos;\n\n        return this;\n      }\n\n      // 快速检查连续的高位字节\n      if (pos < len && (buf[pos] & 0x80) !== 0) {\n        pos++;\n\n        if (pos < len && (buf[pos] & 0x80) !== 0) {\n          pos++;\n\n          if (pos < len && (buf[pos] & 0x80) !== 0) {\n            pos++;\n\n            // 继续检查剩余字节\n            while (pos < len && (buf[pos] & 0x80) !== 0) {\n              pos++;\n\n              if (pos - this.pos >= 10) {\n                throw Error(\"invalid varint encoding\");\n              }\n            }\n\n            if (pos < len) {\n              this.pos = pos + 1;\n\n              return this;\n            }\n          }\n        }\n      }\n    }\n    \n    throw this.indexOutOfRange(this);\n  }\n\n  /**\n   * Skips the next element of the specified wire type.\n   * @param {number} wireType Wire type received\n   * @returns {Reader} `this`\n   */\n  skipType(wireType: number) {\n    switch (wireType) {\n      case 0:\n        this.skip();\n        break;\n      case 1:\n        this.skip(8);\n        break;\n      case 2:\n        this.skip(this.uint32());\n        break;\n      case 3:\n        while ((wireType = this.uint32() & 7) !== 4) {\n          this.skipType(wireType);\n        }\n        break;\n      case 5:\n        this.skip(4);\n        break;\n\n      /* istanbul ignore next */\n      default:\n        throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n\n    return this;\n  }\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class Layout {\n  /**\n   * Decodes a Layout message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.Layout\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.Layout} Layout\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.Rect {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new Layout();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.x = reader.float();\n          break;\n        }\n        case 2: {\n          message.y = reader.float();\n          break;\n        }\n        case 3: {\n          message.width = reader.float();\n          break;\n        }\n        case 4: {\n          message.height = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, Layout.format(message));\n\n    return preflight.get(hash);\n  }\n\n  static format(message: Layout): PlatformVideo.Rect {\n    const { x = 0, y = 0, width = 0, height = 0 } = message;\n\n    return { x, y, width, height };\n  }\n\n  /**\n   * Layout x.\n   * @member {number} x\n   * @memberof com.opensource.svga.Layout\n   * @instance\n   */\n  x: number = 0;\n  /**\n   * Layout y.\n   * @member {number} y\n   * @memberof com.opensource.svga.Layout\n   * @instance\n   */\n  y: number = 0;\n  /**\n   * Layout width.\n   * @member {number} width\n   * @memberof com.opensource.svga.Layout\n   * @instance\n   */\n  width: number = 0;\n  /**\n   * Layout height.\n   * @member {number} height\n   * @memberof com.opensource.svga.Layout\n   * @instance\n   */\n  height: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class Transform {\n  /**\n   * Decodes a Transform message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.Transform\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.Transform} Transform\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.Transform {\n    const end = reader.end(length);\n    const message = new Transform();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.a = reader.float();\n          break;\n        }\n        case 2: {\n          message.b = reader.float();\n          break;\n        }\n        case 3: {\n          message.c = reader.float();\n          break;\n        }\n        case 4: {\n          message.d = reader.float();\n          break;\n        }\n        case 5: {\n          message.tx = reader.float();\n          break;\n        }\n        case 6: {\n          message.ty = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    return message;\n  }\n\n  /**\n   * Transform a.\n   * @member {number} a\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  a: number = 0;\n  /**\n   * Transform b.\n   * @member {number} b\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  b: number = 0;\n  /**\n   * Transform c.\n   * @member {number} c\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  c: number = 0;\n  /**\n   * Transform d.\n   * @member {number} d\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  d: number = 0;\n  /**\n   * Transform tx.\n   * @member {number} tx\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  tx: number = 0;\n  /**\n   * Transform ty.\n   * @member {number} ty\n   * @memberof com.opensource.svga.Transform\n   * @instance\n   */\n  ty: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\n/**\n * Properties of a ShapeArgs.\n * @memberof com.opensource.svga.ShapeEntity\n * @interface IShapeArgs\n * @property {string|null} [d] ShapeArgs d\n */\nexport interface ShapeArgsProps {\n  d: string | null;\n}\n\nexport default class ShapeArgs {\n  /**\n   * Decodes a ShapeArgs message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity.ShapeArgs\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity.ShapeArgs} ShapeArgs\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.ShapePath {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new ShapeArgs();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.d = reader.string();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, message);\n\n    return preflight.get(hash);\n  }\n\n  /**\n   * ShapeArgs d.\n   * @member {string} d\n   * @memberof com.opensource.svga.ShapeEntity.ShapeArgs\n   * @instance\n   */\n  d: string = \"\";\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\n/**\n * Properties of a RectArgs.\n * @memberof com.opensource.svga.ShapeEntity\n * @interface IRectArgs\n * @property {number|null} [x] RectArgs x\n * @property {number|null} [y] RectArgs y\n * @property {number|null} [width] RectArgs width\n * @property {number|null} [height] RectArgs height\n * @property {number|null} [cornerRadius] RectArgs cornerRadius\n */\nexport interface RectArgsProps {\n  x: number | null;\n  y: number | null;\n  width: number | null;\n  height: number | null;\n  cornerRadius: number | null;\n}\n\nexport default class RectArgs {\n  /**\n   * Decodes a RectArgs message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity.RectArgs} RectArgs\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.RectPath {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new RectArgs();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.x = reader.float();\n          break;\n        }\n        case 2: {\n          message.y = reader.float();\n          break;\n        }\n        case 3: {\n          message.width = reader.float();\n          break;\n        }\n        case 4: {\n          message.height = reader.float();\n          break;\n        }\n        case 5: {\n          message.cornerRadius = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, message);\n\n    return preflight.get(hash);\n  }\n\n  /**\n   * RectArgs x.\n   * @member {number} x\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @instance\n   */\n  x: number = 0;\n  /**\n   * RectArgs y.\n   * @member {number} y\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @instance\n   */\n  y: number = 0;\n  /**\n   * RectArgs width.\n   * @member {number} width\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @instance\n   */\n  width: number = 0;\n  /**\n   * RectArgs height.\n   * @member {number} height\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @instance\n   */\n  height: number = 0;\n  /**\n   * RectArgs cornerRadius.\n   * @member {number} cornerRadius\n   * @memberof com.opensource.svga.ShapeEntity.RectArgs\n   * @instance\n   */\n  cornerRadius: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class EllipseArgs {\n  /**\n   * Decodes an EllipseArgs message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity.EllipseArgs\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity.EllipseArgs} EllipseArgs\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.EllipsePath {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new EllipseArgs();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.x = reader.float();\n          break;\n        }\n        case 2: {\n          message.y = reader.float();\n          break;\n        }\n        case 3: {\n          message.radiusX = reader.float();\n          break;\n        }\n        case 4: {\n          message.radiusY = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, message);\n\n    return preflight.get(hash);\n  }\n\n  /**\n   * EllipseArgs x.\n   * @member {number} x\n   * @memberof com.opensource.svga.ShapeEntity.EllipseArgs\n   * @instance\n   */\n  x: number = 0;\n  /**\n   * EllipseArgs y.\n   * @member {number} y\n   * @memberof com.opensource.svga.ShapeEntity.EllipseArgs\n   * @instance\n   */\n  y: number = 0;\n  /**\n   * EllipseArgs radiusX.\n   * @member {number} radiusX\n   * @memberof com.opensource.svga.ShapeEntity.EllipseArgs\n   * @instance\n   */\n  radiusX: number = 0;\n  /**\n   * EllipseArgs radiusY.\n   * @member {number} radiusY\n   * @memberof com.opensource.svga.ShapeEntity.EllipseArgs\n   * @instance\n   */\n  radiusY: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\n/**\n * Properties of a RGBAColor.\n * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n * @interface IRGBAColor\n * @property {number|null} [r] RGBAColor r\n * @property {number|null} [g] RGBAColor g\n * @property {number|null} [b] RGBAColor b\n * @property {number|null} [a] RGBAColor a\n */\nexport interface RGBAColorProps {\n  r: number | null;\n  g: number | null;\n  b: number | null;\n  a: number | null;\n}\n\nexport default class RGBAColor {\n  /**\n   * Decodes a RGBAColor message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor} RGBAColor\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.RGBA<number, number, number, number> {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new RGBAColor();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.r = reader.float();\n          break;\n        }\n        case 2: {\n          message.g = reader.float();\n          break;\n        }\n        case 3: {\n          message.b = reader.float();\n          break;\n        }\n        case 4: {\n          message.a = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, RGBAColor.format(message));\n\n    return preflight.get(hash);\n  }\n\n  static format(\n    message: RGBAColor\n  ): PlatformVideo.RGBA<number, number, number, number> {\n    const { r, g, b, a } = message;\n\n    return `rgba(${(r * 255) | 0}, ${(g * 255) | 0}, ${(b * 255) | 0}, ${\n      (a * 1) | 0\n    })`;\n  }\n\n  /**\n   * RGBAColor r.\n   * @member {number} r\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor\n   * @instance\n   */\n  r: number = 0;\n  /**\n   * RGBAColor g.\n   * @member {number} g\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor\n   * @instance\n   */\n  g: number = 0;\n  /**\n   * RGBAColor b.\n   * @member {number} b\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor\n   * @instance\n   */\n  b: number = 0;\n  /**\n   * RGBAColor a.\n   * @member {number} a\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle.RGBAColor\n   * @instance\n   */\n  a: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport RGBAColor from \"./RGBAColor\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class ShapeStyle {\n  /**\n   * Decodes a ShapeStyle message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity.ShapeStyle} ShapeStyle\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.VideoStyles {\n    const { preflight } = reader;\n    const end = reader.end(length);\n    const hash = preflight.calculate(reader, end);\n\n    if (preflight.has(hash)) {\n      reader.pos = end;\n      return preflight.get(hash);\n    }\n\n    const message = new ShapeStyle();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.fill = RGBAColor.decode(\n            reader,\n            reader.uint32()\n          );\n          break;\n        }\n        case 2: {\n          message.stroke = RGBAColor.decode(\n            reader,\n            reader.uint32()\n          );\n          break;\n        }\n        case 3: {\n          message.strokeWidth = reader.float();\n          break;\n        }\n        case 4: {\n          message.lineCap = reader.int32();\n          break;\n        }\n        case 5: {\n          message.lineJoin = reader.int32();\n          break;\n        }\n        case 6: {\n          message.miterLimit = reader.float();\n          break;\n        }\n        case 7: {\n          message.lineDashI = reader.float();\n          break;\n        }\n        case 8: {\n          message.lineDashII = reader.float();\n          break;\n        }\n        case 9: {\n          message.lineDashIII = reader.float();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    preflight.set(hash, ShapeStyle.format(message));\n\n    return preflight.get(hash);\n  }\n\n  static format(message: ShapeStyle): PlatformVideo.VideoStyles {\n    const { fill, stroke, strokeWidth, miterLimit, lineDashI, lineDashII, lineDashIII } = message;\n    const lineDash: number[] = [];\n    let lineCap: CanvasLineCap;\n    let lineJoin: CanvasLineJoin;\n\n    if (lineDashI > 0) {\n      lineDash.push(lineDashI);\n    }\n\n    if (lineDashII > 0) {\n      if (lineDash.length < 1) {\n        lineDash.push(0);\n      }\n\n      lineDash.push(lineDashII);\n    }\n\n    if (lineDashIII > 0) {\n      if (lineDash.length < 2) {\n        lineDash.push(0, 0);\n      }\n\n      lineDash.push(lineDashIII);\n    }\n\n    switch (message.lineCap) {\n      case PlatformVideo.LINE_CAP_CODE.BUTT:\n        lineCap = PlatformVideo.LINE_CAP.BUTT;\n        break;\n      case PlatformVideo.LINE_CAP_CODE.ROUND:\n        lineCap = PlatformVideo.LINE_CAP.ROUND;\n        break;\n      case PlatformVideo.LINE_CAP_CODE.SQUARE:\n        lineCap = PlatformVideo.LINE_CAP.SQUARE;\n        break;\n    }\n\n    switch (message.lineJoin) {\n      case PlatformVideo.LINE_JOIN_CODE.MITER:\n        lineJoin = PlatformVideo.LINE_JOIN.MITER;\n        break;\n      case PlatformVideo.LINE_JOIN_CODE.ROUND:\n        lineJoin = PlatformVideo.LINE_JOIN.ROUND;\n        break;\n      case PlatformVideo.LINE_JOIN_CODE.BEVEL:\n        lineJoin = PlatformVideo.LINE_JOIN.BEVEL;\n        break;\n    }\n\n    return {\n      lineDash,\n      fill: fill ? fill : null,\n      stroke: stroke ? stroke : null,\n      lineCap,\n      lineJoin,\n      strokeWidth,\n      miterLimit\n    }\n  }\n\n  /**\n   * ShapeStyle fill.\n   * @member {com.opensource.svga.ShapeEntity.ShapeStyle.IRGBAColor|null|undefined} fill\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  fill: PlatformVideo.RGBA<number, number, number, number> | null = null;\n  /**\n   * ShapeStyle stroke.\n   * @member {com.opensource.svga.ShapeEntity.ShapeStyle.IRGBAColor|null|undefined} stroke\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  stroke: PlatformVideo.RGBA<number, number, number, number> | null = null;\n  /**\n   * ShapeStyle strokeWidth.\n   * @member {number} strokeWidth\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  strokeWidth: number = 0;\n  /**\n   * ShapeStyle lineCap.\n   * @member {com.opensource.svga.ShapeEntity.ShapeStyle.LineCap} lineCap\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  lineCap: PlatformVideo.LINE_CAP_CODE = 0;\n  /**\n   * ShapeStyle lineJoin.\n   * @member {com.opensource.svga.ShapeEntity.ShapeStyle.LineJoin} lineJoin\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  lineJoin: PlatformVideo.LINE_JOIN_CODE = 0;\n  /**\n   * ShapeStyle miterLimit.\n   * @member {number} miterLimit\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  miterLimit: number = 0;\n  /**\n   * ShapeStyle lineDashI.\n   * @member {number} lineDashI\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  lineDashI: number = 0;\n  /**\n   * ShapeStyle lineDashII.\n   * @member {number} lineDashII\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  lineDashII: number = 0;\n  /**\n   * ShapeStyle lineDashIII.\n   * @member {number} lineDashIII\n   * @memberof com.opensource.svga.ShapeEntity.ShapeStyle\n   * @instance\n   */\n  lineDashIII: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport Transform from \"./Transform\";\nimport ShapeArgs from \"./ShapeArgs\";\nimport RectArgs from \"./RectArgs\";\nimport EllipseArgs from \"./EllipseArgs\";\nimport ShapeStyle from \"./ShapeStyle\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class ShapeEntity {\n  /**\n   * Decodes a ShapeEntity message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.ShapeEntity\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.ShapeEntity} ShapeEntity\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.VideoFrameShape | null {\n    const end = reader.end(length);\n    const message = new ShapeEntity();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.type = reader.int32();\n          break;\n        }\n        case 2: {\n          message.shape = ShapeArgs.decode(reader, reader.uint32());\n          break;\n        }\n        case 3: {\n          message.rect = RectArgs.decode(reader, reader.uint32());\n          break;\n        }\n        case 4: {\n          message.ellipse = EllipseArgs.decode(\n            reader,\n            reader.uint32()\n          );\n          break;\n        }\n        case 10: {\n          message.styles = ShapeStyle.decode(\n            reader,\n            reader.uint32()\n          );\n          break;\n        }\n        case 11: {\n          message.transform = Transform.decode(reader, reader.uint32());\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    return ShapeEntity.format(message);\n  }\n\n  static format(message: ShapeEntity): PlatformVideo.VideoFrameShape | null {\n    const { type, shape, rect, ellipse, styles, transform } = message;\n\n    switch (type) {\n      case PlatformVideo.SHAPE_TYPE_CODE.SHAPE:\n        return {\n          type: PlatformVideo.SHAPE_TYPE.SHAPE,\n          path: shape!,\n          styles: styles!,\n          transform: transform!,\n        };\n      case PlatformVideo.SHAPE_TYPE_CODE.RECT:\n        return {\n          type: PlatformVideo.SHAPE_TYPE.RECT,\n          path: rect!,\n          styles: styles!,\n          transform: transform!,\n        };\n      case PlatformVideo.SHAPE_TYPE_CODE.ELLIPSE:\n        return {\n          type: PlatformVideo.SHAPE_TYPE.ELLIPSE,\n          path: ellipse!,\n          styles: styles!,\n          transform: transform!,\n        };\n      default:\n    }\n\n    return null;\n  }\n\n  /**\n   * ShapeEntity type.\n   * @member {com.opensource.svga.ShapeEntity.ShapeType} type\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  type: PlatformVideo.SHAPE_TYPE_CODE = 0;\n  /**\n   * ShapeEntity shape.\n   * @member {com.opensource.svga.ShapeEntity.IShapeArgs|null|undefined} shape\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  shape: PlatformVideo.ShapePath | null = null;\n  /**\n   * ShapeEntity rect.\n   * @member {com.opensource.svga.ShapeEntity.IRectArgs|null|undefined} rect\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  rect: PlatformVideo.RectPath | null = null;\n  /**\n   * ShapeEntity ellipse.\n   * @member {com.opensource.svga.ShapeEntity.IEllipseArgs|null|undefined} ellipse\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  ellipse: PlatformVideo.EllipsePath | null = null;\n  /**\n   * ShapeEntity styles.\n   * @member {com.opensource.svga.ShapeEntity.IShapeStyle|null|undefined} styles\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  styles: PlatformVideo.VideoStyles | null = null;\n  /**\n   * ShapeEntity transform.\n   * @member {com.opensource.svga.ITransform|null|undefined} transform\n   * @memberof com.opensource.svga.ShapeEntity\n   * @instance\n   */\n  transform: PlatformVideo.Transform | null = null;\n}\n","import Reader from \"../io/Reader\";\nimport Layout from \"./Layout\";\nimport Transform from \"./Transform\";\nimport ShapeEntity from \"./ShapeEntity\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class FrameEntity {\n  private static HIDDEN_FRAME: PlatformVideo.HiddenVideoFrame = {\n    alpha: 0,\n  };\n\n  /**\n   * Decodes a FrameEntity message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.FrameEntity\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.FrameEntity} FrameEntity\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.VideoFrame | PlatformVideo.HiddenVideoFrame {\n    const end = reader.end(length);\n    const message = new FrameEntity();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.alpha = reader.float();\n          break;\n        }\n        case 2: {\n          message.layout = Layout.decode(reader, reader.uint32());\n          break;\n        }\n        case 3: {\n          message.transform = Transform.decode(reader, reader.uint32());\n          break;\n        }\n        case 4: {\n          message.clipPath = reader.string();\n          break;\n        }\n        case 5: {\n          const shape = ShapeEntity.decode(reader, reader.uint32())\n\n          if (shape !== null) {\n            message.shapes.push(shape);\n          }\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    if (message.shapes.length === 0) {\n      message.shapes = reader.preflight.get(\"latest_shapes\");\n    } else {\n      reader.preflight.set(\"latest_shapes\", message.shapes);\n    }\n\n    return FrameEntity.format(message);\n  }\n\n  private static format(message: FrameEntity): PlatformVideo.VideoFrame | PlatformVideo.HiddenVideoFrame {\n    // alpha值小于 0.05 将不展示，所以不做解析处理\n    if (message.alpha < 0.05) {\n      return FrameEntity.HIDDEN_FRAME;\n    }\n\n    const { alpha, layout, transform, shapes } = message;\n\n    return {\n      alpha,\n      layout: layout!,\n      transform,\n      shapes,\n    };\n  }\n\n  /**\n   * FrameEntity shapes.\n   * @member {Array.<com.opensource.svga.IShapeEntity>} shapes\n   * @memberof com.opensource.svga.FrameEntity\n   * @instance\n   */\n  shapes: PlatformVideo.VideoFrameShape[] = [];\n  /**\n   * FrameEntity alpha.\n   * @member {number} alpha\n   * @memberof com.opensource.svga.FrameEntity\n   * @instance\n   */\n  alpha: number = 0;\n  /**\n   * FrameEntity layout.\n   * @member {com.opensource.svga.ILayout|null|undefined} layout\n   * @memberof com.opensource.svga.FrameEntity\n   * @instance\n   */\n  layout: PlatformVideo.Rect | null = null;\n  /**\n   * FrameEntity transform.\n   * @member {com.opensource.svga.ITransform|null|undefined} transform\n   * @memberof com.opensource.svga.FrameEntity\n   * @instance\n   */\n  transform: PlatformVideo.Transform | null = null;\n  /**\n   * FrameEntity clipPath.\n   * @member {string} clipPath\n   * @memberof com.opensource.svga.FrameEntity\n   * @instance\n   */\n  clipPath: string = \"\";\n}\n","import Reader from \"../io/Reader\";\nimport FrameEntity from \"./FrameEntity\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class SpriteEntity {\n  /**\n   * Decodes a SpriteEntity message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.SpriteEntity\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.SpriteEntity} SpriteEntity\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.VideoSprite {\n    const end = reader.end(length);\n    const message = new SpriteEntity();\n    let tag: number;\n\n    reader.preflight.set(\"latest_shapes\", []);\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.imageKey = reader.string();\n          break;\n        }\n        case 2: {\n          if (!(message.frames && message.frames.length)) {\n            message.frames = [];\n          }\n\n          message.frames.push(FrameEntity.decode(reader, reader.uint32()));\n          break;\n        }\n        case 3: {\n          message.matteKey = reader.string();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    return SpriteEntity.format(message);\n  }\n\n  static format(message: SpriteEntity): PlatformVideo.VideoSprite {\n    return {\n      imageKey: message.imageKey,\n      frames: message.frames,\n    };\n  }\n\n  /**\n   * SpriteEntity frames.\n   * @member {Array.<com.opensource.svga.IFrameEntity>} frames\n   * @memberof com.opensource.svga.SpriteEntity\n   * @instance\n   */\n  frames: Array<PlatformVideo.VideoFrame | PlatformVideo.HiddenVideoFrame> = [];\n  /**\n   * SpriteEntity imageKey.\n   * @member {string} imageKey\n   * @memberof com.opensource.svga.SpriteEntity\n   * @instance\n   */\n  imageKey: string = \"\";\n  /**\n   * SpriteEntity matteKey.\n   * @member {string} matteKey\n   * @memberof com.opensource.svga.SpriteEntity\n   * @instance\n   */\n  matteKey: string = \"\";\n}\n","import Reader from \"../io/Reader\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class MovieParams {\n  /**\n   * Decodes a MovieParams message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.MovieParams\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.MovieParams} MovieParams\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.VideoParams {\n    const end = reader.end(length);\n    const message = new MovieParams();\n    let tag: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.viewBoxWidth = reader.float();\n          break;\n        }\n        case 2: {\n          message.viewBoxHeight = reader.float();\n          break;\n        }\n        case 3: {\n          message.fps = reader.int32();\n          break;\n        }\n        case 4: {\n          message.frames = reader.int32();\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    return message;\n  }\n\n  /**\n   * MovieParams viewBoxWidth.\n   * @member {number} viewBoxWidth\n   * @memberof com.opensource.svga.MovieParams\n   * @instance\n   */\n  viewBoxWidth: number = 0;\n  /**\n   * MovieParams viewBoxHeight.\n   * @member {number} viewBoxHeight\n   * @memberof com.opensource.svga.MovieParams\n   * @instance\n   */\n  viewBoxHeight: number = 0;\n  /**\n   * MovieParams fps.\n   * @member {number} fps\n   * @memberof com.opensource.svga.MovieParams\n   * @instance\n   */\n  fps: number = 0;\n  /**\n   * MovieParams frames.\n   * @member {number} frames\n   * @memberof com.opensource.svga.MovieParams\n   * @instance\n   */\n  frames: number = 0;\n}\n","import Reader from \"../io/Reader\";\nimport SpriteEntity from \"./SpriteEntity\";\nimport MovieParams from \"./MovieParams\";\nimport { PlatformVideo } from \"../../../types/video\";\n\nexport default class MovieEntity {\n  static EMPTY_U8 = new Uint8Array(0);\n  /**\n   * Decodes a MovieEntity message from the specified reader.\n   * @function decode\n   * @memberof com.opensource.svga.MovieEntity\n   * @static\n   * @param {$protobuf.Reader} reader Reader to decode from\n   * @param {number} [length] Message length if known beforehand\n   * @returns {com.opensource.svga.MovieEntity} MovieEntity\n   * @throws {Error} If the payload is not a reader or valid buffer\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\n   */\n  static decode(reader: Reader, length?: number): PlatformVideo.Video {\n    const end = reader.end(length);\n    const message = new MovieEntity();\n    let key: string;\n    let value: Uint8Array;\n    let end2: number;\n    let tag: number;\n    let tag2: number;\n\n    while (reader.pos < end) {\n      tag = reader.uint32();\n\n      switch (tag >>> 3) {\n        case 1: {\n          message.version = reader.string();\n          break;\n        }\n        case 2: {\n          message.params = MovieParams.decode(reader, reader.uint32());\n          break;\n        }\n        case 3: {\n          end2 = reader.uint32() + reader.pos;\n          key = \"\";\n          value = MovieEntity.EMPTY_U8;\n\n          while (reader.pos < end2) {\n            tag2 = reader.uint32();\n            switch (tag2 >>> 3) {\n              case 1:\n                key = reader.string();\n                break;\n              case 2:\n                value = reader.bytes();\n                break;\n              default:\n                reader.skipType(tag2 & 7);\n                break;\n            }\n          }\n\n          message.images[key] = value;\n          break;\n        }\n        case 4: {\n          message.sprites.push(SpriteEntity.decode(reader, reader.uint32()));\n          break;\n        }\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n\n    return MovieEntity.format(message);\n  }\n\n  static format(message: MovieEntity): PlatformVideo.Video {\n    const { version, images, sprites } = message;\n    const { fps, frames, viewBoxWidth, viewBoxHeight } = message.params!;\n\n    return {\n      version,\n      filename: \"\",\n      locked: false,\n      dynamicElements: {},\n      size: {\n        width: viewBoxWidth,\n        height: viewBoxHeight,\n      },\n      fps,\n      frames,\n      images,\n      sprites,\n    };\n  }\n\n  /**\n   * MovieEntity version.\n   * @member {string} version\n   * @memberof com.opensource.svga.MovieEntity\n   * @instance\n   */\n  version: string = \"\";\n  /**\n   * MovieEntity params.\n   * @member {com.opensource.svga.IMovieParams|null|undefined} params\n   * @memberof com.opensource.svga.MovieEntity\n   * @instance\n   */\n  params: MovieParams | null = null;\n  /**\n   * MovieEntity images.\n   * @member {Object.<string,Uint8Array>} images\n   * @memberof com.opensource.svga.MovieEntity\n   * @instance\n   */\n  images: Record<string, Uint8Array> = {};\n  /**\n   * MovieEntity sprites.\n   * @member {Array.<com.opensource.svga.ISpriteEntity>} sprites\n   * @memberof com.opensource.svga.MovieEntity\n   * @instance\n   */\n  sprites: PlatformVideo.VideoSprite[] = [];\n}\n","// import benchmark from \"octopus-benchmark\";\nimport Reader from \"./io/Reader\";\nimport { MovieEntity } from \"./serialization\";\n\nexport type * from \"./serialization\";\n\nexport function createVideoEntity(data: Uint8Array, filename: string) {\n  if (data instanceof Uint8Array) {\n    const reader = new Reader(data);\n    const video = MovieEntity.decode(reader);\n\n    // benchmark.log('preflight cache size', reader.preflight.size);\n    // benchmark.log('preflight hit count', reader.preflight.hitCount);\n    video.filename = filename;\n    reader.preflight.clear();\n\n    return video;\n  }\n\n  throw new Error(\"Invalid data type\");\n}\n","export interface CurrentPoint {\n  x: number;\n  y: number;\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n}\n\n/**\n * CurrentPoint对象池，用于减少对象创建和GC压力\n */\nexport class PointPool {\n  private pool: CurrentPoint[] = [];\n\n  public acquire(): CurrentPoint {\n    const { pool } = this;\n\n    return pool.length > 0\n      ? pool.pop()!\n      : { x: 0, y: 0, x1: 0, y1: 0, x2: 0, y2: 0 };\n  }\n\n  public release(point: CurrentPoint): void {\n    // 重置点的属性\n    point.x = point.y = point.x1 = point.y1 = point.x2 = point.y2 = 0;\n    this.pool.push(point);\n  }\n}\n","import { type Bitmap } from \"octopus-platform\";\nimport { PointPool, CurrentPoint } from \"../../../shared/PointPool\";\nimport {\n  PlatformVideo,\n  type TransformScale,\n  type PlatformRenderingContext2D,\n  type CanvasSize,\n  PLAYER_CONTENT_MODE\n} from \"../../../types\";\n\nexport interface ICommand {\n  command: string;\n  args: string;\n}\n\nexport class Renderer2D {\n  /**\n   * https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths\n   * 绘制路径的不同指令：\n   * * 直线命令\n   * - M: moveTo，移动到指定点，不绘制直线。\n   * - L: lineTo，从起始点绘制一条直线到指定点。\n   * - H: horizontal lineTo，从起始点绘制一条水平线到指定点。\n   * - V: vertical lineTo，从起始点绘制一条垂直线到指定点。\n   * - Z: closePath，从起始点绘制一条直线到路径起点，形成一个闭合路径。\n   * * 曲线命令\n   * - C: bezierCurveTo，绘制三次贝塞尔曲线。\n   * - S: smooth curveTo，绘制平滑三次贝塞尔曲线。\n   * - Q: quadraticCurveTo，绘制两次贝塞尔曲线。\n   * - T: smooth quadraticCurveTo，绘制平滑两次贝塞尔曲线。\n   * * 弧线命令\n   * - A: arcTo，从起始点绘制一条弧线到指定点。\n   */\n  private static SVG_PATH = new Set([\n    \"M\",\n    \"L\",\n    \"H\",\n    \"V\",\n    \"Z\",\n    \"C\",\n    \"S\",\n    \"Q\",\n    \"m\",\n    \"l\",\n    \"h\",\n    \"v\",\n    \"z\",\n    \"c\",\n    \"s\",\n    \"q\",\n  ]);\n\n  private static SVG_LETTER_REGEXP = /[a-zA-Z]/;\n\n  // 在Renderer2D类中添加新的解析方法\n  private static parseSVGPath(d: string): ICommand[] {\n    const { SVG_LETTER_REGEXP } = Renderer2D;\n    const result: ICommand[] = [];\n    let currentIndex = 0;\n\n    // 状态：0 - 等待命令，1 - 读取参数\n    let state = 0;\n    let currentCommand = \"\";\n    let currentArgs = \"\";\n\n    while (currentIndex < d.length) {\n      const char = d[currentIndex];\n\n      switch (state) {\n        case 0: // 等待命令\n          if (SVG_LETTER_REGEXP.test(char)) {\n            currentCommand = char;\n            state = 1;\n          }\n          break;\n        case 1: // 读取参数\n          if (SVG_LETTER_REGEXP.test(char)) {\n            // 遇到新命令，保存当前命令和参数\n            result.push({\n              command: currentCommand,\n              args: currentArgs.trim(),\n            });\n            currentCommand = char;\n            currentArgs = \"\";\n          } else {\n            currentArgs += char;\n          }\n          break;\n      }\n\n      currentIndex++;\n    }\n\n    // 处理最后一个命令\n    if (currentCommand && state === 1) {\n      result.push({\n        command: currentCommand,\n        args: currentArgs.trim(),\n      });\n    }\n\n    return result;\n  }\n\n  private static fillOrStroke(\n    context: PlatformRenderingContext2D,\n    styles?: PlatformVideo.VideoStyles\n  ): void {\n    if (styles) {\n      if (styles.fill) {\n        context.fill();\n      }\n\n      if (styles.stroke) {\n        context.stroke();\n      }\n    }\n  }\n\n  private static resetShapeStyles(\n    context: PlatformRenderingContext2D,\n    styles?: PlatformVideo.VideoStyles\n  ): void {\n    if (styles) {\n      context.strokeStyle = styles.stroke || \"transparent\";\n\n      if (styles.strokeWidth! > 0) {\n        context.lineWidth = styles.strokeWidth!;\n      }\n\n      if (styles.miterLimit! > 0) {\n        context.miterLimit = styles.miterLimit!;\n      }\n\n      if (styles.lineCap) {\n        context.lineCap = styles.lineCap;\n      }\n\n      if (styles.lineJoin) {\n        context.lineJoin = styles.lineJoin;\n      }\n\n      context.fillStyle = styles.fill || \"transparent\";\n\n      if (styles.lineDash) {\n        context.setLineDash(styles.lineDash);\n      }\n    }\n  }\n\n  /**\n   * 计算缩放比例\n   * @param contentMode\n   * @param videoSize\n   * @param canvasSize\n   * @returns\n   */\n  private static calculateScale(\n    contentMode: PLAYER_CONTENT_MODE,\n    videoSize: PlatformVideo.VideoSize,\n    canvasSize: CanvasSize\n  ): TransformScale {\n    const imageRatio = videoSize.width / videoSize.height;\n    const viewRatio = canvasSize.width / canvasSize.height;\n    const isAspectFit = contentMode === PLAYER_CONTENT_MODE.ASPECT_FIT;\n    const shouldUseWidth =\n      (imageRatio >= viewRatio && isAspectFit) ||\n      (imageRatio <= viewRatio && !isAspectFit);\n    const createTransform = (\n      scale: number,\n      translateX: number,\n      translateY: number\n    ) => ({\n      scaleX: scale,\n      scaleY: scale,\n      translateX,\n      translateY,\n    });\n\n    if (shouldUseWidth) {\n      const scale = canvasSize.width / videoSize.width;\n\n      return createTransform(\n        scale,\n        0,\n        (canvasSize.height - videoSize.height * scale) / 2\n      );\n    }\n\n    const scale = canvasSize.height / videoSize.height;\n\n    return createTransform(\n      scale,\n      (canvasSize.width - videoSize.width * scale) / 2,\n      0\n    );\n  }\n\n  private readonly pointPool: PointPool = new PointPool();\n\n  private currentPoint: CurrentPoint;\n\n  private lastResizeKey = \"\";\n\n  private globalTransform?: PlatformVideo.Transform = undefined;\n\n  constructor(private context: PlatformRenderingContext2D | null) {\n    this.currentPoint = this.pointPool.acquire();\n  }\n\n  private setTransform(transform?: PlatformVideo.Transform): void {\n    if (transform && this.context) {\n      this.context!.transform(\n        transform.a,\n        transform.b,\n        transform.c,\n        transform.d,\n        transform.tx,\n        transform.ty\n      );\n    }\n  }\n\n  private drawBezier(\n    d?: string,\n    transform?: PlatformVideo.Transform,\n    styles?: PlatformVideo.VideoStyles\n  ): void {\n    const { context, pointPool } = this;\n    this.currentPoint = pointPool.acquire();\n\n    context!.save();\n    Renderer2D.resetShapeStyles(context!, styles);\n    this.setTransform(transform);\n    context!.beginPath();\n\n    if (d) {\n      // 使用状态机解析器替代正则表达式\n      const commands = Renderer2D.parseSVGPath(d);\n\n      for (const { command, args } of commands) {\n        if (Renderer2D.SVG_PATH.has(command)) {\n          this.drawBezierElement(\n            this.currentPoint,\n            command,\n            args.split(/[\\s,]+/).filter(Boolean)\n          );\n        }\n      }\n    }\n\n    Renderer2D.fillOrStroke(context!, styles);\n    pointPool.release(this.currentPoint);\n    context!.restore();\n  }\n\n  private drawBezierElement(\n    currentPoint: CurrentPoint,\n    method: string,\n    args: string[]\n  ): void {\n    const { context } = this;\n\n    switch (method) {\n      case \"M\":\n        currentPoint.x = +args[0];\n        currentPoint.y = +args[1];\n        context!.moveTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"m\":\n        currentPoint.x += +args[0];\n        currentPoint.y += +args[1];\n        context!.moveTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"L\":\n        currentPoint.x = +args[0];\n        currentPoint.y = +args[1];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"l\":\n        currentPoint.x += +args[0];\n        currentPoint.y += +args[1];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"H\":\n        currentPoint.x = +args[0];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"h\":\n        currentPoint.x += +args[0];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"V\":\n        currentPoint.y = +args[0];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"v\":\n        currentPoint.y += +args[0];\n        context!.lineTo(currentPoint.x, currentPoint.y);\n        break;\n      case \"C\":\n        currentPoint.x1 = +args[0];\n        currentPoint.y1 = +args[1];\n        currentPoint.x2 = +args[2];\n        currentPoint.y2 = +args[3];\n        currentPoint.x = +args[4];\n        currentPoint.y = +args[5];\n        context!.bezierCurveTo(\n          currentPoint.x1,\n          currentPoint.y1,\n          currentPoint.x2,\n          currentPoint.y2,\n          currentPoint.x,\n          currentPoint.y\n        );\n        break;\n      case \"c\":\n        currentPoint.x1 = currentPoint.x + +args[0];\n        currentPoint.y1 = currentPoint.y + +args[1];\n        currentPoint.x2 = currentPoint.x + +args[2];\n        currentPoint.y2 = currentPoint.y + +args[3];\n        currentPoint.x += +args[4];\n        currentPoint.y += +args[5];\n        context!.bezierCurveTo(\n          currentPoint.x1,\n          currentPoint.y1,\n          currentPoint.x2,\n          currentPoint.y2,\n          currentPoint.x,\n          currentPoint.y\n        );\n        break;\n      case \"S\":\n        if (\n          currentPoint.x1 !== undefined &&\n          currentPoint.y1 !== undefined &&\n          currentPoint.x2 !== undefined &&\n          currentPoint.y2 !== undefined\n        ) {\n          currentPoint.x1 = currentPoint.x - currentPoint.x2 + currentPoint.x;\n          currentPoint.y1 = currentPoint.y - currentPoint.y2 + currentPoint.y;\n          currentPoint.x2 = +args[0];\n          currentPoint.y2 = +args[1];\n          currentPoint.x = +args[2];\n          currentPoint.y = +args[3];\n          context!.bezierCurveTo(\n            currentPoint.x1,\n            currentPoint.y1,\n            currentPoint.x2,\n            currentPoint.y2,\n            currentPoint.x,\n            currentPoint.y\n          );\n        } else {\n          currentPoint.x1 = +args[0];\n          currentPoint.y1 = +args[1];\n          currentPoint.x = +args[2];\n          currentPoint.y = +args[3];\n          context!.quadraticCurveTo(\n            currentPoint.x1,\n            currentPoint.y1,\n            currentPoint.x,\n            currentPoint.y\n          );\n        }\n        break;\n      case \"s\":\n        if (\n          currentPoint.x1 !== undefined &&\n          currentPoint.y1 !== undefined &&\n          currentPoint.x2 !== undefined &&\n          currentPoint.y2 !== undefined\n        ) {\n          currentPoint.x1 = currentPoint.x - currentPoint.x2 + currentPoint.x;\n          currentPoint.y1 = currentPoint.y - currentPoint.y2 + currentPoint.y;\n          currentPoint.x2 = currentPoint.x + +args[0];\n          currentPoint.y2 = currentPoint.y + +args[1];\n          currentPoint.x += +args[2];\n          currentPoint.y += +args[3];\n          context!.bezierCurveTo(\n            currentPoint.x1,\n            currentPoint.y1,\n            currentPoint.x2,\n            currentPoint.y2,\n            currentPoint.x,\n            currentPoint.y\n          );\n        } else {\n          currentPoint.x1 = currentPoint.x + +args[0];\n          currentPoint.y1 = currentPoint.y + +args[1];\n          currentPoint.x += +args[2];\n          currentPoint.y += +args[3];\n          context!.quadraticCurveTo(\n            currentPoint.x1,\n            currentPoint.y1,\n            currentPoint.x,\n            currentPoint.y\n          );\n        }\n        break;\n      case \"Q\":\n        currentPoint.x1 = +args[0];\n        currentPoint.y1 = +args[1];\n        currentPoint.x = +args[2];\n        currentPoint.y = +args[3];\n        context!.quadraticCurveTo(\n          currentPoint.x1,\n          currentPoint.y1,\n          currentPoint.x,\n          currentPoint.y\n        );\n        break;\n      case \"q\":\n        currentPoint.x1 = currentPoint.x + +args[0];\n        currentPoint.y1 = currentPoint.y + +args[1];\n        currentPoint.x += +args[2];\n        currentPoint.y += +args[3];\n        context!.quadraticCurveTo(\n          currentPoint.x1,\n          currentPoint.y1,\n          currentPoint.x,\n          currentPoint.y\n        );\n        break;\n      case \"Z\":\n      case \"z\":\n        context!.closePath();\n        break;\n    }\n  }\n\n  private drawEllipse(\n    x: number,\n    y: number,\n    radiusX: number,\n    radiusY: number,\n    transform?: PlatformVideo.Transform,\n    styles?: PlatformVideo.VideoStyles\n  ): void {\n    const { context } = this;\n\n    context!.save();\n    Renderer2D.resetShapeStyles(context!, styles);\n    this.setTransform(transform);\n\n    x -= radiusX;\n    y -= radiusY;\n\n    const w = radiusX * 2;\n    const h = radiusY * 2;\n    const kappa = 0.5522848;\n    const ox = (w / 2) * kappa;\n    const oy = (h / 2) * kappa;\n    const xe = x + w;\n    const ye = y + h;\n    const xm = x + w / 2;\n    const ym = y + h / 2;\n\n    context!.beginPath();\n    context!.moveTo(x, ym);\n    context!.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    context!.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    context!.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    context!.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n\n    Renderer2D.fillOrStroke(context!, styles);\n    context!.restore();\n  }\n\n  private drawRect(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    cornerRadius: number,\n    transform?: PlatformVideo.Transform,\n    styles?: PlatformVideo.VideoStyles\n  ): void {\n    const { context } = this;\n\n    context!.save();\n    Renderer2D.resetShapeStyles(context!, styles);\n    this.setTransform(transform);\n\n    let radius = cornerRadius;\n\n    if (width < 2 * radius) {\n      radius = width / 2;\n    }\n\n    if (height < 2 * radius) {\n      radius = height / 2;\n    }\n\n    context!.beginPath();\n    context!.moveTo(x + radius, y);\n    context!.arcTo(x + width, y, x + width, y + height, radius);\n    context!.arcTo(x + width, y + height, x, y + height, radius);\n    context!.arcTo(x, y + height, x, y, radius);\n    context!.arcTo(x, y, x + width, y, radius);\n    context!.closePath();\n\n    Renderer2D.fillOrStroke(context!, styles);\n    context!.restore();\n  }\n\n  private drawShape(shape: PlatformVideo.VideoFrameShape): void {\n    const { type, path, transform, styles } = shape;\n\n    switch (type) {\n      case PlatformVideo.SHAPE_TYPE.SHAPE:\n        this.drawBezier(path.d, transform, styles);\n        break;\n      case PlatformVideo.SHAPE_TYPE.ELLIPSE:\n        this.drawEllipse(\n          path.x ?? 0,\n          path.y ?? 0,\n          path.radiusX ?? 0,\n          path.radiusY ?? 0,\n          transform,\n          styles\n        );\n        break;\n      case PlatformVideo.SHAPE_TYPE.RECT:\n        this.drawRect(\n          path.x ?? 0,\n          path.y ?? 0,\n          path.width ?? 0,\n          path.height ?? 0,\n          path.cornerRadius ?? 0,\n          transform,\n          styles\n        );\n        break;\n    }\n  }\n\n  private drawSprite(\n    frame: PlatformVideo.VideoFrame | PlatformVideo.HiddenVideoFrame,\n    bitmap?: Bitmap,\n    dynamicElement?: Bitmap\n  ): void {\n    if (frame.alpha === 0) return;\n\n    const { context } = this;\n    const { alpha, transform, layout, shapes } =\n      frame as PlatformVideo.VideoFrame;\n    const { a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0 } = transform ?? {};\n\n    context!.save();\n    this.setTransform(this.globalTransform);\n    context!.globalAlpha = alpha;\n    context!.transform(a, b, c, d, tx, ty);\n\n    if (bitmap) {\n      context!.drawImage(\n        bitmap as CanvasImageSource,\n        0,\n        0,\n        layout.width,\n        layout.height\n      );\n    }\n\n    if (dynamicElement) {\n      context!.drawImage(\n        dynamicElement as CanvasImageSource,\n        (layout.width - dynamicElement.width) / 2,\n        (layout.height - dynamicElement.height) / 2\n      );\n    }\n\n    for (let i = 0; i < shapes.length; i++) {\n      this.drawShape(shapes[i]);\n    }\n\n    context!.restore();\n  }\n\n  /**\n   * 调整画布尺寸\n   * @param contentMode\n   * @param videoSize\n   * @param canvasSize\n   * @returns\n   */\n  public resize(\n    contentMode: PLAYER_CONTENT_MODE,\n    videoSize: PlatformVideo.VideoSize,\n    canvasSize: CanvasSize\n  ): void {\n    const { width: canvasWidth, height: canvasHeight } = canvasSize;\n    const { width: videoWidth, height: videoHeight } = videoSize;\n    const resizeKey = `${contentMode}-${videoWidth}-${videoHeight}-${canvasWidth}-${canvasHeight}`;\n    const lastTransform = this.globalTransform;\n\n    if (this.lastResizeKey === resizeKey && lastTransform) {\n      return;\n    }\n\n    let scale: TransformScale = {\n      scaleX: 1,\n      scaleY: 1,\n      translateX: 0,\n      translateY: 0,\n    };\n\n    if (contentMode === PLAYER_CONTENT_MODE.FILL) {\n      scale.scaleX = canvasWidth / videoWidth;\n      scale.scaleY = canvasHeight / videoHeight;\n    } else {\n      scale = Renderer2D.calculateScale(contentMode, videoSize, canvasSize);\n    }\n\n    this.lastResizeKey = resizeKey;\n    this.globalTransform = {\n      a: scale.scaleX,\n      b: 0.0,\n      c: 0.0,\n      d: scale.scaleY,\n      tx: scale.translateX,\n      ty: scale.translateY,\n    };\n  }\n\n  public render(\n    videoEntity: PlatformVideo.Video,\n    materials: Map<string, Bitmap>,\n    dynamicMaterials: Map<string, Bitmap>,\n    currentFrame: number,\n    head: number,\n    tail: number\n  ): void {\n    let sprite: PlatformVideo.VideoSprite;\n    let imageKey: string;\n    let bitmap: Bitmap | undefined;\n    let dynamicElement: Bitmap | undefined;\n\n    for (let i = head; i < tail; i++) {\n      sprite = videoEntity.sprites[i];\n      imageKey = sprite.imageKey;\n      bitmap = materials.get(imageKey);\n      dynamicElement = dynamicMaterials.get(imageKey);\n\n      this.drawSprite(sprite.frames[currentFrame], bitmap, dynamicElement);\n    }\n  }\n\n  public destroy() {\n    this.globalTransform = undefined;\n    this.lastResizeKey = \"\";\n    this.context = null;\n  }\n}\n","import { platform } from \"../../platform\";\n\n/**\n * 动画控制器\n */\nexport class Animator {\n  /**\n   * 动画是否执行\n   */\n  private isRunning = false;\n  /**\n   * 动画开始时间\n   */\n  private startTime = 0;\n  /**\n   * 动画持续时间\n   */\n  private duration: number = 0;\n  /**\n   * 循环播放开始帧与动画开始帧之间的时间偏差\n   */\n  private loopStart: number = 0;\n  /**\n   * 动画暂停时的时间偏差\n   */\n  private pauseTime: number = 0;\n  /**\n   * 循环持续时间\n   */\n  private loopDuration: number = 0;\n\n  public onAnimate: (callback: () => void) => number = platform.noop<number>;\n\n  /* ---- 事件钩子 ---- */\n  public onStart: () => void = platform.noop;\n  public onUpdate: (timePercent: number) => void = platform.noop;\n  public onEnd: () => void = platform.noop;\n\n  /**\n   * 设置动画的必要参数\n   * @param duration\n   * @param loopStart\n   * @param loop\n   * @param fillValue\n   */\n  public setConfig(\n    duration: number,\n    loopStart: number,\n    loop: number,\n    fillValue: number\n  ) {\n    this.duration = duration;\n    this.loopStart = loopStart;\n    this.loopDuration = duration * loop + fillValue - loopStart;\n  }\n\n  public start(): void {\n    this.isRunning = true;\n    this.startTime = platform.now();\n    this.pauseTime = 0;\n    this.onStart();\n    this.doFrame();\n  }\n\n  public resume(): boolean {\n    if (this.startTime === 0) {\n      return false;\n    }\n\n    this.isRunning = true;\n    this.doFrame();\n    return true;\n  }\n\n  public pause(): boolean {\n    if (this.startTime === 0) {\n      return false;\n    }\n\n    this.isRunning = false;\n    // 设置暂停的位置\n    this.pauseTime =\n      (platform.now() - this.startTime) % this.duration;\n    return true;\n  }\n\n  public stop(): void {\n    this.isRunning = false;\n    this.startTime = 0;\n  }\n\n  private doFrame(): void {\n    if (this.isRunning) {\n      this.doDeltaTime(platform.now() - this.startTime);\n      if (this.isRunning) {\n        this.onAnimate(() => this.doFrame());\n      }\n    }\n  }\n\n  private doDeltaTime(deltaTime: number): void {\n    const { duration, loopStart, pauseTime, loopDuration } = this;\n    // 本轮动画已消耗的时间比例（Percentage of speed time）\n    let percent: number;\n    let ended = false;\n\n    // 运行时间 大于等于 循环持续时间\n    if (deltaTime >= loopDuration) {\n      // 动画已结束\n      percent = 1.0;\n      ended = true;\n      this.stop();\n    } else {\n      // 本轮动画已消耗的时间比例 = 本轮动画已消耗的时间 / 动画持续时间\n      percent = ((deltaTime + loopStart + pauseTime) % duration) / duration;\n    }\n\n    this.onUpdate(percent);\n    if (!this.isRunning && ended) {\n      this.onEnd();\n    }\n  }\n}\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\n\n// aliases for shorter compressed code (most minifers don't do this)\nconst u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n\n// fixed length extra bits\nconst fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n\n// fixed distance extra bits\nconst fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n\n// code length index map\nconst clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n\n// get base, reverse index map from extra bits\nconst freb = (eb: Uint8Array, start: number) => {\n  const b = new u16(31);\n  for (let i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  // numbers here are at max 18 bits\n  const r = new i32(b[30]);\n  for (let i = 1; i < 30; ++i) {\n    for (let j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = ((j - b[i]) << 5) | i;\n    }\n  }\n  return { b, r };\n}\n\nconst { b: fl, r: revfl } = freb(fleb, 2);\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nconst { b: fd, r: revfd } = freb(fdeb, 0);\n\n// map of value to reverse (assuming 16 bits)\nconst rev = new u16(32768);\nfor (let i = 0; i < 32768; ++i) {\n  // reverse table algorithm from SO\n  let x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n  x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n  x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n  rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nconst hMap = ((cd: Uint8Array, mb: number, r: 0 | 1) => {\n  const s = cd.length;\n  // index\n  let i = 0;\n  // u16 \"map\": index -> # of codes with bit length = index\n  const l = new u16(mb);\n  // length of cd must be 288 (total # of codes)\n  for (; i < s; ++i) {\n    if (cd[i]) ++l[cd[i] - 1];\n  }\n  // u16 \"map\": index -> minimum code for bit length = index\n  const le = new u16(mb);\n  for (i = 1; i < mb; ++i) {\n    le[i] = (le[i - 1] + l[i - 1]) << 1;\n  }\n  let co: Uint16Array;\n  if (r) {\n    // u16 \"map\": index -> number of actual bits, symbol for code\n    co = new u16(1 << mb);\n    // bits to remove for reverser\n    const rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      // ignore 0 lengths\n      if (cd[i]) {\n        // num encoding both symbol and bits read\n        const sv = (i << 4) | cd[i];\n        // free bits\n        const r = mb - cd[i];\n        // start value\n        let v = le[cd[i] - 1]++ << r;\n        // m is end value\n        for (const m = v | ((1 << r) - 1); v <= m; ++v) {\n          // every 16 bit value starting with the code yields the same result\n          co[rev[v] >> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n      }\n    }\n  }\n  return co;\n});\n\n// fixed length tree\nconst flt = new u8(288);\nfor (let i = 0; i < 144; ++i) flt[i] = 8;\nfor (let i = 144; i < 256; ++i) flt[i] = 9;\nfor (let i = 256; i < 280; ++i) flt[i] = 7;\nfor (let i = 280; i < 288; ++i) flt[i] = 8;\n// fixed distance tree\nconst fdt = new u8(32);\nfor (let i = 0; i < 32; ++i) fdt[i] = 5;\n// fixed length map\nconst flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nconst fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n\n// find max of array\nconst max = (a: Uint8Array | number[]) => {\n  let m = a[0];\n  for (let i = 1; i < a.length; ++i) {\n    if (a[i] > m) m = a[i];\n  }\n  return m;\n};\n\n// read d, starting at bit p and mask with m\nconst bits = (d: Uint8Array, p: number, m: number) => {\n  const o = (p / 8) | 0;\n  return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n}\n\n// read d, starting at bit p continuing for at least 16 bits\nconst bits16 = (d: Uint8Array, p: number) => {\n  const o = (p / 8) | 0;\n  return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n}\n\n// get end of byte\nconst shft = (p: number) => ((p + 7) / 8) | 0;\n\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nconst slc = (v: Uint8Array, s: number, e?: number) => {\n  if (s == null || s < 0) s = 0;\n  if (e == null || e > v.length) e = v.length;\n  // can't use .constructor in case user-supplied\n  return new u8(v.subarray(s, e));\n}\n\n// inflate state\ntype InflateState = {\n  // lmap\n  l?: Uint16Array;\n  // dmap\n  d?: Uint16Array;\n  // lbits\n  m?: number;\n  // dbits\n  n?: number;\n  // final\n  f?: number;\n  // pos\n  p?: number;\n  // byte\n  b?: number;\n  // lstchk\n  i: number;\n};\n\n// error codes\nconst ec = [\n  'unexpected EOF',\n  'invalid block type',\n  'invalid length/literal',\n  'invalid distance',\n  'stream finished',\n  'no stream handler',\n  , // determined by compression function\n  'no callback',\n  'invalid UTF-8 data',\n  'extra field too long',\n  'date not in range 1980-2099',\n  'filename too long',\n  'stream finishing',\n  'invalid zip data'\n  // determined by unknown compression method\n];\n\n/**\n * An error generated within this library\n */\nexport interface FlateError extends Error {\n  /**\n   * The code associated with this error\n   */\n  code: number;\n};\n\nconst err = (ind: number, msg?: string | 0, nt?: 1) => {\n  const e: Partial<FlateError> = new Error(msg || ec[ind]);\n  e.code = ind;\n  if (Error.captureStackTrace) Error.captureStackTrace(e, err);\n  if (!nt) throw e;\n  return e as FlateError;\n}\n\n// expands raw DEFLATE data\nconst inflt = (dat: Uint8Array, st: InflateState, buf?: Uint8Array, dict?: Uint8Array) => {\n  // source length       dict length\n  const sl = dat.length, dl = dict ? dict.length : 0;\n  if (!sl || st.f && !st.l) return buf || new u8(0);\n  const noBuf = !buf;\n  // have to estimate size\n  const resize = noBuf || st.i != 2;\n  // no state\n  const noSt = st.i;\n  // Assumes roughly 33% compression ratio average\n  if (noBuf) buf = new u8(sl * 3);\n  // ensure buffer can fit at least l elements\n  const cbuf = (l: number) => {\n    let bl = buf!.length;\n    // need to increase size to fit\n    if (l > bl) {\n      // Double or set to necessary, whichever is greater\n      const nbuf = new u8(Math.max(bl * 2, l));\n      nbuf.set(buf!);\n      buf = nbuf;\n    }\n  };\n  //  last chunk         bitpos           bytes\n  let final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  // total bits\n  const tbts = sl * 8;\n  do {\n    if (!lm) {\n      // BFINAL - this is only 1 when last chunk is next\n      final = bits(dat, pos, 1);\n      // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n      const type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        // go to end of byte boundary\n        const s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n        if (t > sl) {\n          if (noSt) err(0);\n          break;\n        }\n        // ensure size\n        if (resize) cbuf(bt + l);\n        // Copy over uncompressed data\n        buf!.set(dat.subarray(s, t), bt);\n        // Get new bitpos, update byte count\n        st.b = bt += l, st.p = pos = t * 8, st.f = final;\n        continue;\n      }\n      else if (type == 1) lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        //  literal                            lengths\n        const hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        const tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        // length+distance tree\n        const ldt = new u8(tl);\n        // code length tree\n        const clt = new u8(19);\n        for (let i = 0; i < hcLen; ++i) {\n          // use index map to get real code\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        // code lengths bits\n        const clb = max(clt), clbmsk = (1 << clb) - 1;\n        // code lengths map\n        const clm = hMap(clt, clb, 1);\n        for (let i = 0; i < tl;) {\n          const r = clm[bits(dat, pos, clbmsk)];\n          // bits read\n          pos += r & 15;\n          // symbol\n          const s = r >> 4;\n          // code length to copy\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            //  copy   count\n            let c = 0, n = 0;\n            if (s == 16) n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n            else if (s == 17) n = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s == 18) n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--) ldt[i++] = c;\n          }\n        }\n        //    length tree                 distance tree\n        const lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        // max length bits\n        lbt = max(lt)\n        // max dist bits\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else err(1);\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n    }\n    // Make sure the buffer can hold this + the largest possible addition\n    // Maximum chunk size (practically, theoretically infinite) is 2^17\n    if (resize) cbuf(bt + 131072);\n    const lms = (1 << lbt!) - 1, dms = (1 << dbt!) - 1;\n    let lpos = pos;\n    for (;; lpos = pos) {\n      // bits read, code\n      const c = lm![bits16(dat, pos) & lms], sym = c >> 4;\n      pos += c & 15;\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n      if (!c) err(2);\n      if (sym < 256) buf![bt++] = sym;\n      else if (sym == 256) {\n        lpos = pos, lm = undefined;\n        break;\n      } else {\n        let add = sym - 254;\n        // no extra bits needed if less\n        if (sym > 264) {\n          // index\n          const i = sym - 257, b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        // dist\n        const d = dm![bits16(dat, pos) & dms], dsym = d >> 4;\n        if (!d) err(3);\n        pos += d & 15;\n        let dt = fd[dsym];\n        if (dsym > 3) {\n          const b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt) err(0);\n          break;\n        }\n        if (resize) cbuf(bt + 131072);\n        const end = bt + add;\n        if (bt < dt) {\n          const shift = dl - dt, dend = Math.min(dt, end);\n          if (shift + bt < 0) err(3);\n          for (; bt < dend; ++bt) buf![bt] = dict![shift + bt];\n        }\n        for (; bt < end; ++bt) buf![bt] = buf![bt - dt];\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm) final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final)\n  // don't reallocate for streams or user buffers\n  return bt != buf!.length && noBuf ? slc(buf!, 0, bt) : buf!.subarray(0, bt);\n}\n\n// starting at p, write the minimum number of bits that can hold v to d\nconst wbits = (d: Uint8Array, p: number, v: number) => {\n  v <<= p & 7;\n  const o = (p / 8) | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n}\n\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nconst wbits16 = (d: Uint8Array, p: number, v: number) => {\n  v <<= p & 7;\n  const o = (p / 8) | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n  d[o + 2] |= v >> 16;\n}\n\ntype HuffNode = {\n  // symbol\n  s: number;\n  // frequency\n  f: number;\n  // left child\n  l?: HuffNode;\n  // right child\n  r?: HuffNode;\n};\n\n// creates code lengths from a frequency table\nconst hTree = (d: Uint16Array, mb: number) => {\n  // Need extra info to make a tree\n  const t: HuffNode[] = [];\n  for (let i = 0; i < d.length; ++i) {\n    if (d[i]) t.push({ s: i, f: d[i] });\n  }\n  const s = t.length;\n  const t2 = t.slice();\n  if (!s) return { t: et, l: 0 };\n  if (s == 1) {\n    const v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return { t: v, l: 1 };\n  }\n  t.sort((a, b) => a.f - b.f);\n  // after i2 reaches last ind, will be stopped\n  // freq must be greater than largest possible number of symbols\n  t.push({ s: -1, f: 25001 });\n  let l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n  t[0] = { s: -1, f: l.f + r.f, l, r };\n  // efficient algorithm from UZIP.js\n  // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n  // symbols that combined have high freq, will start processing i2 (high-freq,\n  // non-composite) symbols instead\n  // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = { s: -1, f: l.f + r.f, l, r };\n  }\n  let maxSym = t2[0].s;\n  for (let i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym) maxSym = t2[i].s;\n  }\n  // code lengths\n  const tr = new u16(maxSym + 1);\n  // max bits in tree\n  let mbt = ln(t[i1 - 1], tr, 0);\n  if (mbt > mb) {\n    // more algorithms from UZIP.js\n    // TODO: find out how this code works (debt)\n    //  ind    debt\n    let i = 0, dt = 0;\n    //    left            cost\n    const lft = mbt - mb, cst = 1 << lft;\n    t2.sort((a, b) => tr[b.s] - tr[a.s] || a.f - b.f);\n    for (; i < s; ++i) {\n      const i2 = t2[i].s;\n      if (tr[i2] > mb) {\n        dt += cst - (1 << (mbt - tr[i2]));\n        tr[i2] = mb;\n      } else break;\n    }\n    dt >>= lft;\n    while (dt > 0) {\n      const i2 = t2[i].s;\n      if (tr[i2] < mb) dt -= 1 << (mb - tr[i2]++ - 1);\n      else ++i;\n    }\n    for (; i >= 0 && dt; --i) {\n      const i2 = t2[i].s;\n      if (tr[i2] == mb) {\n        --tr[i2];\n        ++dt;\n      }\n    }\n    mbt = mb;\n  }\n  return { t: new u8(tr), l: mbt };\n}\n// get the max length and assign length codes\nconst ln = (n: HuffNode, l: Uint16Array, d: number): number => {\n  return n.s == -1\n    ? Math.max(ln(n.l!, l, d + 1), ln(n.r!, l, d + 1))\n    : (l[n.s] = d);\n}\n\n// length codes generation\nconst lc = (c: Uint8Array) => {\n  let s = c.length;\n  // Note that the semicolon was intentional\n  while (s && !c[--s]);\n  const cl = new u16(++s);\n  //  ind      num         streak\n  let cli = 0, cln = c[0], cls = 1;\n  const w = (v: number) => { cl[cli++] = v; }\n  for (let i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s)\n      ++cls;\n    else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138) w(32754);\n        if (cls > 2) {\n          w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n        for (; cls > 6; cls -= 6) w(8304);\n        if (cls > 2) w(((cls - 3) << 5) | 8208), cls = 0;\n      }\n      while (cls--) w(cln);\n      cls = 1;\n      cln = c[i];\n    }\n  }\n  return { c: cl.subarray(0, cli), n: s };\n}\n\n// calculate the length of output from tree, code lengths\nconst clen = (cf: Uint16Array, cl: Uint8Array) => {\n  let l = 0;\n  for (let i = 0; i < cl.length; ++i) l += cf[i] * cl[i];\n  return l;\n}\n\n// writes a fixed block\n// returns the new bit pos\nconst wfblk = (out: Uint8Array, pos: number, dat: Uint8Array) => {\n  // no need to write 00 as type: TypedArray defaults to 0\n  const s = dat.length;\n  const o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n  for (let i = 0; i < s; ++i) out[o + i + 4] = dat[i];\n  return (o + 4 + s) * 8;\n}\n\n// writes a block\nconst wblk = (dat: Uint8Array, out: Uint8Array, final: number, syms: Int32Array, lf: Uint16Array, df: Uint16Array, eb: number, li: number, bs: number, bl: number, p: number) => {\n  wbits(out, p++, final);\n  ++lf[256];\n  const { t: dlt, l: mlb } = hTree(lf, 15);\n  const { t: ddt, l: mdb } = hTree(df, 15);\n  const { c: lclt, n: nlc } = lc(dlt);\n  const { c: lcdt, n: ndc } = lc(ddt);\n  const lcfreq = new u16(19);\n  for (let i = 0; i < lclt.length; ++i) ++lcfreq[lclt[i] & 31];\n  for (let i = 0; i < lcdt.length; ++i) ++lcfreq[lcdt[i] & 31];\n  const { t: lct, l: mlcb } = hTree(lcfreq, 7);\n  let nlcc = 19;\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc);\n  const flen = (bl + 5) << 3;\n  const ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  const dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n  if (bs >= 0 && flen <= ftlen && flen <= dtlen) return wfblk(out, p, dat.subarray(bs, bs + bl));\n  let lm: Uint16Array, ll: Uint8Array, dm: Uint16Array, dl: Uint8Array;\n  wbits(out, p, 1 + (dtlen < ftlen as unknown as number)), p += 2;\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    const llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n    for (let i = 0; i < nlcc; ++i) wbits(out, p + 3 * i, lct[clim[i]]);\n    p += 3 * nlcc;\n    const lcts = [lclt, lcdt];\n    for (let it = 0; it < 2; ++it) {\n      const clct = lcts[it];\n      for (let i = 0; i < clct.length; ++i) {\n        const len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15) wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n  for (let i = 0; i < li; ++i) {\n    const sym = syms[i];\n    if (sym > 255) {\n      const len = (sym >> 18) & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7) wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n      const dst = sym & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3) wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[sym]), p += ll[sym];\n    }\n  }\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n}\n\n// deflate options (nice << 13) | chain\nconst deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n\n// empty\nconst et = /*#__PURE__*/new u8(0);\n\ntype DeflateState = {\n  // head\n  h?: Uint16Array;\n  // prev\n  p?: Uint16Array;\n  // index\n  i?: number;\n  // end index\n  z?: number;\n  // wait index\n  w?: number;\n  // remainder byte info\n  r?: number;\n  // last chunk\n  l: number;\n};\n\n// compresses data into a raw DEFLATE buffer\nconst dflt = (dat: Uint8Array, lvl: number, plvl: number, pre: number, post: number, st: DeflateState) => {\n  const s = st.z || dat.length;\n  const o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n  // writing to this writes to the output buffer\n  const w = o.subarray(pre, o.length - post);\n  const lst = st.l;\n  let pos = (st.r || 0) & 7;\n  if (lvl) {\n    if (pos) w[0] = st.r! >> 3;\n    const opt = deo[lvl - 1];\n    const n = opt >> 13, c = opt & 8191;\n    const msk = (1 << plvl) - 1;\n    //    prev 2-byte val map    curr 2-byte val map\n    const prev = st.p || new u16(32768), head = st.h || new u16(msk + 1);\n    const bs1 = Math.ceil(plvl / 3), bs2 = 2 * bs1;\n    const hsh = (i: number) => (dat[i] ^ (dat[i + 1] << bs1) ^ (dat[i + 2] << bs2)) & msk;\n    // 24576 is an arbitrary number of maximum symbols per block\n    // 424 buffer for last block\n    const syms = new i32(25000);\n    // length/literal freq   distance freq\n    const lf = new u16(288), df = new u16(32);\n    //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n    let lc = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n    for (; i + 2 < s; ++i) {\n      // hash value\n      const hv = hsh(i);\n      // index mod 32768    previous index mod\n      let imod = i & 32767, pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod;\n      // We always should modify head and prev, but only add symbols if\n      // this data is not yet processed (\"wait\" for wait index)\n      if (wi <= i) {\n        // bytes remaining\n        const rem = s - i;\n        if ((lc > 7000 || li > 24576) && (rem > 423 || !lst)) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc = eb = 0, bs = i;\n          for (let j = 0; j < 286; ++j) lf[j] = 0;\n          for (let j = 0; j < 30; ++j) df[j] = 0;\n        }\n        //  len    dist   chain\n        let l = 2, d = 0, ch = c, dif = imod - pimod & 32767;\n        if (rem > 2 && hv == hsh(i - dif)) {\n          const maxn = Math.min(n, rem) - 1;\n          const maxd = Math.min(32767, i);\n          // max possible length\n          // not capped at dif because decompressors implement \"rolling\" index population\n          const ml = Math.min(258, rem);\n          while (dif <= maxd && --ch && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              let nl = 0;\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl);\n              if (nl > l) {\n                l = nl, d = dif;\n                // break out early when we reach \"nice\" (we are satisfied enough)\n                if (nl > maxn) break;\n                // now, find the rarest 2-byte sequence within this\n                // length of literals and search for that instead.\n                // Much faster than just using the start\n                const mmd = Math.min(dif, nl - 2);\n                let md = 0;\n                for (let j = 0; j < mmd; ++j) {\n                  const ti = i - dif + j & 32767;\n                  const pti = prev[ti];\n                  const cd = ti - pti & 32767;\n                  if (cd > md) md = cd, pimod = ti;\n                }\n              }\n            }\n            // check the previous match\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod & 32767;\n          }\n        }\n        // d will be nonzero only when a match was found\n        if (d) {\n          // store both dist and len data in one int32\n          // Make sure this is recognized as a len/dist with 28th bit (2^28)\n          syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n          const lin = revfl[l] & 31, din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n    for (i = Math.max(i, wi); i < s; ++i) {\n      syms[li++] = dat[i];\n      ++lf[dat[i]];\n    }\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n    if (!lst) {\n      st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n      // shft(pos) now 1 less if pos & 7 != 0\n      pos -= 7;\n      st.h = head, st.p = prev, st.i = i, st.w = wi;\n    }\n  } else {\n    for (let i = st.w || 0; i < s + lst; i += 65535) {\n      // end\n      let e = i + 65535;\n      if (e >= s) {\n        // write final block\n        w[(pos / 8) | 0] = lst;\n        e = s;\n      }\n      pos = wfblk(w, pos + 1, dat.subarray(i, e));\n    }\n    st.i = s;\n  }\n  return slc(o, 0, pre + shft(pos) + post);\n}\n\n// crc check\ntype CRCV = {\n  p(d: Uint8Array): void;\n  d(): number;\n};\n\n// Adler32\nconst adler = (): CRCV => {\n  let a = 1, b = 0;\n  return {\n    p(d) {\n      // closures have awful performance\n      let n = a, m = b;\n      const l = d.length | 0;\n      for (let i = 0; i != l;) {\n        const e = Math.min(i + 2655, l);\n        for (; i < e; ++i) m += n += d[i];\n        n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n      }\n      a = n, b = m;\n    },\n    d() {\n      a %= 65521, b %= 65521;\n      return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n    }\n  }\n}\n\n/**\n * Options for compressing data into a DEFLATE format\n */\nexport interface DeflateOptions {\n  /**\n   * The level of compression to use, ranging from 0-9.\n   * \n   * 0 will store the data without compression.\n   * 1 is fastest but compresses the worst, 9 is slowest but compresses the best.\n   * The default level is 6.\n   * \n   * Typically, binary data benefits much more from higher values than text data.\n   * In both cases, higher values usually take disproportionately longer than the reduction in final size that results.\n   * \n   * For example, a 1 MB text file could:\n   * - become 1.01 MB with level 0 in 1ms\n   * - become 400 kB with level 1 in 10ms\n   * - become 320 kB with level 9 in 100ms\n   */\n  level?: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\n  /**\n   * The memory level to use, ranging from 0-12. Increasing this increases speed and compression ratio at the cost of memory.\n   * \n   * Note that this is exponential: while level 0 uses 4 kB, level 4 uses 64 kB, level 8 uses 1 MB, and level 12 uses 16 MB.\n   * It is recommended not to lower the value below 4, since that tends to hurt performance.\n   * In addition, values above 8 tend to help very little on most data and can even hurt performance.\n   * \n   * The default value is automatically determined based on the size of the input data.\n   */\n  mem?: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\n  /**\n   * A buffer containing common byte sequences in the input data that can be used to significantly improve compression ratios.\n   * \n   * Dictionaries should be 32kB or smaller and include strings or byte sequences likely to appear in the input.\n   * The decompressor must supply the same dictionary as the compressor to extract the original data.\n   * \n   * Dictionaries only improve aggregate compression ratio when reused across multiple small inputs. They should typically not be used otherwise.\n   * \n   * Avoid using dictionaries with GZIP and ZIP to maximize software compatibility.\n   */\n  dictionary?: Uint8Array;\n};\n\n/**\n * Options for compressing data into a Zlib format\n */\nexport interface ZlibOptions extends DeflateOptions {}\n\n/**\n * Options for decompressing DEFLATE data\n */\nexport interface InflateOptions {\n  /**\n   * The dictionary used to compress the original data. If no dictionary was used during compression, this option has no effect.\n   * \n   * Supplying the wrong dictionary during decompression usually yields corrupt output or causes an invalid distance error.\n   */\n  dictionary?: Uint8Array;\n  /**\n   * The buffer into which to write the decompressed data. Saves memory if you know the decompressed size in advance.\n   * \n   * Note that if the decompression result is larger than the size of this buffer, it will be truncated to fit.\n   */\n  out?: Uint8Array;\n}\n\n/**\n * Options for decompressing Zlib data\n */\nexport interface UnzlibOptions extends InflateOptions {}\n\n// deflate with opts\nconst dopt = (dat: Uint8Array, opt: DeflateOptions, pre: number, post: number, st?: DeflateState) => {\n  if (!st) {\n    st = { l: 1 };\n    if (opt.dictionary) {\n      const dict = opt.dictionary.subarray(-32768);\n      const newDat = new u8(dict.length + dat.length);\n      newDat.set(dict);\n      newDat.set(dat, dict.length);\n      dat = newDat;\n      st.w = dict.length;\n    }\n  }\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n}\n\n// write bytes\nconst wbytes = (d: Uint8Array, b: number, v: number) => {\n  for (; v; ++b) d[b] = v, v >>>= 8;\n}\n\n// zlib header\nconst zlh = (c: Uint8Array, o: ZlibOptions) => {\n  const lv = o.level ?? 0, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = (fl << 6) | ((o.dictionary ?? 0) && 32);\n  c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n  if (o.dictionary) {\n    const h = adler();\n    h.p(o.dictionary);\n    wbytes(c, 2, h.d());\n  }\n}\n\n// zlib start\nconst zls = (d: Uint8Array, dict?: unknown) => {\n  if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31)) err(6, 'invalid zlib data');\n  if ((d[1] >> 5 & 1) == +!dict) err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n  return (d[1] >> 3 & 4) + 2;\n}\n\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data: Uint8Array, opts: ZlibOptions = {}) {\n  const a = adler();\n  a.p(data);\n  const d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data: Uint8Array, opts: UnzlibOptions = {}) {\n  return inflt(data.subarray(zls(data, opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n","import { platform } from \"../../platform\";\n\nexport class CRC32 {\n  // CRC32 Table 初始化\n  private static table = Uint32Array.from(Array(256), (_, i) => {\n    let c = i;\n\n    for (let j = 0; j < 8; j++) {\n      c = (c & 1) ? (0xedb88320 ^ (c >>> 1)) : (c >>> 1);\n    }\n\n    return c >>> 0;\n  });\n\n  private static WHITE_COLOR: number = 0xffffffff;\n\n  private readonly caches = new Map<string, number>();\n\n  calculate(buff: Uint8Array): number {\n    if (!(buff instanceof Uint8Array)) {\n      throw new TypeError('Input must be a Uint8Array');\n    }\n\n    const { caches } = this;\n    const key = platform.decode.bytesToString(buff);\n  \n    if (caches.has(key)) {\n      return caches.get(key)!;\n    }\n\n    let crc = CRC32.WHITE_COLOR;\n    // 使用位运算优化\n    for (let i = 0; i < buff.length; i++) {\n      crc = (crc >>> 8) ^ CRC32.table[(crc ^ buff[i]) & 0xff];\n    }\n\n    caches.set(key, (crc ^ CRC32.WHITE_COLOR) >>> 0);\n\n    return caches.get(key) as number;\n  }\n\n  clear(){\n    this.caches.clear();\n  }\n}","// import { zlibSync } from \"fflate\";\nimport { zlibSync } from \"../zlib\";\nimport { CRC32 } from \"./crc\";\n\nexport class PNGEncoder {\n  private readonly view: DataView;\n\n  private crc32 = new CRC32();\n\n  constructor(private readonly width: number, private readonly height: number) {\n    this.view = new DataView(new ArrayBuffer(4 * width * height));\n  }\n\n  private createChunk(type: string, data: Uint8Array): Uint8Array {\n    // 长度（4字节，大端序）\n    const length = new Uint8Array(4);\n    new DataView(length.buffer).setUint32(0, data.length, false);\n\n    // 块类型（4字节， ASCII）\n    const chunkType = Uint8Array.from(type, c => c.charCodeAt(0));\n\n    // 计算 CRC32 校验（类型 + 数据）\n    const partialChunk = new Uint8Array(chunkType.length + data.length);\n    partialChunk.set(chunkType);\n    partialChunk.set(data, chunkType.length);\n    \n    const crc = new Uint8Array(4);\n    new DataView(crc.buffer).setUint32(0, this.crc32.calculate(partialChunk) >>> 0, false);\n\n    // 汇总成完整的chunk数据\n    const result = new Uint8Array(length.length + partialChunk.length + crc.length);\n    result.set(length);\n    result.set(partialChunk, length.length);\n    result.set(crc, length.length + partialChunk.length);\n\n    return result;\n  }\n\n  private createIHDRChunk(): Uint8Array {\n    const ihdrData = new Uint8Array(13);\n    const view = new DataView(ihdrData.buffer);\n\n    // 宽度\n    view.setUint32(0, this.width, false);\n    // 高度\n    view.setUint32(4, this.height, false);\n    // 位深度\n    view.setUint8(8, 8);\n    // 颜色类型\n    view.setUint8(9, 6);\n    // 压缩方法\n    view.setUint8(10, 0);\n    // 过滤器方法\n    view.setUint8(11, 0);\n    // 交错方法\n    view.setUint8(12, 0);\n\n    return this.createChunk(\"IHDR\", ihdrData);\n  }\n\n  private createIDATChunk(): Uint8Array {\n    const { width, height } = this;\n    const validRowSize = width * 4;\n    // 每行开头添加一位过滤头数据\n    const rowSize = validRowSize + 1;\n    const data = new Uint8Array(rowSize * height);\n    // 将Uint32数据转换为Uint8数据\n    const pixelsData = new Uint8Array(this.view.buffer);\n    let startIdx: number;\n    let srcStart: number;\n\n    for (let y = 0; y < height; y++) {\n      startIdx = y * rowSize;\n      data[startIdx] = 0x00; // 过滤头\n      // ✅ 复制预先转换好的 RGBA 数据\n      srcStart = y * validRowSize; // Uint32 => 每个元素占 4 字节\n      data.set(pixelsData.subarray(srcStart, srcStart + validRowSize), startIdx + 1);\n    }\n\n    // 使用 zlib 进行压缩, 平衡压缩率有利于提升文件生成速度\n    return this.createChunk(\"IDAT\", zlibSync(data));\n  }\n\n  public setPixel(x: number, y: number, pixel: number): void {\n    this.view.setUint32((y * this.width + x) * 4, pixel, false);\n  }\n\n  public write(pixels: Uint8Array | Uint8ClampedArray): this {\n    const { width, height } = this;\n    let pos: number;\n    let r: number;\n    let g: number;\n    let b: number;\n    let a: number;\n    let pixel: number;\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        pos = (y * width + x) * 4;\n        r = pixels[pos];\n        g = pixels[pos + 1];\n        b = pixels[pos + 2];\n        a = pixels[pos + 3];\n        pixel = ((r << 24) | (g << 16) | (b << 8) | a) >>> 0;\n        this.setPixel(x, y, pixel);\n      }\n    }\n\n    return this;\n  }\n\n  public flush(): Uint8Array {\n    // 预先创建所有块\n    const iHDRChunk = this.createIHDRChunk();\n    const iDATChunk = this.createIDATChunk();\n    const iENDChunk = this.createChunk(\"IEND\", new Uint8Array(0));\n    \n    // 一次性分配内存（直接计算总大小）\n    const pngData = new Uint8Array(8 + iHDRChunk.length + iDATChunk.length + iENDChunk.length);\n    \n    /* ------ 按顺序写入数据 ------ */\n\n    // 1. 写入文件头（固定 8 字节）\n    let offset = 0;\n    pngData.set(new Uint8Array([137, 80, 78, 71, 13, 10, 26, 10]), offset);\n    // 2. 写入IHDR块\n    offset += 8;\n    pngData.set(iHDRChunk, offset);\n    // 3. 写入IDAT块\n    offset += iHDRChunk.length;\n    pngData.set(iDATChunk, offset);\n    // 4. 写入IEND块\n    offset += iDATChunk.length;\n    pngData.set(iENDChunk, offset);\n    \n    /* ------ 清空 CRC32 缓存 ------ */\n    this.crc32.clear();\n\n    return pngData;\n  }\n}\n","// ---------------------------------------------------------------------\n// qrBitBuffer\n// ---------------------------------------------------------------------\n\nexport class BitBuffer {\n  public buffer: number[] = [];\n\n  public lengthInBits = 0;\n\n  public getAt(i: number): boolean {\n    const bufIndex = ~~(i / 8);\n\n    return ((this.buffer[bufIndex] >>> (7 - (i % 8))) & 1) === 1;\n  }\n\n  public put(num: number, length: number): void {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1);\n    }\n  }\n\n  public putBit(bit: boolean): void {\n    const { lengthInBits: len, buffer } = this;\n    const bufIndex = ~~(len / 8);\n\n    if (buffer.length <= bufIndex) {\n      buffer.push(0);\n    }\n\n    if (bit) {\n      buffer[bufIndex] |= 0x80 >>> len % 8;\n    }\n\n    this.lengthInBits += 1;\n  }\n}\n","// ---------------------------------------------------------------------\n// QRMode\n// ---------------------------------------------------------------------\n\nexport const QRMode = {\n  MODE_NUMBER: 1 << 0,\n  MODE_ALPHA_NUM: 1 << 1,\n  MODE_8BIT_BYTE: 1 << 2,\n  MODE_KANJI: 1 << 3,\n}\n\n// ---------------------------------------------------------------------\n// QRErrorCorrectLevel\n// ---------------------------------------------------------------------\n\nexport const QRErrorCorrectLevel = {\n  L: 1,\n  M: 0,\n  Q: 3,\n  H: 2,\n}\n\n// ---------------------------------------------------------------------\n// QRMaskPattern\n// ---------------------------------------------------------------------\n\nexport const QRMaskPattern = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7,\n}\n","// ---------------------------------------------------------------------\n// qr8BitByte\n// ---------------------------------------------------------------------\n\nimport { BitBuffer } from \"./bit-buffer\";\nimport { QRMode } from \"./constants\";\n\nexport class BitByte {\n  private readonly bytes: number[];\n\n  constructor(data: string) {\n    let parsedData: number[][] = [];\n\n    // Added to support UTF-8 Characters\n    for (let i = 0; i < data.length; i++) {\n      const byteArray: number[] = [];\n      const code = data.charCodeAt(i);\n\n      if (code > 0x10000) {\n        byteArray[0] = 0xf0 | ((code & 0x1c0000) >>> 18);\n        byteArray[1] = 0x80 | ((code & 0x3f000) >>> 12);\n        byteArray[2] = 0x80 | ((code & 0xfc0) >>> 6);\n        byteArray[3] = 0x80 | (code & 0x3f);\n      } else if (code > 0x800) {\n        byteArray[0] = 0xe0 | ((code & 0xf000) >>> 12);\n        byteArray[1] = 0x80 | ((code & 0xfc0) >>> 6);\n        byteArray[2] = 0x80 | (code & 0x3f);\n      } else if (code > 0x80) {\n        byteArray[0] = 0xc0 | ((code & 0x7c0) >>> 6);\n        byteArray[1] = 0x80 | (code & 0x3f);\n      } else {\n        byteArray[0] = code;\n      }\n\n      // Fix Unicode corruption bug\n      parsedData.push(byteArray);\n    }\n\n    this.bytes = parsedData.flat(1);\n\n    const { bytes } = this;\n    if (bytes.length !== data.length) {\n      bytes.unshift(191);\n      bytes.unshift(187);\n      bytes.unshift(239);\n    }\n  }\n\n  public get mode(): number {\n    return QRMode.MODE_8BIT_BYTE;\n  }\n\n  public get length(): number {\n    return this.bytes.length;\n  }\n\n  public write(buff: BitBuffer): void {\n    const { bytes } = this;\n\n    for (let i = 0; i < bytes.length; i++) {\n      buff.put(bytes[i], 8);\n    }\n  }\n}\n","// ---------------------------------------------------------------------\n// QRRSBlock\n// ---------------------------------------------------------------------\n\nimport { QRErrorCorrectLevel } from \"./constants\";\n\nexport interface RSBlockCount {\n  totalCount: number;\n  dataCount: number;\n}\n\nconst RS_BLOCK_TABLE = [\n  [1, 26, 19],\n  [1, 26, 16],\n  [1, 26, 13],\n  [1, 26, 9],\n  [1, 44, 34],\n  [1, 44, 28],\n  [1, 44, 22],\n  [1, 44, 16],\n  [1, 70, 55],\n  [1, 70, 44],\n  [2, 35, 17],\n  [2, 35, 13],\n  [1, 100, 80],\n  [2, 50, 32],\n  [2, 50, 24],\n  [4, 25, 9],\n  [1, 134, 108],\n  [2, 67, 43],\n  [2, 33, 15, 2, 34, 16],\n  [2, 33, 11, 2, 34, 12],\n  [2, 86, 68],\n  [4, 43, 27],\n  [4, 43, 19],\n  [4, 43, 15],\n  [2, 98, 78],\n  [4, 49, 31],\n  [2, 32, 14, 4, 33, 15],\n  [4, 39, 13, 1, 40, 14],\n  [2, 121, 97],\n  [2, 60, 38, 2, 61, 39],\n  [4, 40, 18, 2, 41, 19],\n  [4, 40, 14, 2, 41, 15],\n  [2, 146, 116],\n  [3, 58, 36, 2, 59, 37],\n  [4, 36, 16, 4, 37, 17],\n  [4, 36, 12, 4, 37, 13],\n  [2, 86, 68, 2, 87, 69],\n  [4, 69, 43, 1, 70, 44],\n  [6, 43, 19, 2, 44, 20],\n  [6, 43, 15, 2, 44, 16],\n  [4, 101, 81],\n  [1, 80, 50, 4, 81, 51],\n  [4, 50, 22, 4, 51, 23],\n  [3, 36, 12, 8, 37, 13],\n  [2, 116, 92, 2, 117, 93],\n  [6, 58, 36, 2, 59, 37],\n  [4, 46, 20, 6, 47, 21],\n  [7, 42, 14, 4, 43, 15],\n  [4, 133, 107],\n  [8, 59, 37, 1, 60, 38],\n  [8, 44, 20, 4, 45, 21],\n  [12, 33, 11, 4, 34, 12],\n  [3, 145, 115, 1, 146, 116],\n  [4, 64, 40, 5, 65, 41],\n  [11, 36, 16, 5, 37, 17],\n  [11, 36, 12, 5, 37, 13],\n  [5, 109, 87, 1, 110, 88],\n  [5, 65, 41, 5, 66, 42],\n  [5, 54, 24, 7, 55, 25],\n  [11, 36, 12],\n  [5, 122, 98, 1, 123, 99],\n  [7, 73, 45, 3, 74, 46],\n  [15, 43, 19, 2, 44, 20],\n  [3, 45, 15, 13, 46, 16],\n  [1, 135, 107, 5, 136, 108],\n  [10, 74, 46, 1, 75, 47],\n  [1, 50, 22, 15, 51, 23],\n  [2, 42, 14, 17, 43, 15],\n  [5, 150, 120, 1, 151, 121],\n  [9, 69, 43, 4, 70, 44],\n  [17, 50, 22, 1, 51, 23],\n  [2, 42, 14, 19, 43, 15],\n  [3, 141, 113, 4, 142, 114],\n  [3, 70, 44, 11, 71, 45],\n  [17, 47, 21, 4, 48, 22],\n  [9, 39, 13, 16, 40, 14],\n  [3, 135, 107, 5, 136, 108],\n  [3, 67, 41, 13, 68, 42],\n  [15, 54, 24, 5, 55, 25],\n  [15, 43, 15, 10, 44, 16],\n  [4, 144, 116, 4, 145, 117],\n  [17, 68, 42],\n  [17, 50, 22, 6, 51, 23],\n  [19, 46, 16, 6, 47, 17],\n  [2, 139, 111, 7, 140, 112],\n  [17, 74, 46],\n  [7, 54, 24, 16, 55, 25],\n  [34, 37, 13],\n  [4, 151, 121, 5, 152, 122],\n  [4, 75, 47, 14, 76, 48],\n  [11, 54, 24, 14, 55, 25],\n  [16, 45, 15, 14, 46, 16],\n  [6, 147, 117, 4, 148, 118],\n  [6, 73, 45, 14, 74, 46],\n  [11, 54, 24, 16, 55, 25],\n  [30, 46, 16, 2, 47, 17],\n  [8, 132, 106, 4, 133, 107],\n  [8, 75, 47, 13, 76, 48],\n  [7, 54, 24, 22, 55, 25],\n  [22, 45, 15, 13, 46, 16],\n  [10, 142, 114, 2, 143, 115],\n  [19, 74, 46, 4, 75, 47],\n  [28, 50, 22, 6, 51, 23],\n  [33, 46, 16, 4, 47, 17],\n  [8, 152, 122, 4, 153, 123],\n  [22, 73, 45, 3, 74, 46],\n  [8, 53, 23, 26, 54, 24],\n  [12, 45, 15, 28, 46, 16],\n  [3, 147, 117, 10, 148, 118],\n  [3, 73, 45, 23, 74, 46],\n  [4, 54, 24, 31, 55, 25],\n  [11, 45, 15, 31, 46, 16],\n  [7, 146, 116, 7, 147, 117],\n  [21, 73, 45, 7, 74, 46],\n  [1, 53, 23, 37, 54, 24],\n  [19, 45, 15, 26, 46, 16],\n  [5, 145, 115, 10, 146, 116],\n  [19, 75, 47, 10, 76, 48],\n  [15, 54, 24, 25, 55, 25],\n  [23, 45, 15, 25, 46, 16],\n  [13, 145, 115, 3, 146, 116],\n  [2, 74, 46, 29, 75, 47],\n  [42, 54, 24, 1, 55, 25],\n  [23, 45, 15, 28, 46, 16],\n  [17, 145, 115],\n  [10, 74, 46, 23, 75, 47],\n  [10, 54, 24, 35, 55, 25],\n  [19, 45, 15, 35, 46, 16],\n  [17, 145, 115, 1, 146, 116],\n  [14, 74, 46, 21, 75, 47],\n  [29, 54, 24, 19, 55, 25],\n  [11, 45, 15, 46, 46, 16],\n  [13, 145, 115, 6, 146, 116],\n  [14, 74, 46, 23, 75, 47],\n  [44, 54, 24, 7, 55, 25],\n  [59, 46, 16, 1, 47, 17],\n  [12, 151, 121, 7, 152, 122],\n  [12, 75, 47, 26, 76, 48],\n  [39, 54, 24, 14, 55, 25],\n  [22, 45, 15, 41, 46, 16],\n  [6, 151, 121, 14, 152, 122],\n  [6, 75, 47, 34, 76, 48],\n  [46, 54, 24, 10, 55, 25],\n  [2, 45, 15, 64, 46, 16],\n  [17, 152, 122, 4, 153, 123],\n  [29, 74, 46, 14, 75, 47],\n  [49, 54, 24, 10, 55, 25],\n  [24, 45, 15, 46, 46, 16],\n  [4, 152, 122, 18, 153, 123],\n  [13, 74, 46, 32, 75, 47],\n  [48, 54, 24, 14, 55, 25],\n  [42, 45, 15, 32, 46, 16],\n  [20, 147, 117, 4, 148, 118],\n  [40, 75, 47, 7, 76, 48],\n  [43, 54, 24, 22, 55, 25],\n  [10, 45, 15, 67, 46, 16],\n  [19, 148, 118, 6, 149, 119],\n  [18, 75, 47, 31, 76, 48],\n  [34, 54, 24, 34, 55, 25],\n  [20, 45, 15, 61, 46, 16],\n];\n\nexport class RSBlock {\n  private getRSBlockTable(typeNumber: number, errorCorrectLevel: number): number[] {\n    const { L, M, Q, H } = QRErrorCorrectLevel;\n    const pos = (typeNumber - 1) * 4;\n\n    switch (errorCorrectLevel) {\n      case L:\n        return RS_BLOCK_TABLE[pos + 0];\n      case M:\n        return RS_BLOCK_TABLE[pos + 1];\n      case Q:\n        return RS_BLOCK_TABLE[pos + 2];\n      case H:\n        return RS_BLOCK_TABLE[pos + 3];\n      default:\n        throw new Error(`bad rs block @ typeNumber:${typeNumber}/errorCorrectLevel: ${errorCorrectLevel}`);\n    }\n  }\n\n  public getRSBlocks(typeNumber: number, errorCorrectLevel: number): RSBlockCount[] {\n    const rsBlock = this.getRSBlockTable(typeNumber, errorCorrectLevel);\n    const length = rsBlock.length / 3;\n    const list: RSBlockCount[] = [];\n\n    for (let i = 0; i < length; i++) {\n      const count = rsBlock[i * 3];\n      const totalCount = rsBlock[i * 3 + 1];\n      const dataCount = rsBlock[i * 3 + 2];\n\n      for (let j = 0; j < count; j++) {\n        list.push({ totalCount, dataCount });\n      }\n    }\n\n    return list;\n  }\n}\n","// ---------------------------------------------------------------------\n// QRMath\n// ---------------------------------------------------------------------\n\nconst EXP_TABLE = new Array(256);\nconst LOG_TABLE = new Array(256);\n\n// initialize tables\nfor (let i = 0; i < 8; i++) {\n  EXP_TABLE[i] = 1 << i;\n}\n\nfor (let i = 8; i < 256; i++) {\n  EXP_TABLE[i] = EXP_TABLE[i - 4] ^ EXP_TABLE[i - 5] ^ EXP_TABLE[i - 6] ^ EXP_TABLE[i - 8];\n}\n\nfor (let i = 0; i < 255; i++) {\n  LOG_TABLE[EXP_TABLE[i]] = i;\n}\n\nexport const QRMath = {\n  glog(n: number): number {\n    if (n < 1) {\n      throw new Error(`glog(${n})`);\n    }\n\n    return LOG_TABLE[n];\n  },\n\n  gexp(n: number): number {\n    if (n < 0) {\n      n = 255 + (n % 255);\n    } else if (n > 255) {\n      n %= 255;\n    }\n\n    return EXP_TABLE[n];\n  }\n}\n","// ---------------------------------------------------------------------\n// Polynomial\n// ---------------------------------------------------------------------\n\nimport { QRMath } from \"./math\";\n\nexport class Polynomial {\n  private readonly num: number[];\n\n  constructor(num: number[], shift: number) {\n    const { length } = num;\n\n    if (length === undefined) {\n      throw new Error(`${length}/${shift}`);\n    }\n\n    let offset = 0;\n    while (offset < length && num[offset] === 0) {\n      offset++;\n    }\n    \n    const len = length - offset;\n    this.num = new Array(len + shift);\n    for (let i = 0; i < len; i++) {\n      this.num[i] = num[i + offset];\n    }\n  }\n\n  public get length(): number {\n    return this.num.length;\n  }\n\n  public getAt(i: number): number {\n    return this.num[i];\n  }\n\n  public multiply(e: Polynomial): Polynomial {\n    const { glog, gexp } = QRMath;\n    const num: number[] = [];\n\n    for (let i = 0; i < this.length; i++) {\n      for (let j = 0; j < e.length; j++) {\n        num[i + j] ^= gexp(glog(this.getAt(i)) + glog(e.getAt(j)));\n      }\n    }\n\n    return new Polynomial(num, 0);\n  }\n\n  public mod(e: Polynomial): Polynomial {\n    if (this.length - e.length < 0) {\n      return this;\n    }\n\n    const { glog, gexp } = QRMath;\n    const ratio = glog(this.getAt(0)) - glog(e.getAt(0));\n    const num: number[] = [];\n\n    for (var i = 0; i < this.length; i++) {\n      const n = this.getAt(i);\n\n      num[i] = i < e.length ? n ^ gexp(glog(e.getAt(i)) + ratio) : n;\n    }\n\n    // recursive call\n    return new Polynomial(num, 0).mod(e);\n  }\n}\n","import { QRCode } from \".\";\nimport { Polynomial } from \"./polynomial\";\nimport { QRMaskPattern, QRMode } from \"./constants\";\nimport { QRMath } from \"./math\";\n\nconst PATTERN_POSITION_TABLE = [\n  [],\n  [6, 18],\n  [6, 22],\n  [6, 26],\n  [6, 30],\n  [6, 34],\n  [6, 22, 38],\n  [6, 24, 42],\n  [6, 26, 46],\n  [6, 28, 50],\n  [6, 30, 54],\n  [6, 32, 58],\n  [6, 34, 62],\n  [6, 26, 46, 66],\n  [6, 26, 48, 70],\n  [6, 26, 50, 74],\n  [6, 30, 54, 78],\n  [6, 30, 56, 82],\n  [6, 30, 58, 86],\n  [6, 34, 62, 90],\n  [6, 28, 50, 72, 94],\n  [6, 26, 50, 74, 98],\n  [6, 30, 54, 78, 102],\n  [6, 28, 54, 80, 106],\n  [6, 32, 58, 84, 110],\n  [6, 30, 58, 86, 114],\n  [6, 34, 62, 90, 118],\n  [6, 26, 50, 74, 98, 122],\n  [6, 30, 54, 78, 102, 126],\n  [6, 26, 52, 78, 104, 130],\n  [6, 30, 56, 82, 108, 134],\n  [6, 34, 60, 86, 112, 138],\n  [6, 30, 58, 86, 114, 142],\n  [6, 34, 62, 90, 118, 146],\n  [6, 30, 54, 78, 102, 126, 150],\n  [6, 24, 50, 76, 102, 128, 154],\n  [6, 28, 54, 80, 106, 132, 158],\n  [6, 32, 58, 84, 110, 136, 162],\n  [6, 26, 54, 82, 110, 138, 166],\n  [6, 30, 58, 86, 114, 142, 170],\n];\nconst G15 =\n  (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\nconst G18 =\n  (1 << 12) |\n  (1 << 11) |\n  (1 << 10) |\n  (1 << 9) |\n  (1 << 8) |\n  (1 << 5) |\n  (1 << 2) |\n  (1 << 0);\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\nconst genBCHDigit = (data: number) => data === 0 ? 0 : Math.log2(data);\nconst BCH_G15 = genBCHDigit(G15);\nconst BCH_G18 = genBCHDigit(G18);\n\n// ---------------------------------------------------------------------\n// QRUtil\n// ---------------------------------------------------------------------\n\nexport const Util = {\n  getBCHTypeInfo(data: number): number {\n    let d = data << 10;\n\n    while (genBCHDigit(d) - BCH_G15 >= 0) {\n      d ^= G15 << (genBCHDigit(d) - BCH_G15);\n    }\n\n    return ((data << 10) | d) ^ G15_MASK;\n  },\n\n  getBCHTypeNumber(data: number): number {\n    let d = data << 12;\n\n    while (genBCHDigit(d) - BCH_G18 >= 0) {\n      d ^= G18 << (genBCHDigit(d) - BCH_G18);\n    }\n\n    return (data << 12) | d;\n  },\n\n  getPatternPosition(typeNumber: number): number[] {\n    return PATTERN_POSITION_TABLE[typeNumber - 1];\n  },\n\n  getMaskFunction(maskPattern: number): (i: number, j: number) => boolean {\n    const {\n      PATTERN000,\n      PATTERN001,\n      PATTERN010,\n      PATTERN011,\n      PATTERN100,\n      PATTERN101,\n      PATTERN110,\n      PATTERN111,\n    } = QRMaskPattern;\n\n    switch (maskPattern) {\n      case PATTERN000:\n        return (i: number, j: number) => (i + j) % 2 === 0;\n      case PATTERN001:\n        return (i: number) => i % 2 === 0;\n      case PATTERN010:\n        return (_i: number, j: number) => j % 3 === 0;\n      case PATTERN011:\n        return (i: number, j: number) => (i + j) % 3 === 0;\n      case PATTERN100:\n        return (i: number, j: number) => (~~(i / 2) + ~~(j / 3)) % 2 === 0;\n      case PATTERN101:\n        return (i: number, j: number) => ((i * j) % 2) + ((i * j) % 3) === 0;\n      case PATTERN110:\n        return (i: number, j: number) =>\n          (((i * j) % 2) + ((i * j) % 3)) % 2 === 0;\n      case PATTERN111:\n        return (i: number, j: number) =>\n          (((i * j) % 3) + ((i + j) % 2)) % 2 === 0;\n      default:\n        throw new Error(`bad maskPattern: ${maskPattern}`);\n    }\n  },\n\n  getErrorCorrectPolynomial(errorCorrectLength: number): Polynomial {\n    let a = new Polynomial([1], 0);\n\n    for (let i = 0; i < errorCorrectLength; i++) {\n      a = a.multiply(new Polynomial([1, QRMath.gexp(i)], 0));\n    }\n\n    return a;\n  },\n\n  getLengthInBits(mode: number, type: number): number {\n    const { MODE_NUMBER, MODE_ALPHA_NUM, MODE_8BIT_BYTE, MODE_KANJI } = QRMode;\n\n    if (type < 1 || type > 40) {\n      throw new Error(`type: ${type}`);\n    }\n\n    if (type >= 1 && type < 10) {\n      // 1 - 9\n\n      switch (mode) {\n        case MODE_NUMBER:\n          return 10;\n        case MODE_ALPHA_NUM:\n          return 9;\n        case MODE_8BIT_BYTE:\n          return 8;\n        case MODE_KANJI:\n          return 8;\n        default:\n      }\n    }\n\n    if (type < 27) {\n      // 10 - 26\n\n      switch (mode) {\n        case MODE_NUMBER:\n          return 12;\n        case MODE_ALPHA_NUM:\n          return 11;\n        case MODE_8BIT_BYTE:\n          return 16;\n        case MODE_KANJI:\n          return 10;\n        default:\n      }\n    }\n\n    if (type <= 40) {\n      // 27 - 40\n\n      switch (mode) {\n        case MODE_NUMBER:\n          return 14;\n        case MODE_ALPHA_NUM:\n          return 13;\n        case MODE_8BIT_BYTE:\n          return 16;\n        case MODE_KANJI:\n          return 12;\n        default:\n      }\n    }\n\n    throw new Error(`mode: ${mode}`);\n  },\n\n  getLostPoint(qr: QRCode): number {\n    const moduleCount = qr.getModuleCount();\n    let lostPoint = 0;\n\n    // LEVEL1\n\n    for (let row = 0; row < moduleCount; row++) {\n      for (let col = 0; col < moduleCount; col++) {\n        const dark = qr.isDark(row, col);\n        let sameCount = 0;\n\n        for (let r = -1; r <= 1; r++) {\n          const nRow = row + r;\n          if (nRow < 0 || moduleCount <= nRow) continue;\n\n          for (let c = -1; c <= 1; c++) {\n            const nCol = col + c;\n            if (nCol < 0 || moduleCount <= nCol) continue;\n            if (r === 0 && c === 0) continue;\n            if (dark === qr.isDark(nRow, nCol)) {\n              sameCount++;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += sameCount + 3 - 5;\n        }\n      }\n    }\n\n    // LEVEL2\n\n    for (let row = 0; row < moduleCount - 1; row++) {\n      for (let col = 0; col < moduleCount - 1; col++) {\n        let count = 0;\n\n        if (qr.isDark(row, col)) count++;\n        if (qr.isDark(row + 1, col)) count++;\n        if (qr.isDark(row, col + 1)) count++;\n        if (qr.isDark(row + 1, col + 1)) count++;\n        if (count === 0 || count === 4) {\n          lostPoint += 3;\n        }\n      }\n    }\n\n    // LEVEL3\n\n    for (let row = 0; row < moduleCount; row++) {\n      for (let col = 0; col < moduleCount - 6; col++) {\n        if (\n          qr.isDark(row, col) &&\n          !qr.isDark(row, col + 1) &&\n          qr.isDark(row, col + 2) &&\n          qr.isDark(row, col + 3) &&\n          qr.isDark(row, col + 4) &&\n          !qr.isDark(row, col + 5) &&\n          qr.isDark(row, col + 6)\n        ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (let col = 0; col < moduleCount; col++) {\n      for (let row = 0; row < moduleCount - 6; row++) {\n        if (\n          qr.isDark(row, col) &&\n          !qr.isDark(row + 1, col) &&\n          qr.isDark(row + 2, col) &&\n          qr.isDark(row + 3, col) &&\n          qr.isDark(row + 4, col) &&\n          !qr.isDark(row + 5, col) &&\n          qr.isDark(row + 6, col)\n        ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    // LEVEL4\n\n    let darkCount = 0;\n    for (let col = 0; col < moduleCount; col++) {\n      for (let row = 0; row < moduleCount; row++) {\n        if (qr.isDark(row, col)) {\n          darkCount++;\n        }\n      }\n    }\n\n    const ratio =\n      Math.abs((100 * darkCount) / Math.pow(moduleCount, 2) - 50) / 5;\n\n    return lostPoint + ratio * 10;\n  },\n};\n","// ---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2025 LiHZSky\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n// http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//\n// ---------------------------------------------------------------------\n\nimport { BitBuffer } from \"./bit-buffer\";\nimport { BitByte } from \"./bit-byte\";\nimport { RSBlock, RSBlockCount } from \"./block\";\nimport { QRErrorCorrectLevel } from \"./constants\";\nimport { Polynomial } from \"./polynomial\";\nimport { Util } from \"./util\";\n\nconst PAD0 = 0xec;\nconst PAD1 = 0x11;\n\n/**\n * QRCode实现\n * https://www.cnblogs.com/leestar54/p/15782929.html\n * @param typeNumber 1 to 40\n * @param errorCorrectLevel 'L','M','Q','H'\n */\nexport class QRCode {\n  private readonly errorCorrectLevel: number;\n\n  private modules: boolean[][] = [];\n\n  private moduleCount = 0;\n\n  private dataCache: number[] | null = null;\n\n  private dataList: BitByte[] = [];\n\n  constructor(\n    private readonly typeNumber: number,\n    errorCorrectLevel: \"L\" | \"M\" | \"Q\" | \"H\"\n  ) {\n    this.errorCorrectLevel = QRErrorCorrectLevel[errorCorrectLevel];\n  }\n\n  private makeImpl(test: boolean, maskPattern: number): void {\n    this.moduleCount = this.typeNumber * 4 + 17;\n    this.modules = ((moduleCount: number) => {\n      const modules: boolean[][] = [];\n\n      // 预设一个 moduleCount * moduleCount 的空白矩阵\n      for (let row = 0; row < moduleCount; row++) {\n        modules[row] = [];\n\n        for (let col = 0; col < moduleCount; col++) {\n          modules[row][col] = null as unknown as boolean;\n        }\n      }\n\n      return modules;\n    })(this.moduleCount);;\n\n    const count = this.moduleCount - 7;\n\n    this.setupPositionProbePattern(0, 0);\n    this.setupPositionProbePattern(count, 0);\n    this.setupPositionProbePattern(0, count);\n    this.setupPositionAdjustPattern();\n    this.setupTimingPattern();\n    this.setupTypeInfo(test, maskPattern);\n\n    if (this.typeNumber >= 7) {\n      this.setupTypeNumber(test);\n    }\n\n    if (this.dataCache === null) {\n      this.dataCache = this.createData(\n        this.typeNumber,\n        this.errorCorrectLevel,\n        this.dataList\n      );\n    }\n\n    this.mapData(this.dataCache, maskPattern);\n  }\n\n  private setupPositionProbePattern(row: number, col: number): void {\n    const { modules, moduleCount } = this;\n\n    for (let r = -1; r <= 7; r++) {\n      const nr = row + r;\n      if (nr <= -1 || moduleCount <= nr) continue;\n\n      for (let c = -1; c <= 7; c++) {\n        const nc = col + c;\n        if (nc <= -1 || moduleCount <= nc) continue;\n\n        modules[nr][nc] =\n          (r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4);\n      }\n    }\n  }\n\n  private setupPositionAdjustPattern(): void {\n    const { typeNumber, modules } = this;\n    const pos = Util.getPatternPosition(typeNumber);\n    const { length } = pos;\n\n    for (let i = 0; i < length; i++) {\n      for (let j = 0; j < length; j++) {\n        const row = pos[i];\n        const col = pos[j];\n\n        if (modules[row][col] != null) continue;\n\n        for (let r = -2; r <= 2; r++) {\n          for (let c = -2; c <= 2; c++) {\n            modules[row + r][col + c] =\n              r === -2 || r === 2 || c === -2 || c === 2 || (r === 0 && c === 0);\n          }\n        }\n      }\n    }\n  }\n\n  private setupTimingPattern(): void {\n    const { moduleCount, modules } = this;\n    const count = moduleCount - 8;\n\n    for (let r = 8; r < count; r++) {\n      if (modules[r][6] != null) continue;\n\n      modules[r][6] = r % 2 === 0;\n    }\n\n    for (let c = 8; c < count; c++) {\n      if (modules[6][c] != null) continue;\n\n      modules[6][c] = c % 2 === 0;\n    }\n  }\n\n  private setupTypeInfo(test: boolean, maskPattern: number): void {\n    const { errorCorrectLevel, modules, moduleCount } = this;\n    const data = (errorCorrectLevel << 3) | maskPattern;\n    const bits = Util.getBCHTypeInfo(data);\n\n    // vertical\n    for (let i = 0; i < 15; i++) {\n      const mod = !test && ((bits >> i) & 1) === 1;\n\n      if (i < 6) {\n        modules[i][8] = mod;\n      } else if (i < 8) {\n        modules[i + 1][8] = mod;\n      } else {\n        modules[moduleCount - 15 + i][8] = mod;\n      }\n    }\n\n    // horizontal\n    for (let i = 0; i < 15; i++) {\n      const mod = !test && ((bits >> i) & 1) === 1;\n\n      if (i < 8) {\n        modules[8][moduleCount - i - 1] = mod;\n      } else if (i < 9) {\n        modules[8][15 - i] = mod;\n      } else {\n        modules[8][15 - i - 1] = mod;\n      }\n    }\n\n    // fixed module\n    modules[moduleCount - 8][8] = !test;\n  }\n\n  private getBestMaskPattern(): number {\n    let minLostPoint = 0;\n    let pattern = 0;\n\n    for (let i = 0; i < 8; i++) {\n      this.makeImpl(true, i);\n\n      const lostPoint = Util.getLostPoint(this);\n      if (i === 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint;\n        pattern = i;\n      }\n    }\n\n    return pattern;\n  }\n\n  private setupTypeNumber(test: boolean): void {\n    const { typeNumber, modules, moduleCount } = this;\n    const bits = Util.getBCHTypeNumber(typeNumber);\n\n    for (let i = 0; i < 18; i++) {\n      const mod = !test && ((bits >> i) & 1) === 1;\n\n      modules[~~(i / 3)][(i % 3) + moduleCount - 8 - 3] = mod;\n      modules[(i % 3) + moduleCount - 8 - 3][~~(i / 3)] = mod;\n    }\n  }\n\n  private createData(\n    typeNumber: number,\n    errorCorrectLevel: number,\n    dataList: BitByte[]\n  ): number[] {\n    const rsBlocks = new RSBlock().getRSBlocks(typeNumber, errorCorrectLevel);\n    const buffer = new BitBuffer();\n\n    for (let i = 0; i < dataList.length; i++) {\n      const data = dataList[i];\n\n      buffer.put(data.mode, 4);\n      buffer.put(data.length, Util.getLengthInBits(data.mode, typeNumber));\n      data.write(buffer);\n    }\n\n    // calc num max data.\n    let totalDataCount = 0;\n    for (let i = 0; i < rsBlocks.length; i++) {\n      totalDataCount += rsBlocks[i].dataCount;\n    }\n\n    const totalCount = totalDataCount * 8;\n    if (buffer.lengthInBits > totalCount) {\n      throw new Error(\n        `code length overflow. (${buffer.lengthInBits} > ${totalCount})`\n      );\n    }\n\n    // end code\n    if (buffer.lengthInBits + 4 <= totalCount) {\n      buffer.put(0, 4);\n    }\n\n    // padding\n    while (buffer.lengthInBits % 8 !== 0) {\n      buffer.putBit(false);\n    }\n\n    // padding\n    while (true) {\n      if (buffer.lengthInBits >= totalCount) {\n        break;\n      }\n      buffer.put(PAD0, 8);\n\n      if (buffer.lengthInBits >= totalCount) {\n        break;\n      }\n      buffer.put(PAD1, 8);\n    }\n\n    return this.createBytes(buffer, rsBlocks);\n  }\n\n  private mapData(data: number[], maskPattern: number): void {\n    const { modules, moduleCount } = this;\n    const maskFunc = Util.getMaskFunction(maskPattern);\n    let inc = -1;\n    let row = moduleCount - 1;\n    let bitIndex = 7;\n    let byteIndex = 0;\n\n    for (let col = row; col > 0; col -= 2) {\n      if (col === 6) col -= 1;\n\n      while (true) {\n        for (let c = 0; c < 2; c++) {\n          if (modules[row][col - c] == null) {\n            let dark = false;\n\n            if (byteIndex < data.length) {\n              dark = ((data[byteIndex] >>> bitIndex) & 1) === 1;\n            }\n\n            if (maskFunc(row, col - c)) {\n              dark = !dark;\n            }\n\n            modules[row][col - c] = dark;\n            bitIndex--;\n\n            if (bitIndex === -1) {\n              byteIndex++;\n              bitIndex = 7;\n            }\n          }\n        }\n\n        row += inc;\n\n        if (row < 0 || moduleCount <= row) {\n          row -= inc;\n          inc = -inc;\n          break;\n        }\n      }\n    }\n  }\n\n  private createBytes(\n    bitBuffer: BitBuffer,\n    rsBlocks: RSBlockCount[]\n  ): number[] {\n    const dcdata: number[][] = [];\n    const ecdata: number[][] = [];\n    let offset = 0;\n    let maxDcCount = 0;\n    let maxEcCount = 0;\n\n    for (let r = 0; r < rsBlocks.length; r++) {\n      const dcCount = rsBlocks[r].dataCount;\n      const ecCount = rsBlocks[r].totalCount - dcCount;\n\n      maxDcCount = Math.max(maxDcCount, dcCount);\n      maxEcCount = Math.max(maxEcCount, ecCount);\n\n      dcdata[r] = [];\n\n      for (let i = 0; i < dcCount; i++) {\n        dcdata[r][i] = 0xff & bitBuffer.buffer[i + offset];\n      }\n\n      offset += dcCount;\n\n      const rsPoly = Util.getErrorCorrectPolynomial(ecCount);\n      const rawPoly = new Polynomial(dcdata[r], rsPoly.length - 1);\n      const modPoly = rawPoly.mod(rsPoly);\n\n      ecdata[r] = new Array(rsPoly.length - 1);\n      for (let i = 0; i < ecdata[r].length; i++) {\n        const modIndex = i + modPoly.length - ecdata[r].length;\n\n        ecdata[r][i] = modIndex >= 0 ? modPoly.getAt(modIndex) : 0;\n      }\n    }\n\n    let totalCodeCount = 0;\n    for (let i = 0; i < rsBlocks.length; i++) {\n      totalCodeCount += rsBlocks[i].totalCount;\n    }\n\n    const data = new Array(totalCodeCount);\n    let index = 0;\n\n    for (let i = 0; i < maxDcCount; i++) {\n      for (let r = 0; r < rsBlocks.length; r++) {\n        if (i < dcdata[r].length) {\n          data[index++] = dcdata[r][i];\n        }\n      }\n    }\n\n    for (let i = 0; i < maxEcCount; i++) {\n      for (let r = 0; r < rsBlocks.length; r++) {\n        if (i < ecdata[r].length) {\n          data[index++] = ecdata[r][i];\n        }\n      }\n    }\n\n    return data;\n  }\n\n  public isDark(row: number, col: number): boolean {\n    const { moduleCount } = this;\n\n    if (row < 0 || moduleCount <= row || col < 0 || moduleCount <= col) {\n      throw new Error(`${row}, ${col}`);\n    }\n\n    return this.modules[row][col];\n  }\n\n  public addData(data: string): void {\n    this.dataList.push(new BitByte(data));\n    this.dataCache = null;\n  }\n\n  public getModuleCount(): number {\n    return this.moduleCount;\n  }\n\n  public make(): void {\n    this.makeImpl(false, this.getBestMaskPattern());\n  }\n}\n","// import { unzlibSync } from \"fflate\";\nimport { unzlibSync, createVideoEntity } from \"../../extensions\";\nimport { platform } from \"../../platform\";\nimport type { PlatformVideo } from \"../../types\";\n\n/**\n * SVGA 下载解析器\n */\nexport class Parser {\n  /**\n   * 解压视频源文件\n   * @param data\n   * @returns\n   */\n  static decompress(data: ArrayBufferLike): ArrayBufferLike {\n    return unzlibSync(new Uint8Array(data)).buffer;\n  }\n\n  /**\n   * 解析视频实体\n   * @param data 视频二进制数据\n   * @param url 视频地址\n   * @param needDecompress 是否解压\n   * @returns\n   */\n  static parseVideo(\n    data: ArrayBufferLike,\n    url: string,\n    needDecompress: boolean = true\n  ): PlatformVideo.Video {\n    return createVideoEntity(\n      new Uint8Array(needDecompress ? this.decompress(data) : data),\n      platform.path.filename(url)\n    );\n  }\n\n  /**\n   * 读取文件资源\n   * @param url 文件资源地址\n   * @returns\n   */\n  static async download(url: string): Promise<ArrayBuffer> {\n    const { globals, remote, path, local } = platform;\n    const { env } = globals;\n    const supportLocal = env !== \"h5\" && env !== \"tt\";\n    const filepath = path.is(url)\n        ? url\n        : path.resolve(path.filename(url));\n\n    // 本地读取\n    if (supportLocal) {\n      if (await local!.exists(filepath)) {\n        return local!.read(filepath);\n      }\n    }\n\n    // 远程读取\n    const buff = await remote.fetch(url);\n\n    // 本地缓存\n    if (supportLocal) {\n      try {\n        await local!.write(buff, filepath);\n      } catch (ex) {\n        // eslint-disable-next-line no-console\n        console.error(ex);\n      }\n    }\n\n    return buff;\n  }\n\n  /**\n   * 通过 url 下载并解析 SVGA 文件\n   * @param url SVGA 文件的下载链接\n   * @returns Promise<SVGA 数据源\n   */\n  static async load(url: string): Promise<PlatformVideo.Video> {\n    return Parser.parseVideo((await Parser.download(url))!, url);\n  }\n}\n","import type { PlatformCanvas, PlatformOffscreenCanvas } from \"octopus-platform\";\nimport { platform } from \"../../platform\";\nimport type { PaintModel, PaintMode } from \"../../types\";\n\nconst { noop } = platform;\n\nexport class Painter {\n  /**\n   * 主屏的 Canvas 元素\n   * Front Screen\n   */\n  public F: PlatformCanvas | PlatformOffscreenCanvas | null = null;\n  /**\n   * 主屏的 Context 对象\n   * Front Context\n   */\n  public FC:\n    | CanvasRenderingContext2D\n    | OffscreenCanvasRenderingContext2D\n    | null = null;\n  /**\n   * 副屏的 Canvas 元素\n   * Background Screen\n   */\n  public B: PlatformCanvas | PlatformOffscreenCanvas | null = null;\n  /**\n   * 副屏的 Context 对象\n   * Background Context\n   */\n  public BC:\n    | CanvasRenderingContext2D\n    | OffscreenCanvasRenderingContext2D\n    | null = null;\n  /**\n   * 画布的宽度\n   */\n  public W: number;\n  /**\n   * 画布的高度\n   */\n  public H: number;\n  /**\n   * 粉刷模式\n   */\n  private model: PaintModel = {} as PaintModel;\n\n  /**\n   *\n   * @param mode\n   *  - poster: 海报模式\n   *  - animation: 动画模式\n   *  - 默认为 animation\n   * @param W 海报模式必须传入\n   * @param H 海报模式必须传入\n   */\n  constructor(\n    private readonly mode: PaintMode = \"animation\",\n    width = 0,\n    height = 0\n  ) {\n    const { dpr } = platform.globals;\n\n    this.W = width * dpr;\n    this.H = height * dpr;\n  }\n\n  /**\n   * 设置 Canvas 的处理模式\n   * - C：代表 Canvas\n   * - O：代表 OffscreenCanvas\n   */\n  private setModel(type: \"C\" | \"O\"): void {\n    const { model } = this;\n    const { env } = platform.globals;\n\n    // set type\n    model.type = type;\n\n    // set clear\n    if (\n      type === \"O\" &&\n      // OffscreenCanvas 在 Firefox 浏览器无法被清理历史内容\n      env === \"h5\" &&\n      navigator.userAgent.includes(\"Firefox\")\n    ) {\n      model.clear = \"CR\";\n    } else if ((type === \"O\" && env === \"tt\") || env === \"alipay\") {\n      model.clear = \"CL\";\n    } else {\n      model.clear = \"RE\";\n    }\n  }\n\n  /**\n   * 注册画笔，根据环境判断生成最优的绘制方式\n   * @param selector\n   * @param ofsSelector\n   * @param component\n   */\n  public async register(\n    selector: string,\n    ofsSelector?: string,\n    component?: any\n  ) {\n    const { model, mode } = this;\n    const { getCanvas, getOfsCanvas } = platform;\n    const { env } = platform.globals;\n    // #region set main screen implement\n    // -------- 创建主屏 ---------\n    if (\n      mode === \"poster\" &&\n      (env !== \"h5\" || \"OffscreenCanvas\" in globalThis)\n    ) {\n      const { W, H } = this;\n      const { canvas, context } = getOfsCanvas({ width: W, height: H });\n\n      this.F = canvas;\n      this.FC = context;\n      this.setModel(\"O\");\n    } else {\n      const { canvas, context } = await getCanvas(selector, component);\n      const { width, height } = canvas;\n      // 添加主屏\n      this.F = canvas;\n      this.FC = context;\n      this.setModel(\"C\");\n\n      if (mode === \"poster\") {\n        canvas.width = this.W;\n        canvas.height = this.H;\n      } else {\n        this.W = width;\n        this.H = height;\n      }\n    }\n    // #endregion set main screen implement\n\n    // #region clear main screen implement\n    // ------- 生成主屏清理函数 -------\n    // FIXME:【支付宝小程序】无法通过改变尺寸来清理画布\n    if (model.clear === \"CL\") {\n      this.clearContainer = () => {\n        const { W, H, FC } = this;\n\n        FC!.clearRect(0, 0, W, H);\n      };\n    } else {\n      this.clearContainer = () => {\n        const { W, H, F } = this;\n\n        F!.width = W;\n        F!.height = H;\n      };\n    }\n    // #endregion clear main screen implement\n\n    if (mode === \"poster\") {\n      this.B = this.F;\n      this.BC = this.FC;\n      this.clearSecondary = this.stick = noop;\n    } else {\n      // #region set secondary screen implement\n      // ------- 创建副屏 ---------\n      let ofsResult;\n\n      if (typeof ofsSelector === \"string\" && ofsSelector !== \"\") {\n        ofsResult = await getCanvas(ofsSelector, component);\n        ofsResult.canvas.width = this.W;\n        ofsResult.canvas.height = this.H;\n        this.setModel(\"C\");\n      } else {\n        ofsResult = getOfsCanvas({ width: this.W, height: this.H });\n        this.setModel(\"O\");\n      }\n\n      this.B = ofsResult.canvas;\n      this.BC = ofsResult.context;\n      // #endregion set secondary screen implement\n\n      // #region clear secondary screen implement\n      // ------- 生成副屏清理函数 --------\n      switch (model.clear) {\n        case \"CR\":\n          this.clearSecondary = () => {\n            const { W, H } = this;\n            // FIXME:【支付宝小程序】频繁创建新的 OffscreenCanvas 会出现崩溃现象\n            const { canvas, context } = getOfsCanvas({ width: W, height: H });\n\n            this.B = canvas;\n            this.BC = context;\n          };\n          break;\n        case \"CL\":\n          this.clearSecondary = () => {\n            const { W, H, BC } = this;\n            // FIXME:【支付宝小程序】无法通过改变尺寸来清理画布，无论是Canvas还是OffscreenCanvas\n            BC!.clearRect(0, 0, W, H);\n          };\n          break;\n        default:\n          this.clearSecondary = () => {\n            const { W, H, B } = this;\n          \n            B!.width = W;\n            B!.height = H;\n          };\n      }\n      // #endregion clear secondary screen implement\n    }\n  }\n\n  public clearContainer: () => void = noop;\n\n  public clearSecondary: () => void = noop;\n\n  public stick() {\n    const { W, H,FC, BC, mode } = this;\n\n    if (mode !== \"poster\") {\n      FC!.drawImage(BC!.canvas, 0, 0, W, H);\n    }\n  }\n\n  /**\n   * 销毁画笔\n   */\n  public destroy() {\n    this.clearContainer();\n    this.clearSecondary();\n    this.F = this.FC = this.B = this.BC = null;\n    this.clearContainer = this.clearSecondary = this.stick = noop;\n  }\n}\n","import {\n  type PlatformVideo,\n  type PlayerConfig,\n  PLAYER_FILL_MODE,\n  PLAYER_PLAY_MODE,\n  PLAYER_CONTENT_MODE,\n} from \"../../types\";\n\nexport class Config {\n  /**\n   * 最后停留的目标模式，类似于 animation-fill-mode，默认值 forwards。\n   */\n  public fillMode = PLAYER_FILL_MODE.BACKWARDS;\n  /**\n   * 播放模式，默认值 forwards\n   */\n  public playMode = PLAYER_PLAY_MODE.FORWARDS;\n  /**\n   * 填充模式，类似于 content-mode。\n   */\n  public contentMode = PLAYER_CONTENT_MODE.FILL;\n  /**\n   * 开始播放的帧，默认值 0\n   */\n  public startFrame = 0;\n  /**\n   * 结束播放的帧，默认值 0\n   */\n  public endFrame = 0;\n  /**\n   * 循环播放的开始帧，默认值 0\n   */\n  public loopStartFrame = 0;\n  /**\n   * 循环次数，默认值 0（无限循环）\n   */\n  public loop = 0;\n\n  public register(config: Partial<PlayerConfig>) {\n    if (typeof config.loop === \"number\" && config.loop >= 0) {\n      this.loop = config.loop;\n    }\n\n    if (\n      config.fillMode &&\n      [\n        PLAYER_FILL_MODE.FORWARDS,\n        PLAYER_FILL_MODE.BACKWARDS,\n        PLAYER_FILL_MODE.NONE,\n      ].includes(config.fillMode)\n    ) {\n      this.fillMode = config.fillMode;\n    }\n\n    if (\n      config.playMode &&\n      [PLAYER_PLAY_MODE.FORWARDS, PLAYER_PLAY_MODE.FALLBACKS].includes(\n        config.playMode\n      )\n    ) {\n      this.playMode = config.playMode;\n    }\n\n    if (typeof config.startFrame === \"number\" && config.startFrame >= 0) {\n      this.startFrame = config.startFrame;\n    }\n\n    if (typeof config.endFrame === \"number\" && config.endFrame >= 0) {\n      this.endFrame = config.endFrame;\n    }\n\n    if (\n      typeof config.loopStartFrame === \"number\" &&\n      config.loopStartFrame >= 0\n    ) {\n      this.loopStartFrame = config.loopStartFrame;\n    }\n\n    if (typeof config.contentMode === \"string\") {\n      this.contentMode = config.contentMode;\n    }\n  }\n\n  public setItem<T extends keyof PlayerConfig>(key: T, value: PlayerConfig[T]) {\n    this.register({ [key]: value });\n  }\n\n  public getConfig(entity: PlatformVideo.Video) {\n    const { playMode, loopStartFrame, startFrame, endFrame, fillMode, loop } =\n      this;\n    const { fps, sprites } = entity;\n    let { frames } = entity;\n    const spriteCount = sprites.length;\n    const start = startFrame > 0 ? startFrame : 0;\n    const end = endFrame > 0 && endFrame < frames ? endFrame : frames;\n    // 每帧持续的时间\n    const frameDuration = 1000 / fps;\n\n    if (start > end) {\n      throw new Error(\"StartFrame should greater than EndFrame\");\n    }\n\n    // 更新活动帧总数\n    if (end < frames) {\n      frames = end - start;\n    } else if (start > 0) {\n      frames -= start;\n    }\n\n    const duration = Math.floor(frames * frameDuration * 10 ** 6) / 10 ** 6;\n    let currFrame = 0;\n    let extFrame = 0;\n    let loopStart: number;\n\n    // 顺序播放/倒叙播放\n    if (playMode === PLAYER_PLAY_MODE.FORWARDS) {\n      // 重置为开始帧\n      currFrame = Math.max(loopStartFrame, startFrame);\n      if (fillMode === PLAYER_FILL_MODE.FORWARDS) {\n        extFrame = 1;\n      }\n      loopStart =\n        loopStartFrame > start ? (loopStartFrame - start) * frameDuration : 0;\n    } else {\n      // 重置为开始帧\n      currFrame = Math.min(loopStartFrame, end - 1);\n      if (fillMode === PLAYER_FILL_MODE.BACKWARDS) {\n        extFrame = 1;\n      }\n      loopStart =\n        loopStartFrame < end ? (end - loopStartFrame) * frameDuration : 0;\n    }\n\n    return {\n      currFrame,\n      startFrame: start,\n      endFrame: end,\n      totalFrame: frames,\n      spriteCount,\n      aniConfig: {\n        // 单个周期的运行时长\n        duration,\n        // 第一个周期开始时间偏移量\n        loopStart,\n        // 循环次数\n        loop: loop === 0 ? Infinity : loop,\n        // 最后一帧不在周期内，需要单独计算\n        fillValue: extFrame * frameDuration,\n      },\n    };\n  }\n}\n","import { platform } from \"../platform\";\nimport { PNGEncoder, QRCode } from \"../extensions\";\n\nexport interface IQrCodeImgOptions {\n  /**\n   * 二维码内容\n   */\n  code: string;\n  /**\n   * 二维码的大小\n   */\n  size: number;\n  /**\n   * 二维码的码元 二维码横向有多少个小点（1 - 40）\n   */\n  typeNumber?: number;\n  /**\n   * 二维码的纠错等级\n   * L: 7%（错误字码在 7% 以内可被修正, 容错率较低不建议使用）\n   * M: 15%（错误字码在 15% 以内可被修正, 容错率较低不建议使用）\n   * Q: 25%（错误字码在 25% 以内可被修正）\n   * H: 30%（错误字码在 30% 以内可被修正）\n   */\n  correctLevel?: \"L\" | \"M\" | \"Q\" | \"H\";\n  /**\n   * 二维码颜色，仅支持 六位的十六进制颜色值，暂不支持透明色 (仅对二维码生效)\n   */\n  codeColor?: string;\n  /**\n   * 二维码背景颜色，仅支持 六位的十六进制 颜色值。暂不支持透明色 (仅对二维码生效)\n   */\n  backgroundColor?: string;\n}\n\nfunction parseOptions(options: IQrCodeImgOptions) {\n  const typeNumber = options.typeNumber ?? 4;\n  const correctLevel = options.correctLevel ?? \"H\";\n  const codeColor = options.codeColor ?? \"#000000\";\n  const backgroundColor = options.backgroundColor ?? \"#FFFFFF\";\n\n  return {\n    code: options.code,\n    size: options.size,\n    typeNumber,\n    correctLevel,\n    codeColor,\n    backgroundColor,\n  };\n}\n\nconst calcCellSizeAndPadding = (moduleCount: number, size: number) => {\n  const cellSize = ~~(size / moduleCount);\n\n  return {\n    padding: ~~((size - moduleCount * cellSize) / 2),\n    cellSize: cellSize || 2,\n  };\n};\n\nexport function generateImageBufferFromCode(options: IQrCodeImgOptions) {\n  const { code, typeNumber, correctLevel, size, codeColor, backgroundColor } =\n    parseOptions(options);\n  let qr: QRCode;\n\n  try {\n    qr = new QRCode(typeNumber, correctLevel);\n    qr.addData(code);\n    qr.make();\n  } catch (e) {\n    if (typeNumber >= 40) {\n      throw new Error(\"Text too long to encode\");\n    }\n\n    return arguments.callee({\n      code,\n      size,\n      correctLevel,\n      typeNumber: typeNumber + 1,\n      codeColor,\n      backgroundColor,\n    });\n  }\n\n  // calc cellsize and margin\n  const moduleCount = qr.getModuleCount();\n  const { padding, cellSize } = calcCellSizeAndPadding(moduleCount, size);\n  const max = moduleCount * cellSize + padding;\n  const CODE_COLOR = +`${codeColor.replace(\"#\", \"0x\")}FF`;\n  const BACKGROUND_COLOR = +`${backgroundColor.replace(\"#\", \"0x\")}FF`;\n  const png = new PNGEncoder(size, size);\n\n  for (let y = 0; y < size; y++) {\n    for (let x = 0; x < size; x++) {\n      if (padding <= x && x < max && padding <= y && y < max) {\n        const c = ~~((x - padding) / cellSize);\n        const r = ~~((y - padding) / cellSize);\n\n        png.setPixel(x, y, qr.isDark(r, c) ? CODE_COLOR : BACKGROUND_COLOR);\n      } else {\n        png.setPixel(x, y, BACKGROUND_COLOR);\n      }\n    }\n  }\n\n  return png.flush();\n}\n\nexport function generateImageFromCode(options: IQrCodeImgOptions) {\n  const buff = generateImageBufferFromCode(options);\n\n  return platform.decode.toDataURL(buff);\n}\n","import { platform } from \"../platform\";\nimport { PNGEncoder } from \"../extensions\";\n\nexport function createBufferOfImageData(imageData: ImageData) {\n  const { width, height, data } = imageData;\n\n  return new PNGEncoder(width, height).write(data).flush();\n}\n\n/**\n * @deprecated 请使用 createBufferOfImageData 代替，此方法可能在后续版本中移除\n */\nexport const getBufferFromImageData = createBufferOfImageData;\n\nexport function createImageDataUrl(imageData: ImageData) {\n  const buff = createBufferOfImageData(imageData);\n\n  return platform.decode.toDataURL(buff);\n}\n\n/**\n * @deprecated 请使用 createImageDataUrl 代替，此方法可能在后续版本中移除\n */\nexport const getDataURLFromImageData = createImageDataUrl;\n","/**\n * 检查数据是否为zlib压缩格式\n * @param data 待检查的二进制数据\n * @returns 是否为zlib压缩格式\n */\nexport function isZlibCompressed(data: Uint8Array): boolean {\n  // 检查数据长度是否足够（至少需要2字节头部和4字节ADLER-32校验和）\n  if (data.length < 6) {\n    return false\n  }\n\n  // 获取CMF和FLG字节\n  const cmf = data[0]\n  const flg = data[1]\n\n  // 检查CMF的压缩方法（低4位为8表示DEFLATE）\n  // eslint-disable-next-line no-bitwise\n  if ((cmf & 0x0F) !== 8) {\n    return false\n  }\n\n  // 检查窗口大小（高4位通常为7，但不是严格要求）\n  // 这里不强制检查，因为理论上可以是其他值\n\n  // 验证头部校验（CMF * 256 + FLG必须是31的倍数）\n  if (((cmf * 256 + flg) % 31) !== 0) {\n    return false\n  }\n\n  // 检查字典标志位（如果设置了字典，需要额外验证，但这种情况很少见）\n  // eslint-disable-next-line no-bitwise\n  const fdict = (flg & 0x20) !== 0\n  if (fdict) {\n    // 标准zlib压缩通常不使用预定义字典\n    // 这里假设不使用字典，若检测到字典标志则认为不是标准zlib格式\n    return false\n  }\n\n  // 尝试提取ADLER-32校验和并验证其格式\n  // 虽然无法验证校验和值（需要解压后计算），但可以检查其是否为合理的数值\n  const adler32Bytes = data.slice(-4)\n\n  if (adler32Bytes.length !== 4) {\n    return false\n  }\n\n  // eslint-disable-next-line no-bitwise\n  const adler32 = (adler32Bytes[0] << 24) | (adler32Bytes[1] << 16) | (adler32Bytes[2] << 8) | adler32Bytes[3]\n\n  // 有效的ADLER-32值应大于0（除非是空数据）\n  if (data.length > 2 && adler32 === 0) {\n    return false\n  }\n\n  // 所有检查都通过，数据可能是zlib压缩格式\n  return true\n}\n","import { platform } from \"../platform\";\nimport { Parser } from \"../core/parser\";\nimport type { PlatformVideo } from \"../types/video\";\n\nexport interface Bucket {\n  // 远程地址\n  origin: string;\n  // 本地地址\n  local: string;\n  // 实例\n  entity: PlatformVideo.Video | null;\n  // 下载实例中\n  promise: Promise<ArrayBufferLike> | null;\n}\n\nexport interface NeedUpdatePoint {\n  action: \"remove\" | \"add\";\n  start: number;\n  end: number;\n}\n\nexport type LoadMode = \"fast\" | \"whole\";\n\nexport interface VideoManagerOptions {\n  preprocess: (bucket: Bucket) => Promise<ArrayBufferLike>;\n  postprocess: (\n    bucket: Bucket,\n    buff: ArrayBufferLike\n  ) => Promise<PlatformVideo.Video> | PlatformVideo.Video;\n  cleanup: (buckets: Bucket[]) => Promise<void> | void;\n}\n\nexport class VideoManager {\n  /**\n   * 视频池的当前指针位置\n   */\n  private point: number = 0;\n  /**\n   * 视频的最大留存数量，其他视频将放在磁盘上缓存\n   */\n  private maxRemain: number = 3;\n  /**\n   * 留存视频的开始指针位置\n   */\n  private remainStart: number = 0;\n  /**\n   * 留存视频的结束指针位置\n   */\n  private remainEnd: number = 0;\n  /**\n   * 视频加载模式\n   * - 快速加载模式：可保证当前视频加载完成后，尽快播放；其他请求将使用Promise的方式保存在bucket中，以供后续使用\n   * - 完整加载模式：可保证所有视频加载完成，确保播放切换的流畅性\n   */\n  private loadMode: LoadMode = \"fast\";\n  /**\n   * 视频池的所有数据\n   */\n  private buckets: Bucket[] = [];\n\n  private readonly options: VideoManagerOptions = {\n    /**\n     * 预处理动效数据\n     * @param url\n     * @returns\n     */\n    preprocess: (bucket: Bucket) => Parser.download(bucket.origin),\n    /**\n     * 后处理动效数据\n     * @param bucket\n     * @param data\n     * @returns\n     */\n    postprocess: (bucket: Bucket, data: ArrayBufferLike) =>\n      Parser.parseVideo(data, bucket.origin, true),\n    /**\n     * 清理数据\n     * @param buckets\n     * @returns\n     */\n    cleanup: (buckets: Bucket[]) => {\n      const { globals, local, path } = platform;\n\n      buckets.forEach((bucket: Bucket) => {\n        if (path.is(bucket.local)) {\n          local!.remove(bucket.local);\n        }\n      });\n    },\n  };\n\n  /**\n   * 获取视频池大小\n   */\n  get size(): number {\n    return this.buckets.length;\n  }\n\n  constructor(loadMode: LoadMode, options?: Partial<VideoManagerOptions>) {\n    if (typeof loadMode === \"string\") {\n      this.loadMode = loadMode;\n    }\n\n    Object.assign(this.options, options);\n  }\n\n  /**\n   * 更新留存指针位置\n   */\n  private updateRemainRange(\n    point: number,\n    maxRemain: number,\n    totalCount: number\n  ): void {\n    if (point < 0) {\n      this.point = 0;\n    } else if (point >= totalCount) {\n      this.point = totalCount - 1;\n    } else {\n      this.point = point;\n    }\n\n    if (this.loadMode === \"whole\") {\n      this.remainStart = 0;\n      this.remainEnd = totalCount;\n    } else {\n      if (maxRemain < 1) {\n        this.maxRemain = 1;\n      } else if (maxRemain > totalCount) {\n        this.maxRemain = totalCount;\n      } else {\n        this.maxRemain = maxRemain;\n      }\n\n      this.remainStart = this.point - Math.floor(this.maxRemain / 2);\n      if (this.remainStart < 0) {\n        this.remainStart = totalCount + this.remainStart;\n      }\n\n      this.remainEnd = this.remainStart + this.maxRemain;\n      if (this.remainEnd > totalCount) {\n        this.remainEnd = this.remainEnd % totalCount;\n      }\n    }\n  }\n\n  /**\n   * 指针是否在留存空间内\n   * @param point\n   * @returns\n   */\n  private includeRemainRange(point: number): boolean {\n    if (this.remainStart < this.remainEnd) {\n      return point >= this.remainStart && point < this.remainEnd;\n    }\n\n    if (this.remainStart > this.remainEnd) {\n      return point >= this.remainStart || point < this.remainEnd;\n    }\n\n    return true;\n  }\n\n  private async downloadAndParseVideo(\n    bucket: Bucket,\n    needParse?: false\n  ): Promise<ArrayBuffer>;\n  private async downloadAndParseVideo(\n    bucket: Bucket,\n    needParse: true\n  ): Promise<PlatformVideo.Video>;\n  private async downloadAndParseVideo(\n    bucket: Bucket,\n    needParse: boolean = false\n  ) {\n    const { options } = this;\n    const data = await options.preprocess(bucket);\n\n    if (needParse) {\n      return options.postprocess(bucket, data);\n    }\n\n    return data;\n  }\n\n  /**\n   * 创建bucket\n   * @param url 远程地址\n   * @param point 指针位置\n   * @param needDownloadAndParse 是否需要下载并解析\n   * @returns\n   */\n  private async createBucket(\n    url: string,\n    point: number,\n    needDownloadAndParse: boolean\n  ): Promise<Bucket> {\n    const { path } = platform;\n    const bucket: Bucket = {\n      origin: url,\n      local: path.resolve(path.filename(url)),\n      entity: null,\n      promise: null,\n    };\n\n    this.buckets[point] = bucket;\n    if (needDownloadAndParse) {\n      bucket.entity = await this.downloadAndParseVideo(bucket, true);\n    } else if (this.includeRemainRange(point)) {\n      bucket.promise = this.downloadAndParseVideo(bucket);\n    }\n\n    return bucket;\n  }\n\n  /**\n   * 预加载视频到本地磁盘中\n   * @param urls 视频远程地址\n   * @param point 当前指针位置\n   * @param maxRemain 最大留存数量\n   */\n  async prepare(\n    urls: string[],\n    point: number = 0,\n    maxRemain: number = 3\n  ): Promise<void> {\n    this.updateRemainRange(point, maxRemain, urls.length);\n\n    const { loadMode, point: currentPoint } = this;\n    // 优先加载当前动效\n    const preloadBucket: Bucket = await this.createBucket(\n      urls[currentPoint],\n      currentPoint,\n      true\n    );\n\n    await Promise.all(\n      urls.map((url: string, index: number) => {\n        // 当前帧的视频已经预加载到内存中\n        if (index === currentPoint) {\n          return preloadBucket;\n        }\n\n        return this.createBucket(url, index, loadMode === \"whole\");\n      })\n    );\n  }\n\n  /**\n   * 获取当前帧的bucket\n   * @returns\n   */\n  async get(): Promise<Bucket> {\n    const bucket = this.buckets[this.point];\n\n    if (bucket.promise) {\n      bucket.entity = await bucket.promise.then((data: ArrayBufferLike) =>\n        this.options.postprocess(bucket, data)\n      );\n      bucket.promise = null;\n    } else if (!bucket.entity) {\n      bucket.entity = await this.downloadAndParseVideo(bucket, true);\n    }\n\n    return bucket;\n  }\n\n  /**\n   * 获取当前的指针位置\n   * @returns\n   */\n  getPoint(): number {\n    return this.point;\n  }\n\n  /**\n   * 获取指定位置的bucket\n   * @param pos\n   * @returns\n   */\n  async go(point: number): Promise<Bucket> {\n    const { size, buckets, loadMode } = this;\n\n    if (point < 0 || point >= size) {\n      return buckets[this.point];\n    }\n\n    this.updateRemainRange(point, this.maxRemain, buckets.length);\n    if (loadMode === \"fast\" && this.maxRemain !== buckets.length) {\n      buckets.forEach((bucket: Bucket, index: number) => {\n        if (this.includeRemainRange(index)) {\n          if (bucket.entity === null && bucket.promise === null) {\n            bucket.promise = this.downloadAndParseVideo(bucket);\n          }\n        } else {\n          bucket.entity = null;\n          bucket.promise = null;\n        }\n      });\n    }\n\n    return this.get();\n  }\n\n  /**\n   * 清理所有的bucket\n   * @returns\n   */\n  async clear(needRemoveFiles: boolean = true): Promise<void> {\n    const { buckets } = this;\n\n    this.point = 0;\n    this.remainStart = 0;\n    this.remainEnd = 0;\n    this.maxRemain = 3;\n    this.buckets = [];\n\n    if (needRemoveFiles) {\n      await this.options.cleanup(buckets);\n    }\n  }\n}\n","import type { RawImage, PlatformImage } from \"octopus-platform\";\nimport { platform } from \"../platform\";\nimport { Parser } from \"../core/parser\";\nimport { generateImageBufferFromCode, IQrCodeImgOptions } from \"./qrcode\";\nimport { getBufferFromImageData } from \"./png\";\nimport type { ResourceManager } from \"./ResourceManager\";\nimport type { Painter } from \"../core/painter\";\nimport type { PlatformVideo, PlatformRenderingContext2D } from \"../types\";\n\ninterface VideoEditorOptions {\n  // 模式: R 替换, A 追加\n  mode?: \"R\" | \"A\";\n}\n\nexport class VideoEditor {\n  constructor(\n    private readonly painter: Painter,\n    private readonly resource: ResourceManager,\n    private readonly entity: PlatformVideo.Video\n  ) {}\n\n  private async set(\n    key: string,\n    value: RawImage,\n    mode: VideoEditorOptions[\"mode\"] = \"R\"\n  ) {\n    const { entity, resource } = this;\n\n    if (mode === \"A\") {\n      await resource.loadImagesWithRecord(\n        { [key]: value },\n        entity.filename,\n        \"dynamic\"\n      );\n    } else {\n      entity.images[key] = value;\n    }\n  }\n\n  /**\n   * 获取自定义编辑器\n   * @returns\n   */\n  getContext() {\n    return this.painter.BC;\n  }\n\n  /**\n   * 是否是有效的Key\n   * @param key\n   * @returns\n   */\n  hasValidKey(key: string): boolean {\n    const { images } = this.entity;\n\n    if (typeof Object.hasOwn === \"function\") {\n      return Object.hasOwn(images, key);\n    }\n\n    return Object.prototype.hasOwnProperty.call(images, key);\n  }\n\n  /**\n   * 加载并缓存图片\n   * @param source\n   * @param url\n   * @returns\n   */\n  loadImage(\n    source: Uint8Array | string,\n    url: string\n  ): Promise<PlatformImage | ImageBitmap> {\n    return this.resource.loadExtImage(source, platform.path.filename(url));\n  }\n\n  /**\n   * 创建画布图片\n   * @param key\n   * @param context\n   * @param options\n   * @returns\n   */\n  async setCanvas(\n    key: string,\n    context: PlatformRenderingContext2D,\n    options?: VideoEditorOptions & { width?: number; height?: number }\n  ) {\n    if (this.entity.locked) return;\n\n    const { canvas } = context;\n    const width = options?.width ?? canvas.width;\n    const height = options?.height ?? canvas.height;\n    const imageData = context.getImageData(0, 0, width, height);\n\n    await this.set(\n      key,\n      new Uint8Array(getBufferFromImageData(imageData)),\n      options?.mode\n    );\n  }\n\n  /**\n   * 创建二进制图片\n   * @param key\n   * @param buff\n   * @param options\n   * @returns\n   */\n  async setImage(key: string, url: string, options?: VideoEditorOptions) {\n    if (this.entity.locked) return;\n\n    if (url.startsWith(\"data:image\")) {\n      await this.set(key, url, options?.mode);\n    } else {\n      await this.set(\n        key,\n        new Uint8Array(await Parser.download(url)),\n        options?.mode\n      );\n    }\n  }\n\n  /**\n   * 创建二维码图片\n   * @param key\n   * @param code\n   * @param options\n   * @returns\n   */\n  async setQRCode(\n    key: string,\n    code: string,\n    options: VideoEditorOptions & Omit<IQrCodeImgOptions, \"code\">\n  ) {\n    if (this.entity.locked) return;\n\n    await this.set(\n      key,\n      new Uint8Array(generateImageBufferFromCode({ ...options, code })),\n      options?.mode\n    );\n  }\n}\n","import type { RawImage, PlatformImage, Bitmap } from \"octopus-platform\";\nimport { Painter } from \"../core/painter\";\nimport { platform } from \"../platform\";\nimport type { RawImages } from \"../types\";\n\nexport class ResourceManager {\n  /**\n   * 判断是否是 ImageBitmap\n   * @param img\n   * @returns\n   */\n  private static isBitmap(img: any): boolean {\n    return platform.globals.env === \"h5\" && img instanceof ImageBitmap;\n  }\n\n  /**\n   * 释放内存资源（图片）\n   * @param img\n   */\n  private static releaseOne(img: PlatformImage | ImageBitmap) {\n    if (ResourceManager.isBitmap(img)) {\n      (img as ImageBitmap).close();\n    } else if ((img as PlatformImage).src !== \"\") {\n      // 【微信】将存在本地的文件删除，防止用户空间被占满\n      if (\n        platform.globals.env === \"weapp\" &&\n        (img as PlatformImage).src.includes(\n          platform.path.USER_DATA_PATH\n        )\n      ) {\n        platform.local!.remove((img as PlatformImage).src);\n      }\n\n      platform.image.release(img as PlatformImage);\n    }\n  }\n\n  // FIXME: 微信小程序创建调用太多createImage会导致微信/微信小程序崩溃\n  private caches: Array<PlatformImage | ImageBitmap> = [];\n\n  /**\n   * 动态素材\n   */\n  public readonly dynamicMaterials: Map<string, Bitmap> =\n    new Map();\n\n  /**\n   * 素材\n   */\n  public readonly materials: Map<string, Bitmap> = new Map();\n\n  /**\n   * 已清理Image对象的坐标\n   */\n  private point: number = 0;\n\n  constructor(private readonly painter: Painter) {}\n\n  /**\n   * 创建图片标签\n   * @returns\n   */\n  private createImage(): PlatformImage {\n    let img: PlatformImage | null = null;\n\n    if (this.point > 0) {\n      this.point--;\n      img = this.caches.shift() as PlatformImage;\n    }\n\n    if (!img) {\n      img = platform.image.create(this.painter.F!);\n    }\n\n    this.caches.push(img);\n\n    return img;\n  }\n\n  /**\n   * 将 ImageBitmap 插入到 caches\n   * @param img\n   */\n  private inertBitmapIntoCaches(\n    img: PlatformImage | ImageBitmap\n  ) {\n    if (ResourceManager.isBitmap(img)) {\n      this.caches.push(img);\n    }\n  }\n\n  /**\n   * 加载额外的图片资源\n   * @param source 资源内容/地址\n   * @param filename 文件名称\n   * @returns\n   */\n  public loadExtImage(\n    source: string | Uint8Array,\n    filename: string\n  ): Promise<PlatformImage | ImageBitmap> {\n    return platform.image\n      .load(\n        () => this.createImage(),\n        source,\n        platform.path.resolve(filename, \"ext\")\n      )\n      .then((img) => {\n        this.inertBitmapIntoCaches(img);\n\n        return img;\n      });\n  }\n\n  /**\n   * 加载图片集\n   * @param images 图片数据\n   * @param filename 文件名称\n   * @returns\n   */\n  public async loadImagesWithRecord(\n    images: RawImages,\n    filename: string,\n    type: \"normal\" | \"dynamic\" = \"normal\"\n  ): Promise<void> {\n    const imageAwaits: Promise<void>[] = [];\n    const imageFilename = `${filename.replace(/\\.svga$/g, \"\")}.png`;\n\n    Object.entries(images).forEach(([name, image]) => {\n      // 过滤 1px 透明图\n      if (image instanceof Uint8Array && image.byteLength < 70) {\n        return;\n      }\n\n      const p = platform.image\n        .load(\n          () => this.createImage(),\n          image as RawImage,\n          platform.path.resolve(\n            imageFilename,\n            type === \"dynamic\" ? `dyn_${name}` : name\n          )\n        )\n        .then((img) => {\n          this.inertBitmapIntoCaches(img);\n          if (type === \"dynamic\") {\n            this.dynamicMaterials.set(name, img);\n          } else {\n            this.materials.set(name, img);\n          }\n        });\n\n      imageAwaits.push(p);\n    });\n\n    await Promise.all(imageAwaits);\n  }\n\n  /**\n   * 释放图片资源\n   */\n  public release(): void {\n    // FIXME: 小程序 image 对象需要手动释放内存，否则可能导致小程序崩溃\n    for (const img of this.caches) {\n      ResourceManager.releaseOne(img);\n    }\n\n    this.materials.clear();\n    this.dynamicMaterials.clear();\n    // FIXME: 支付宝小程序 image 修改 src 无法触发 onload 事件\n    platform.globals.env === \"alipay\" ? this.cleanup() : this.tidyUp();\n  }\n\n  /**\n   * 整理图片资源，将重复的图片资源移除\n   */\n  private tidyUp() {\n    // 通过 Set 的去重特性，保持 caches 元素的唯一性\n    this.caches = Array.from(new Set(this.caches));\n    this.point = this.caches.length;\n  }\n\n  /**\n   * 清理图片资源\n   */\n  public cleanup(): void {\n    this.caches.length = 0;\n    this.point = 0;\n  }\n}\n","import type { PlatformCanvas } from \"octopus-platform\";\nimport { platform } from \"../../platform\";\nimport { Painter } from \"../painter\";\nimport { Config } from \"./config\";\nimport { Animator, Renderer2D } from \"../../extensions\";\nimport { ResourceManager } from \"../../helper\";\nimport {\n  type PlatformVideo,\n  type PlayerConfigOptions,\n  type PlayerConfig,\n  type PlayerEventCallback,\n  type PlayerProcessEventCallback,\n  PLAYER_PLAY_MODE,\n  PLAYER_FILL_MODE,\n} from \"../../types\";\n\n/**\n * SVGA 播放器\n */\nexport class Player {\n  /**\n   * SVGA 元数据\n   * Video Entity\n   */\n  private entity: PlatformVideo.Video | undefined;\n\n  /**\n   * 当前配置项\n   */\n  private readonly config = new Config();\n\n  /**\n   * 资源管理器\n   */\n  public resource: ResourceManager | null = null;\n\n  /**\n   * 刷头实例\n   */\n  public readonly painter = new Painter();\n\n  /**\n   * 动画实例\n   */\n  private readonly animator: Animator = new Animator();\n\n  /**\n   * 渲染器实例\n   */\n  private renderer: Renderer2D | null = null;\n\n  /**\n   * 设置配置项\n   * @param options 可配置项\n   * @property container 主屏，播放动画的 Canvas 元素\n   * @property secondary 副屏，播放动画的 Canvas 元素\n   * @property loop 循环次数，默认值 0（无限循环）\n   * @property fillMode 最后停留的目标模式，类似于 animation-fill-mode，接受值 forwards 和 fallbacks，默认值 forwards。\n   * @property playMode 播放模式，接受值 forwards 和 fallbacks ，默认值 forwards。\n   * @property startFrame 单个循环周期内开始播放的帧数，默认值 0\n   * @property endFrame 单个循环周期内结束播放的帧数，默认值 0\n   * @property loopStartFrame 循环播放的开始帧，仅影响第一个周期的开始帧，默认值 0\n   * @property enableInObserver 是否启用 IntersectionObserver 监听容器是否处于浏览器视窗内，默认值 false\n   */\n  public async setConfig(\n    options: string | PlayerConfigOptions,\n    component?: any\n  ): Promise<void> {\n    const config: PlayerConfigOptions =\n      typeof options === \"string\" ? { container: options } : options;\n    const { container, secondary } = config;\n\n    this.config.register(config);\n    // 监听容器是否处于浏览器视窗内\n    // this.setIntersectionObserver()\n    await this.painter.register(container, secondary, component);\n    this.renderer = new Renderer2D(this.painter.BC!);\n    this.resource = new ResourceManager(this.painter);\n    this.animator.onAnimate = platform.rAF.bind(\n      null,\n      this.painter.F as PlatformCanvas\n    );\n  }\n\n  /**\n   * 更新配置\n   * @param key\n   * @param value\n   */\n  public setItem<T extends keyof PlayerConfig>(\n    key: T,\n    value: PlayerConfig[T]\n  ): void {\n    this.config.setItem<T>(key, value);\n  }\n\n  /**\n   * 装载 SVGA 数据元\n   * @param videoEntity SVGA 数据源\n   * @returns Promise<void>\n   */\n  public async mount(videoEntity: PlatformVideo.Video): Promise<void> {\n    if (!videoEntity) throw new Error(\"videoEntity undefined\");\n\n    const { images, filename } = videoEntity;\n\n    this.animator!.stop();\n    this.painter.clearSecondary();\n    this.resource!.release();\n    this.entity = videoEntity;\n\n    await this.resource!.loadImagesWithRecord(images, filename);\n  }\n\n  /**\n   * 开始播放事件回调\n   * @param frame\n   */\n  public onStart?: PlayerEventCallback;\n  /**\n   * 重新播放事件回调\n   * @param frame\n   */\n  public onResume?: PlayerEventCallback;\n  /**\n   * 暂停播放事件回调\n   * @param frame\n   */\n  public onPause?: PlayerEventCallback;\n  /**\n   * 停止播放事件回调\n   * @param frame\n   */\n  public onStop?: PlayerEventCallback;\n  /**\n   * 播放中事件回调\n   * @param percent\n   * @param frame\n   * @param frames\n   */\n  public onProcess?: PlayerProcessEventCallback;\n  /**\n   * 结束播放事件回调\n   * @param frame\n   */\n  public onEnd?: PlayerEventCallback;\n\n  /**\n   * 开始播放\n   */\n  public start(): void {\n    this.startAnimation();\n    this.onStart?.();\n  }\n\n  /**\n   * 重新播放\n   */\n  public resume(): void {\n    if (this.animator.resume()) {\n      this.onResume?.();\n    }\n  }\n\n  /**\n   * 暂停播放\n   */\n  public pause(): void {\n    if (this.animator.pause()) {\n      this.onPause?.();\n    }\n  }\n\n  /**\n   * 停止播放\n   */\n  public stop(): void {\n    this.animator.stop();\n    this.painter.clearContainer();\n    this.painter.clearSecondary();\n    this.onStop?.();\n  }\n\n  /**\n   * 销毁实例\n   */\n  public destroy(): void {\n    this.animator.stop();\n    this.painter.destroy();\n    this.renderer?.destroy();\n    this.resource?.release();\n    this.resource?.cleanup();\n    this.entity = undefined;\n  }\n\n  /**\n   * 跳转到指定帧\n   * @param frame 目标帧\n   * @param andPlay 是否立即播放\n   */\n  public stepToFrame(frame: number, andPlay = false) {\n    if (!this.entity || frame < 0 || frame >= this.entity.frames) return;\n\n    this.pause();\n    this.config.loopStartFrame = frame;\n    if (andPlay) {\n      this.start();\n    }\n  }\n\n  /**\n   * 跳转到指定百分比\n   * @param percent 目标百分比\n   * @param andPlay 是否立即播放\n   */\n  public stepToPercentage(percent: number, andPlay: boolean = false) {\n    if (!this.entity) return;\n\n    const { frames } = this.entity;\n    let frame = percent < 0 ? 0 : Math.round(percent * frames);\n\n    if (frame >= frames) {\n      frame = frames - 1;\n    }\n\n    debugger;\n    this.stepToFrame(frame, andPlay);\n  }\n\n  /**\n   * 开始绘制动画\n   */\n  private startAnimation(): void {\n    const { entity, config, animator, painter, renderer, resource } = this;\n    const { W, H } = painter;\n    const { fillMode, playMode, contentMode } = config;\n    const {\n      currFrame,\n      startFrame,\n      endFrame,\n      totalFrame,\n      spriteCount,\n      aniConfig,\n    } = config.getConfig(entity!);\n    const { duration, loopStart, loop, fillValue } = aniConfig;\n    const isReverseMode = playMode === PLAYER_PLAY_MODE.FALLBACKS;\n\n    // 当前帧\n    let currentFrame = currFrame;\n    // 片段绘制结束位置\n    let tail = 0;\n    let nextTail: number;\n    // 上一帧\n    let latestFrame: number;\n    // 下一帧\n    let nextFrame: number;\n    // 精确帧\n    let exactFrame: number;\n    // 当前已完成的百分比\n    let percent: number;\n    // 是否还有剩余时间\n    let hasRemained: boolean;\n\n    // 更新动画基础信息\n    animator.setConfig(duration, loopStart, loop, fillValue);\n    renderer!.resize(contentMode, entity!.size, { width: W, height: H });\n\n    // 分段渲染函数\n    const MAX_DRAW_TIME_PER_FRAME = 8;\n    const MAX_ACCELERATE_DRAW_TIME_PER_FRAME = 3;\n    const MAX_DYNAMIC_CHUNK_SIZE = 34;\n    const MIN_DYNAMIC_CHUNK_SIZE = 1;\n    // 动态调整每次绘制的块大小\n    let dynamicChunkSize = 4; // 初始块大小\n    let startTime: number;\n    let chunk: number;\n    let elapsed: number;\n    // 使用`指数退避算法`平衡渲染速度和流畅度\n    const patchDraw = (before: () => void) => {\n      startTime = platform.now();\n      before();\n\n      while (tail < spriteCount) {\n        // 根据当前块大小计算nextTail\n        chunk = Math.min(dynamicChunkSize, spriteCount - tail);\n        nextTail = (tail + chunk) | 0;\n        renderer!.render(\n          entity!,\n          resource!.materials,\n          resource!.dynamicMaterials,\n          currentFrame,\n          tail,\n          nextTail\n        );\n        tail = nextTail;\n        // 动态调整块大小\n        elapsed = platform.now() - startTime;\n\n        if (elapsed < MAX_ACCELERATE_DRAW_TIME_PER_FRAME) {\n          dynamicChunkSize = Math.min(\n            dynamicChunkSize * 2,\n            MAX_DYNAMIC_CHUNK_SIZE\n          ); // 加快绘制\n        } else if (elapsed > MAX_DRAW_TIME_PER_FRAME) {\n          dynamicChunkSize = Math.max(\n            dynamicChunkSize / 2,\n            MIN_DYNAMIC_CHUNK_SIZE\n          ); // 减慢绘制\n          break;\n        }\n      }\n    };\n\n    // 动画绘制过程\n    animator.onUpdate = (timePercent: number) => {\n      patchDraw(() => {\n        percent = isReverseMode ? 1 - timePercent : timePercent;\n        exactFrame = percent * totalFrame;\n\n        if (isReverseMode) {\n          nextFrame =\n            (timePercent === 0 ? endFrame : Math.ceil(exactFrame)) - 1;\n          // FIXME: 倒序会有一帧的偏差，需要校准当前帧\n          percent = currentFrame / totalFrame;\n        } else {\n          nextFrame = timePercent === 1 ? startFrame : Math.floor(exactFrame);\n        }\n\n        hasRemained = currentFrame === nextFrame;\n      });\n\n      if (hasRemained) return;\n\n      painter.clearContainer();\n      painter.stick();\n      painter.clearSecondary();\n      latestFrame = currentFrame;\n      currentFrame = nextFrame;\n      tail = 0;\n      this.onProcess?.(~~(percent * 100) / 100, latestFrame);\n    };\n    animator.onStart = () => {\n      entity!.locked = true;\n    };\n    animator.onEnd = () => {\n      entity!.locked = false;\n      // 如果不保留最后一帧渲染，则清空画布\n      if (fillMode === PLAYER_FILL_MODE.NONE) {\n        painter.clearContainer();\n      }\n\n      this.onEnd?.();\n    };\n    animator.start();\n  }\n}\n","import { Renderer2D } from \"../../extensions\";\nimport { ResourceManager } from \"../../helper\";\nimport { Painter } from \"../painter\";\nimport {\n  type PlatformVideo,\n  type PosterConfig,\n  type PosterConfigOptions,\n  PLAYER_CONTENT_MODE,\n} from \"../../types\";\n\nexport class Poster {\n  /**\n   * SVGA 元数据\n   * Video Entity\n   */\n  private entity: PlatformVideo.Video | undefined;\n\n  /**\n   * 海报配置项\n   */\n  private readonly config: PosterConfig = {\n    /**\n     * 主屏，绘制海报的 Canvas 元素\n     */\n    container: \"\",\n    /**\n     * 填充模式，类似于 content-mode。\n     */\n    contentMode: PLAYER_CONTENT_MODE.FILL,\n    /**\n     * 绘制成海报的帧，默认是0。\n     */\n    frame: 0,\n  };\n\n  /**\n   * 是否配置完成\n   */\n  private isConfigured = false;\n\n  /**\n   * 刷头实例\n   */\n  public readonly painter: Painter;\n\n  /**\n   * 资源管理器\n   */\n  public resource: ResourceManager | null = null;\n\n  /**\n   * 渲染器实例\n   */\n  private renderer: Renderer2D | null = null;\n\n  constructor(width: number, height: number) {\n    this.painter = new Painter(\"poster\", width, height);\n  }\n\n  /**\n   * 注册 SVGA 海报\n   * @param selector 容器选择器\n   * @param component 组件\n   */\n  private async register(\n    selector: string = \"\",\n    component?: any\n  ): Promise<void> {\n    await this.painter.register(selector, \"\", component);\n    this.renderer = new Renderer2D(this.painter.BC!);\n    this.resource = new ResourceManager(this.painter);\n  }\n\n  /**\n   * 设置配置项\n   * @param options 可配置项\n   */\n  public async setConfig(\n    options: string | PosterConfigOptions = {},\n    component?: any\n  ): Promise<void> {\n    if (typeof options === \"string\") {\n      this.config.container = options;\n    } else {\n      Object.assign(this.config, options);\n    }\n\n    this.isConfigured = true;\n    await this.register(this.config.container, component);\n  }\n\n  /**\n   * 修改内容模式\n   * @param contentMode\n   */\n  public setContentMode(contentMode: PLAYER_CONTENT_MODE): void {\n    this.config.contentMode = contentMode;\n  }\n\n  /**\n   * 设置当前帧\n   * @param frame\n   */\n  public setFrame(frame: number): void {\n    this.config.frame = frame;\n  }\n\n  /**\n   * 装载 SVGA 数据元\n   * @param videoEntity SVGA 数据源\n   * @param currFrame\n   * @returns\n   */\n  public async mount(videoEntity: PlatformVideo.Video): Promise<void> {\n    if (!videoEntity) {\n      throw new Error(\"videoEntity undefined\");\n    }\n\n    if (!this.isConfigured) {\n      await this.register();\n      this.isConfigured = true;\n    }\n\n    const { images, filename } = videoEntity;\n\n    this.painter.clearContainer();\n    this.resource!.release();\n    this.entity = videoEntity;\n\n    await this.resource!.loadImagesWithRecord(images, filename);\n  }\n\n  /**\n   * 绘制海报\n   */\n  public draw(): void {\n    if (!this.entity) return;\n\n    const { painter, renderer, resource, entity, config } = this;\n\n    renderer!.resize(config.contentMode, entity!.size, painter.F!);\n    renderer!.render(\n      entity!,\n      resource!.materials,\n      resource!.dynamicMaterials,\n      config.frame,\n      0,\n      entity!.sprites.length\n    );\n  }\n\n  /**\n   * 获取海报的 ImageData 数据\n   */\n  public toImageData(): ImageData {\n    const { FC, W: width, H: height } = this.painter;\n\n    return FC!.getImageData(0, 0, width, height);\n  }\n\n  /**\n   * 销毁海报\n   */\n  public destroy(): void {\n    this.painter.destroy();\n    this.renderer?.destroy();\n    this.resource?.release();\n    this.resource?.cleanup();\n    this.entity = undefined;\n  }\n}\n"],"names":["noop","EnhancedPlatform","_OctopusPlatform","_this","_classCallCheck","_callSuper","pluginSelector","pluginCanvas","pluginOfsCanvas","pluginDecode","pluginDownload","pluginFsm","pluginImage","pluginNow","pluginPath","pluginRAF","__VERSION__","init","_inherits","_createClass","key","value","installPlugin","plugin","OctopusPlatform","platform","readFloatLEImpl","DATA_VIEW_POOL_SIZE","dataViewPool","Array","fill","map","DataView","ArrayBuffer","currentViewIndex","readFloatLE","buf","pos","length","RangeError","view","u8","Uint8Array","buffer","getFloat32","calculateHash","buff","start","end","step","hash","i","toString","Preflight","caches","Map","count","get","size","calculate","reader","startPos","endPos","Math","min","len","max","floor","has","hit","set","clear","Reader","preflight","indexOutOfRange","writeLength","readVarint32Slow","byte","shift","undefined","uint32","int32","float","getBytesRange","bytes","_this$getBytesRange","_this$getBytesRange2","_slicedToArray","EMPTY_UINT8ARRAY","subarray","string","_this$getBytesRange3","_this$getBytesRange4","result","decode","utf8","skip","Error","skipType","wireType","Layout","x","y","width","height","message","tag","format","_message$x","_message$y","_message$width","_message$height","Transform","a","b","c","d","tx","ty","ShapeArgs","RectArgs","cornerRadius","EllipseArgs","radiusX","radiusY","RGBAColor","r","g","concat","ShapeStyle","stroke","strokeWidth","lineCap","lineJoin","miterLimit","lineDashI","lineDashII","lineDashIII","lineDash","push","ShapeEntity","type","shape","rect","ellipse","styles","transform","path","FrameEntity","shapes","alpha","layout","clipPath","HIDDEN_FRAME","SpriteEntity","frames","imageKey","matteKey","MovieParams","viewBoxWidth","viewBoxHeight","fps","MovieEntity","version","params","images","sprites","end2","tag2","EMPTY_U8","_message$params","filename","locked","dynamicElements","createVideoEntity","data","video","PointPool","pool","acquire","pop","x1","y1","x2","y2","release","point","Renderer2D","context","pointPool","lastResizeKey","globalTransform","currentPoint","setTransform","drawBezier","save","resetShapeStyles","beginPath","commands","parseSVGPath","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","command","args","SVG_PATH","drawBezierElement","split","filter","Boolean","err","e","f","fillOrStroke","restore","method","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","drawEllipse","w","h","kappa","ox","oy","xe","ye","xm","ym","drawRect","radius","arcTo","drawShape","_a","_b","_c","_d","_e","_f","_g","_h","_j","drawSprite","frame","bitmap","dynamicElement","_ref","_ref$a","_ref$b","_ref$c","_ref$d","_ref$tx","_ref$ty","globalAlpha","drawImage","resize","contentMode","videoSize","canvasSize","canvasWidth","canvasHeight","videoWidth","videoHeight","resizeKey","lastTransform","scale","scaleX","scaleY","translateX","translateY","calculateScale","render","videoEntity","materials","dynamicMaterials","currentFrame","head","tail","sprite","destroy","SVG_LETTER_REGEXP","currentIndex","state","currentCommand","currentArgs","char","test","trim","strokeStyle","lineWidth","fillStyle","setLineDash","imageRatio","viewRatio","isAspectFit","shouldUseWidth","createTransform","Set","Animator","isRunning","startTime","duration","loopStart","pauseTime","loopDuration","onAnimate","onStart","onUpdate","onEnd","setConfig","loop","fillValue","now","doFrame","resume","pause","stop","doDeltaTime","deltaTime","percent","ended","u16","Uint16Array","i32","Int32Array","fleb","fdeb","clim","freb","eb","j","_freb","fl","revfl","_freb2","fd","revfd","rev","hMap","cd","mb","l","le","co","rvb","sv","v","m","flt","fdt","flm","flrm","fdm","fdrm","bits","p","o","bits16","shft","slc","ec","ind","msg","nt","code","captureStackTrace","inflt","dat","st","dict","sl","dl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","t","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","add","dsym","dend","wbits","wbits16","hTree","t2","slice","et","sort","i0","i1","i2","maxSym","tr","mbt","ln","lft","cst","lc","cl","cli","cln","cls","clen","cf","wfblk","out","wblk","syms","lf","df","li","bs","_hTree","dlt","mlb","_hTree2","ddt","mdb","_lc","lclt","nlc","_lc2","lcdt","ndc","lcfreq","_hTree3","lct","mlcb","nlcc","flen","ftlen","dtlen","ll","llm","lcts","it","clct","dst","deo","dflt","lvl","plvl","pre","post","z","ceil","lst","opt","msk","prev","bs1","bs2","hsh","wi","hv","imod","pimod","rem","ch","dif","maxn","maxd","ml","nl","mmd","md","ti","pti","lin","din","adler","dopt","dictionary","newDat","level","mem","log","wbytes","zlh","lv","zls","zlibSync","opts","unzlibSync","CRC32","TypeError","bytesToString","crc","WHITE_COLOR","table","Uint32Array","from","_","PNGEncoder","crc32","createChunk","setUint32","chunkType","charCodeAt","partialChunk","createIHDRChunk","ihdrData","setUint8","createIDATChunk","validRowSize","rowSize","pixelsData","startIdx","srcStart","setPixel","pixel","write","pixels","flush","iHDRChunk","iDATChunk","iENDChunk","pngData","offset","BitBuffer","lengthInBits","getAt","bufIndex","put","num","putBit","bit","QRMode","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","BitByte","parsedData","byteArray","flat","unshift","RS_BLOCK_TABLE","RSBlock","getRSBlockTable","typeNumber","errorCorrectLevel","getRSBlocks","rsBlock","list","totalCount","dataCount","EXP_TABLE","LOG_TABLE","QRMath","glog","gexp","Polynomial","multiply","mod","ratio","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","genBCHDigit","log2","BCH_G15","BCH_G18","Util","getBCHTypeInfo","getBCHTypeNumber","getPatternPosition","getMaskFunction","maskPattern","_i","getErrorCorrectPolynomial","errorCorrectLength","getLengthInBits","mode","getLostPoint","qr","moduleCount","getModuleCount","lostPoint","row","col","dark","isDark","sameCount","nRow","nCol","darkCount","abs","pow","PAD0","PAD1","QRCode","modules","dataCache","dataList","makeImpl","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","nr","nc","getBestMaskPattern","minLostPoint","pattern","rsBlocks","totalDataCount","createBytes","maskFunc","inc","bitIndex","byteIndex","bitBuffer","dcdata","ecdata","maxDcCount","maxEcCount","dcCount","ecCount","rsPoly","rawPoly","modPoly","modIndex","totalCodeCount","index","addData","make","Parser","decompress","parseVideo","url","needDecompress","download","globals","remote","local","env","supportLocal","filepath","is","resolve","_context","exists","read","fetch","_t","console","error","_callee","load","_context2","_t3","_t4","_t2","call","_callee2","Painter","arguments","F","FC","B","BC","model","clearContainer","clearSecondary","dpr","W","setModel","navigator","userAgent","includes","register","selector","ofsSelector","component","getCanvas","getOfsCanvas","globalThis","_getOfsCanvas","canvas","_yield$getCanvas","clearRect","stick","ofsResult","_getOfsCanvas2","Config","fillMode","playMode","startFrame","endFrame","loopStartFrame","config","setItem","_defineProperty","getConfig","entity","spriteCount","frameDuration","currFrame","extFrame","totalFrame","aniConfig","Infinity","parseOptions","options","correctLevel","codeColor","backgroundColor","calcCellSizeAndPadding","cellSize","padding","generateImageBufferFromCode","_parseOptions","callee","_calcCellSizeAndPaddi","CODE_COLOR","replace","BACKGROUND_COLOR","png","generateImageFromCode","toDataURL","createBufferOfImageData","imageData","getBufferFromImageData","createImageDataUrl","getDataURLFromImageData","isZlibCompressed","cmf","flg","fdict","adler32Bytes","adler32","VideoManager","loadMode","maxRemain","remainStart","remainEnd","buckets","preprocess","bucket","origin","postprocess","cleanup","forEach","remove","Object","assign","updateRemainRange","includeRemainRange","downloadAndParseVideo","bucket_1","needParse","_regenerator","createBucket","needDownloadAndParse","promise","prepare","urls_1","__awaiter","urls","_this2","_callee3","preloadBucket","_context3","Promise","all","_context4","then","_this3","_callee4","getPoint","go","_context5","_this4","_callee5","_this5","needRemoveFiles","_callee6","_context6","VideoEditor","painter","resource","key_1","value_1","loadImagesWithRecord","getContext","hasValidKey","hasOwn","prototype","hasOwnProperty","loadImage","source","loadExtImage","setCanvas","getImageData","setImage","startsWith","_t5","_t6","setQRCode","ResourceManager","createImage","img","image","create","inertBitmapIntoCaches","isBitmap","images_1","filename_1","imageAwaits","imageFilename","entries","_ref2","name","byteLength","releaseOne","tidyUp","ImageBitmap","close","src","USER_DATA_PATH","Player","animator","renderer","container","secondary","rAF","bind","mount","startAnimation","onResume","onPause","onStop","stepToFrame","andPlay","stepToPercentage","round","_config$getConfig","isReverseMode","nextTail","latestFrame","nextFrame","exactFrame","hasRemained","MAX_DRAW_TIME_PER_FRAME","MAX_ACCELERATE_DRAW_TIME_PER_FRAME","MAX_DYNAMIC_CHUNK_SIZE","MIN_DYNAMIC_CHUNK_SIZE","dynamicChunkSize","chunk","elapsed","patchDraw","before","timePercent","onProcess","Poster","isConfigured","setContentMode","setFrame","draw","toImageData","_this$painter"],"mappings":"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,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EACZ,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EACb,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EACZ,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EACb,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC1B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACd,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACvB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAC3B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACxB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EA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E,EAAE,EAAE,EAAE,CAAC,EACnB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACnB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAC/B;AACD,IAAMC,GAAG,GACN,CAAC,IAAI,EAAE,GAAK,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE;AAC7E,IAAMC,GAAG,GACN,CAAC,IAAI,EAAE,GACP,CAAC,IAAI,EAAG,GACR,CAAC,IAAI,EAAG,GACR,CAAC,IAAI,CAAE,GACP,CAAC,IAAI,CAAE,GACP,CAAC,IAAI,CAAE,GACP,CAAC,IAAI,CAAE,GACP,CAAC,IAAI,CAAE;AACV,IAAMC,QAAQ,GAAI,CAAC,IAAI,EAAE,GAAK,CAAC,IAAI,EAAG,GAAI,CAAC,IAAI,EAAG,GAAI,CAAC,IAAI,CAAE,GAAI,CAAC,IAAI,CAAE;AACxE,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAI1a,IAAY,EAAA;EAAA,OAAKA,IAAI,KAAK,CAAC,GAAG,CAAC,GAAGhH,IAAI,CAAC2hB,IAAI,CAAC3a,IAAI,CAAC;AAAA,CAAA;AACtE,IAAM4a,OAAO,GAAGF,WAAW,CAACH,GAAG,CAAC;AAChC,IAAMM,OAAO,GAAGH,WAAW,CAACF,GAAG,CAAC;AAEhC;AACA;AACA;AAEO,IAAMM,IAAI,GAAG;AAClBC,EAAAA,cAAc,EAAA,SAAdA,cAAcA,CAAC/a,IAAY,EAAA;AACzB,IAAA,IAAI3D,CAAC,GAAG2D,IAAI,IAAI,EAAE;IAElB,OAAO0a,WAAW,CAACre,CAAC,CAAC,GAAGue,OAAO,IAAI,CAAC,EAAE;MACpCve,CAAC,IAAIke,GAAG,IAAKG,WAAW,CAACre,CAAC,CAAC,GAAGue,OAAQ;AACxC,IAAA;AAEA,IAAA,OAAO,CAAE5a,IAAI,IAAI,EAAE,GAAI3D,CAAC,IAAIoe,QAAQ;EACtC,CAAC;AAEDO,EAAAA,gBAAgB,EAAA,SAAhBA,gBAAgBA,CAAChb,IAAY,EAAA;AAC3B,IAAA,IAAI3D,CAAC,GAAG2D,IAAI,IAAI,EAAE;IAElB,OAAO0a,WAAW,CAACre,CAAC,CAAC,GAAGwe,OAAO,IAAI,CAAC,EAAE;MACpCxe,CAAC,IAAIme,GAAG,IAAKE,WAAW,CAACre,CAAC,CAAC,GAAGwe,OAAQ;AACxC,IAAA;AAEA,IAAA,OAAQ7a,IAAI,IAAI,EAAE,GAAI3D,CAAC;EACzB,CAAC;AAED4e,EAAAA,kBAAkB,EAAA,SAAlBA,kBAAkBA,CAAC3B,UAAkB,EAAA;AACnC,IAAA,OAAOgB,sBAAsB,CAAChB,UAAU,GAAG,CAAC,CAAC;EAC/C,CAAC;AAED4B,EAAAA,eAAe,EAAA,SAAfA,eAAeA,CAACC,WAAmB,EAAA;AACjC,IAAA,IACE7C,UAAU,GAQRD,aAAa,CARfC,UAAU;MACVC,UAAU,GAORF,aAAa,CAPfE,UAAU;MACVC,UAAU,GAMRH,aAAa,CANfG,UAAU;MACVC,UAAU,GAKRJ,aAAa,CALfI,UAAU;MACVC,UAAU,GAIRL,aAAa,CAJfK,UAAU;MACVC,UAAU,GAGRN,aAAa,CAHfM,UAAU;MACVC,UAAU,GAERP,aAAa,CAFfO,UAAU;MACVC,UAAU,GACRR,aAAa,CADfQ,UAAU;AAGZ,IAAA,QAAQsC,WAAW;AACjB,MAAA,KAAK7C,UAAU;QACb,OAAO,UAAClgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAAK,CAAC7R,CAAC,GAAG6R,CAAC,IAAI,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AACpD,MAAA,KAAKsO,UAAU;AACb,QAAA,OAAO,UAACngB,CAAS,EAAA;AAAA,UAAA,OAAKA,CAAC,GAAG,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AACnC,MAAA,KAAKogB,UAAU;QACb,OAAO,UAAC4C,EAAU,EAAEnR,CAAS,EAAA;AAAA,UAAA,OAAKA,CAAC,GAAG,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AAC/C,MAAA,KAAKwO,UAAU;QACb,OAAO,UAACrgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAAK,CAAC7R,CAAC,GAAG6R,CAAC,IAAI,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AACpD,MAAA,KAAKyO,UAAU;QACb,OAAO,UAACtgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAAK,CAAC,CAAC,EAAE7R,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE6R,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AACpE,MAAA,KAAK0O,UAAU;QACb,OAAO,UAACvgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAAO7R,CAAC,GAAG6R,CAAC,GAAI,CAAC,GAAM7R,CAAC,GAAG6R,CAAC,GAAI,CAAE,KAAK,CAAC;AAAA,QAAA,CAAA;AACtE,MAAA,KAAK2O,UAAU;QACb,OAAO,UAACxgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAC1B,CAAG7R,CAAC,GAAG6R,CAAC,GAAI,CAAC,GAAM7R,CAAC,GAAG6R,CAAC,GAAI,CAAE,IAAI,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AAC7C,MAAA,KAAK4O,UAAU;QACb,OAAO,UAACzgB,CAAS,EAAE6R,CAAS,EAAA;AAAA,UAAA,OAC1B,CAAG7R,CAAC,GAAG6R,CAAC,GAAI,CAAC,GAAK,CAAC7R,CAAC,GAAG6R,CAAC,IAAI,CAAE,IAAI,CAAC,KAAK,CAAC;AAAA,QAAA,CAAA;AAC7C,MAAA;AACE,QAAA,MAAM,IAAI/O,KAAK,CAAA,mBAAA,CAAA+B,MAAA,CAAqBke,WAAW,CAAE,CAAC;AACtD;EACF,CAAC;AAEDE,EAAAA,yBAAyB,EAAA,SAAzBA,yBAAyBA,CAACC,kBAA0B,EAAA;IAClD,IAAIpf,CAAC,GAAG,IAAIge,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAE9B,KAAK,IAAI9hB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkjB,kBAAkB,EAAEljB,CAAC,EAAE,EAAE;MAC3C8D,CAAC,GAAGA,CAAC,CAACie,QAAQ,CAAC,IAAID,UAAU,CAAC,CAAC,CAAC,EAAEH,MAAM,CAACE,IAAI,CAAC7hB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxD,IAAA;AAEA,IAAA,OAAO8D,CAAC;EACV,CAAC;AAEDqf,EAAAA,eAAe,WAAfA,eAAeA,CAACC,IAAY,EAAE1d,IAAY,EAAA;AACxC,IAAA,IAAQ8Z,WAAW,GAAiDD,MAAM,CAAlEC,WAAW;MAAEC,cAAc,GAAiCF,MAAM,CAArDE,cAAc;MAAEC,cAAc,GAAiBH,MAAM,CAArCG,cAAc;MAAEC,UAAU,GAAKJ,MAAM,CAArBI,UAAU;AAE/D,IAAA,IAAIja,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,EAAE,EAAE;AACzB,MAAA,MAAM,IAAI5C,KAAK,CAAA,QAAA,CAAA+B,MAAA,CAAUa,IAAI,CAAE,CAAC;AAClC,IAAA;AAEA,IAAA,IAAIA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAG,EAAE,EAAE;AAC1B;AAEA,MAAA,QAAQ0d,IAAI;AACV,QAAA,KAAK5D,WAAW;AACd,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,CAAC;AACV,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,CAAC;AACV,QAAA,KAAKC,UAAU;AACb,UAAA,OAAO,CAAC;AAEZ;AACF,IAAA;IAEA,IAAIja,IAAI,GAAG,EAAE,EAAE;AACb;AAEA,MAAA,QAAQ0d,IAAI;AACV,QAAA,KAAK5D,WAAW;AACd,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,UAAU;AACb,UAAA,OAAO,EAAE;AAEb;AACF,IAAA;IAEA,IAAIja,IAAI,IAAI,EAAE,EAAE;AACd;AAEA,MAAA,QAAQ0d,IAAI;AACV,QAAA,KAAK5D,WAAW;AACd,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,cAAc;AACjB,UAAA,OAAO,EAAE;AACX,QAAA,KAAKC,UAAU;AACb,UAAA,OAAO,EAAE;AAEb;AACF,IAAA;AAEA,IAAA,MAAM,IAAI7c,KAAK,CAAA,QAAA,CAAA+B,MAAA,CAAUue,IAAI,CAAE,CAAC;EAClC,CAAC;AAEDC,EAAAA,YAAY,EAAA,SAAZA,YAAYA,CAACC,EAAU,EAAA;AACrB,IAAA,IAAMC,WAAW,GAAGD,EAAE,CAACE,cAAc,EAAE;IACvC,IAAIC,SAAS,GAAG,CAAC;AAEjB;IAEA,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGH,WAAW,EAAEG,GAAG,EAAE,EAAE;MAC1C,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGJ,WAAW,EAAEI,GAAG,EAAE,EAAE;QAC1C,IAAMC,IAAI,GAAGN,EAAE,CAACO,MAAM,CAACH,GAAG,EAAEC,GAAG,CAAC;QAChC,IAAIG,SAAS,GAAG,CAAC;AAEjB,QAAA,KAAK,IAAInf,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5B,UAAA,IAAMof,IAAI,GAAGL,GAAG,GAAG/e,CAAC;AACpB,UAAA,IAAIof,IAAI,GAAG,CAAC,IAAIR,WAAW,IAAIQ,IAAI,EAAE;AAErC,UAAA,KAAK,IAAI/f,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5B,YAAA,IAAMggB,IAAI,GAAGL,GAAG,GAAG3f,CAAC;AACpB,YAAA,IAAIggB,IAAI,GAAG,CAAC,IAAIT,WAAW,IAAIS,IAAI,EAAE;AACrC,YAAA,IAAIrf,CAAC,KAAK,CAAC,IAAIX,CAAC,KAAK,CAAC,EAAE;YACxB,IAAI4f,IAAI,KAAKN,EAAE,CAACO,MAAM,CAACE,IAAI,EAAEC,IAAI,CAAC,EAAE;AAClCF,cAAAA,SAAS,EAAE;AACb,YAAA;AACF,UAAA;AACF,QAAA;QAEA,IAAIA,SAAS,GAAG,CAAC,EAAE;AACjBL,UAAAA,SAAS,IAAIK,SAAS,GAAG,CAAC,GAAG,CAAC;AAChC,QAAA;AACF,MAAA;AACF,IAAA;AAEA;AAEA,IAAA,KAAK,IAAIJ,IAAG,GAAG,CAAC,EAAEA,IAAG,GAAGH,WAAW,GAAG,CAAC,EAAEG,IAAG,EAAE,EAAE;AAC9C,MAAA,KAAK,IAAIC,IAAG,GAAG,CAAC,EAAEA,IAAG,GAAGJ,WAAW,GAAG,CAAC,EAAEI,IAAG,EAAE,EAAE;QAC9C,IAAItjB,KAAK,GAAG,CAAC;QAEb,IAAIijB,EAAE,CAACO,MAAM,CAACH,IAAG,EAAEC,IAAG,CAAC,EAAEtjB,KAAK,EAAE;AAChC,QAAA,IAAIijB,EAAE,CAACO,MAAM,CAACH,IAAG,GAAG,CAAC,EAAEC,IAAG,CAAC,EAAEtjB,KAAK,EAAE;AACpC,QAAA,IAAIijB,EAAE,CAACO,MAAM,CAACH,IAAG,EAAEC,IAAG,GAAG,CAAC,CAAC,EAAEtjB,KAAK,EAAE;AACpC,QAAA,IAAIijB,EAAE,CAACO,MAAM,CAACH,IAAG,GAAG,CAAC,EAAEC,IAAG,GAAG,CAAC,CAAC,EAAEtjB,KAAK,EAAE;AACxC,QAAA,IAAIA,KAAK,KAAK,CAAC,IAAIA,KAAK,KAAK,CAAC,EAAE;AAC9BojB,UAAAA,SAAS,IAAI,CAAC;AAChB,QAAA;AACF,MAAA;AACF,IAAA;AAEA;IAEA,KAAK,IAAIC,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGH,WAAW,EAAEG,KAAG,EAAE,EAAE;AAC1C,MAAA,KAAK,IAAIC,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGJ,WAAW,GAAG,CAAC,EAAEI,KAAG,EAAE,EAAE;AAC9C,QAAA,IACEL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,CAAC,IACnB,CAACL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,IACxBL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,IACvBL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,IACvBL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,IACvB,CAACL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,IACxBL,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,GAAG,CAAC,CAAC,EACvB;AACAF,UAAAA,SAAS,IAAI,EAAE;AACjB,QAAA;AACF,MAAA;AACF,IAAA;IAEA,KAAK,IAAIE,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGJ,WAAW,EAAEI,KAAG,EAAE,EAAE;AAC1C,MAAA,KAAK,IAAID,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGH,WAAW,GAAG,CAAC,EAAEG,KAAG,EAAE,EAAE;AAC9C,QAAA,IACEJ,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,CAAC,IACnB,CAACL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,IACxBL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,IACvBL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,IACvBL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,IACvB,CAACL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,IACxBL,EAAE,CAACO,MAAM,CAACH,KAAG,GAAG,CAAC,EAAEC,KAAG,CAAC,EACvB;AACAF,UAAAA,SAAS,IAAI,EAAE;AACjB,QAAA;AACF,MAAA;AACF,IAAA;AAEA;IAEA,IAAIQ,SAAS,GAAG,CAAC;IACjB,KAAK,IAAIN,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGJ,WAAW,EAAEI,KAAG,EAAE,EAAE;MAC1C,KAAK,IAAID,KAAG,GAAG,CAAC,EAAEA,KAAG,GAAGH,WAAW,EAAEG,KAAG,EAAE,EAAE;QAC1C,IAAIJ,EAAE,CAACO,MAAM,CAACH,KAAG,EAAEC,KAAG,CAAC,EAAE;AACvBM,UAAAA,SAAS,EAAE;AACb,QAAA;AACF,MAAA;AACF,IAAA;IAEA,IAAMhC,KAAK,GACTrhB,IAAI,CAACsjB,GAAG,CAAE,GAAG,GAAGD,SAAS,GAAIrjB,IAAI,CAACujB,GAAG,CAACZ,WAAW,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC;AAEjE,IAAA,OAAOE,SAAS,GAAGxB,KAAK,GAAG,EAAE;AAC/B,EAAA;CACD,CC9QD,IAAMmC,IAAI,GAAG,IAAI;AACjB,IAAMC,IAAI,GAAG,IAAI;AAEjB;;;;;AAKG;AACH,IAAaC,MAAM,gBAAA,YAAA;AAWjB,EAAA,SAAAA,MAAAA,CACmBpD,UAAkB,EACnCC,iBAAwC,EAAA;AAAAlkB,IAAAA,eAAA,OAAAqnB,MAAA,CAAA;IADvB,IAAA,CAAApD,UAAU,GAAVA,UAAU;IATrB,IAAA,CAAAqD,OAAO,GAAgB,EAAE;IAEzB,IAAA,CAAAhB,WAAW,GAAG,CAAC;IAEf,IAAA,CAAAiB,SAAS,GAAoB,IAAI;IAEjC,IAAA,CAAAC,QAAQ,GAAc,EAAE;AAM9B,IAAA,IAAI,CAACtD,iBAAiB,GAAGvB,mBAAmB,CAACuB,iBAAiB,CAAC;AACjE,EAAA;EAAC,OAAAnjB,YAAA,CAAAsmB,MAAA,EAAA,CAAA;IAAArmB,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAEO,SAAAwmB,QAAQA,CAACzV,IAAa,EAAE8T,WAAmB,EAAA;MACjD,IAAI,CAACQ,WAAW,GAAG,IAAI,CAACrC,UAAU,GAAG,CAAC,GAAG,EAAE;AAC3C,MAAA,IAAI,CAACqD,OAAO,GAAI,UAAChB,WAAmB,EAAI;QACtC,IAAMgB,OAAO,GAAgB,EAAE;AAE/B;QACA,KAAK,IAAIb,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGH,WAAW,EAAEG,GAAG,EAAE,EAAE;AAC1Ca,UAAAA,OAAO,CAACb,GAAG,CAAC,GAAG,EAAE;UAEjB,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGJ,WAAW,EAAEI,GAAG,EAAE,EAAE;AAC1CY,YAAAA,OAAO,CAACb,GAAG,CAAC,CAACC,GAAG,CAAC,GAAG,IAA0B;AAChD,UAAA;AACF,QAAA;AAEA,QAAA,OAAOY,OAAO;AAChB,MAAA,CAAC,CAAE,IAAI,CAAChB,WAAW,CAAC;AAEpB,MAAA,IAAMljB,KAAK,GAAG,IAAI,CAACkjB,WAAW,GAAG,CAAC;AAElC,MAAA,IAAI,CAACoB,yBAAyB,CAAC,CAAC,EAAE,CAAC,CAAC;AACpC,MAAA,IAAI,CAACA,yBAAyB,CAACtkB,KAAK,EAAE,CAAC,CAAC;AACxC,MAAA,IAAI,CAACskB,yBAAyB,CAAC,CAAC,EAAEtkB,KAAK,CAAC;MACxC,IAAI,CAACukB,0BAA0B,EAAE;MACjC,IAAI,CAACC,kBAAkB,EAAE;AACzB,MAAA,IAAI,CAACC,aAAa,CAAC7V,IAAI,EAAE8T,WAAW,CAAC;AAErC,MAAA,IAAI,IAAI,CAAC7B,UAAU,IAAI,CAAC,EAAE;AACxB,QAAA,IAAI,CAAC6D,eAAe,CAAC9V,IAAI,CAAC;AAC5B,MAAA;AAEA,MAAA,IAAI,IAAI,CAACuV,SAAS,KAAK,IAAI,EAAE;AAC3B,QAAA,IAAI,CAACA,SAAS,GAAG,IAAI,CAACQ,UAAU,CAC9B,IAAI,CAAC9D,UAAU,EACf,IAAI,CAACC,iBAAiB,EACtB,IAAI,CAACsD,QAAQ,CACd;AACH,MAAA;MAEA,IAAI,CAACQ,OAAO,CAAC,IAAI,CAACT,SAAS,EAAEzB,WAAW,CAAC;AAC3C,IAAA;AAAC,GAAA,EAAA;IAAA9kB,GAAA,EAAA,2BAAA;AAAAC,IAAAA,KAAA,EAEO,SAAAymB,yBAAyBA,CAACjB,GAAW,EAAEC,GAAW,EAAA;AACxD,MAAA,IAAQY,OAAO,GAAkB,IAAI,CAA7BA,OAAO;QAAEhB,WAAW,GAAK,IAAI,CAApBA,WAAW;AAE5B,MAAA,KAAK,IAAI5e,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5B,QAAA,IAAMugB,EAAE,GAAGxB,GAAG,GAAG/e,CAAC;QAClB,IAAIugB,EAAE,IAAI,EAAE,IAAI3B,WAAW,IAAI2B,EAAE,EAAE;AAEnC,QAAA,KAAK,IAAIlhB,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5B,UAAA,IAAMmhB,EAAE,GAAGxB,GAAG,GAAG3f,CAAC;UAClB,IAAImhB,EAAE,IAAI,EAAE,IAAI5B,WAAW,IAAI4B,EAAE,EAAE;UAEnCZ,OAAO,CAACW,EAAE,CAAC,CAACC,EAAE,CAAC,GACZxgB,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAKX,CAAC,KAAK,CAAC,IAAIA,CAAC,KAAK,CAAC,CAAC,IACxCA,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAKW,CAAC,KAAK,CAAC,IAAIA,CAAC,KAAK,CAAC,CAAE,IACzCA,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,IAAIX,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAE;AAC1C,QAAA;AACF,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAA/F,GAAA,EAAA,4BAAA;AAAAC,IAAAA,KAAA,EAEO,SAAA0mB,0BAA0BA,GAAA;AAChC,MAAA,IAAQ1D,UAAU,GAAc,IAAI,CAA5BA,UAAU;QAAEqD,OAAO,GAAK,IAAI,CAAhBA,OAAO;AAC3B,MAAA,IAAMrlB,GAAG,GAAGwjB,IAAI,CAACG,kBAAkB,CAAC3B,UAAU,CAAC;AAC/C,MAAA,IAAQ/hB,MAAM,GAAKD,GAAG,CAAdC,MAAM;MAEd,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,MAAM,EAAEa,CAAC,EAAE,EAAE;QAC/B,KAAK,IAAI6R,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1S,MAAM,EAAE0S,CAAC,EAAE,EAAE;AAC/B,UAAA,IAAM6R,GAAG,GAAGxkB,GAAG,CAACc,CAAC,CAAC;AAClB,UAAA,IAAM2jB,GAAG,GAAGzkB,GAAG,CAAC2S,CAAC,CAAC;UAElB,IAAI0S,OAAO,CAACb,GAAG,CAAC,CAACC,GAAG,CAAC,IAAI,IAAI,EAAE;AAE/B,UAAA,KAAK,IAAIhf,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5B,YAAA,KAAK,IAAIX,CAAC,GAAG,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC5BugB,cAAAA,OAAO,CAACb,GAAG,GAAG/e,CAAC,CAAC,CAACgf,GAAG,GAAG3f,CAAC,CAAC,GACvBW,CAAC,KAAK,EAAE,IAAIA,CAAC,KAAK,CAAC,IAAIX,CAAC,KAAK,EAAE,IAAIA,CAAC,KAAK,CAAC,IAAKW,CAAC,KAAK,CAAC,IAAIX,CAAC,KAAK,CAAE;AACtE,YAAA;AACF,UAAA;AACF,QAAA;AACF,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAA/F,GAAA,EAAA,oBAAA;AAAAC,IAAAA,KAAA,EAEO,SAAA2mB,kBAAkBA,GAAA;AACxB,MAAA,IAAQtB,WAAW,GAAc,IAAI,CAA7BA,WAAW;QAAEgB,OAAO,GAAK,IAAI,CAAhBA,OAAO;AAC5B,MAAA,IAAMlkB,KAAK,GAAGkjB,WAAW,GAAG,CAAC;MAE7B,KAAK,IAAI5e,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtE,KAAK,EAAEsE,CAAC,EAAE,EAAE;QAC9B,IAAI4f,OAAO,CAAC5f,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;QAE3B4f,OAAO,CAAC5f,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC,KAAK,CAAC;AAC7B,MAAA;MAEA,KAAK,IAAIX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG3D,KAAK,EAAE2D,CAAC,EAAE,EAAE;QAC9B,IAAIugB,OAAO,CAAC,CAAC,CAAC,CAACvgB,CAAC,CAAC,IAAI,IAAI,EAAE;QAE3BugB,OAAO,CAAC,CAAC,CAAC,CAACvgB,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC,KAAK,CAAC;AAC7B,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAA/F,GAAA,EAAA,eAAA;AAAAC,IAAAA,KAAA,EAEO,SAAA4mB,aAAaA,CAAC7V,IAAa,EAAE8T,WAAmB,EAAA;AACtD,MAAA,IAAQ5B,iBAAiB,GAA2B,IAAI,CAAhDA,iBAAiB;QAAEoD,OAAO,GAAkB,IAAI,CAA7BA,OAAO;QAAEhB,WAAW,GAAK,IAAI,CAApBA,WAAW;AAC/C,MAAA,IAAM3b,IAAI,GAAIuZ,iBAAiB,IAAI,CAAC,GAAI4B,WAAW;AACnD,MAAA,IAAM1P,IAAI,GAAGqP,IAAI,CAACC,cAAc,CAAC/a,IAAI,CAAC;AAEtC;MACA,KAAK,IAAI5H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;AAC3B,QAAA,IAAMgiB,GAAG,GAAG,CAAC/S,IAAI,IAAI,CAAEoE,IAAI,IAAIrT,CAAC,GAAI,CAAC,MAAM,CAAC;QAE5C,IAAIA,CAAC,GAAG,CAAC,EAAE;AACTukB,UAAAA,OAAO,CAACvkB,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGgiB,GAAG;AACrB,QAAA,CAAC,MAAM,IAAIhiB,CAAC,GAAG,CAAC,EAAE;UAChBukB,OAAO,CAACvkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGgiB,GAAG;AACzB,QAAA,CAAC,MAAM;UACLuC,OAAO,CAAChB,WAAW,GAAG,EAAE,GAAGvjB,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGgiB,GAAG;AACxC,QAAA;AACF,MAAA;AAEA;MACA,KAAK,IAAIhiB,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG,EAAE,EAAEA,EAAC,EAAE,EAAE;AAC3B,QAAA,IAAMgiB,IAAG,GAAG,CAAC/S,IAAI,IAAI,CAAEoE,IAAI,IAAIrT,EAAC,GAAI,CAAC,MAAM,CAAC;QAE5C,IAAIA,EAAC,GAAG,CAAC,EAAE;UACTukB,OAAO,CAAC,CAAC,CAAC,CAAChB,WAAW,GAAGvjB,EAAC,GAAG,CAAC,CAAC,GAAGgiB,IAAG;AACvC,QAAA,CAAC,MAAM,IAAIhiB,EAAC,GAAG,CAAC,EAAE;UAChBukB,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,GAAGvkB,EAAC,CAAC,GAAGgiB,IAAG;AAC1B,QAAA,CAAC,MAAM;UACLuC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,GAAGvkB,EAAC,GAAG,CAAC,CAAC,GAAGgiB,IAAG;AAC9B,QAAA;AACF,MAAA;AAEA;MACAuC,OAAO,CAAChB,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAACtU,IAAI;AACrC,IAAA;AAAC,GAAA,EAAA;IAAAhR,GAAA,EAAA,oBAAA;AAAAC,IAAAA,KAAA,EAEO,SAAAknB,kBAAkBA,GAAA;MACxB,IAAIC,YAAY,GAAG,CAAC;MACpB,IAAIC,OAAO,GAAG,CAAC;MAEf,KAAK,IAAItlB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;AAC1B,QAAA,IAAI,CAAC0kB,QAAQ,CAAC,IAAI,EAAE1kB,CAAC,CAAC;AAEtB,QAAA,IAAMyjB,SAAS,GAAGf,IAAI,CAACW,YAAY,CAAC,IAAI,CAAC;AACzC,QAAA,IAAIrjB,CAAC,KAAK,CAAC,IAAIqlB,YAAY,GAAG5B,SAAS,EAAE;AACvC4B,UAAAA,YAAY,GAAG5B,SAAS;AACxB6B,UAAAA,OAAO,GAAGtlB,CAAC;AACb,QAAA;AACF,MAAA;AAEA,MAAA,OAAOslB,OAAO;AAChB,IAAA;AAAC,GAAA,EAAA;IAAArnB,GAAA,EAAA,iBAAA;AAAAC,IAAAA,KAAA,EAEO,SAAA6mB,eAAeA,CAAC9V,IAAa,EAAA;AACnC,MAAA,IAAQiS,UAAU,GAA2B,IAAI,CAAzCA,UAAU;QAAEqD,OAAO,GAAkB,IAAI,CAA7BA,OAAO;QAAEhB,WAAW,GAAK,IAAI,CAApBA,WAAW;AACxC,MAAA,IAAMlQ,IAAI,GAAGqP,IAAI,CAACE,gBAAgB,CAAC1B,UAAU,CAAC;MAE9C,KAAK,IAAIlhB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;AAC3B,QAAA,IAAMgiB,GAAG,GAAG,CAAC/S,IAAI,IAAI,CAAEoE,IAAI,IAAIrT,CAAC,GAAI,CAAC,MAAM,CAAC;QAE5CukB,OAAO,CAAC,CAAC,EAAEvkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAEA,CAAC,GAAG,CAAC,GAAIujB,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGvB,GAAG;QACvDuC,OAAO,CAAEvkB,CAAC,GAAG,CAAC,GAAIujB,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAEvjB,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGgiB,GAAG;AACzD,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAA/jB,GAAA,EAAA,YAAA;IAAAC,KAAA,EAEO,SAAA8mB,UAAUA,CAChB9D,UAAkB,EAClBC,iBAAyB,EACzBsD,QAAmB,EAAA;AAEnB,MAAA,IAAMc,QAAQ,GAAG,IAAIvE,OAAO,EAAE,CAACI,WAAW,CAACF,UAAU,EAAEC,iBAAiB,CAAC;AACzE,MAAA,IAAM3hB,MAAM,GAAG,IAAIuf,SAAS,EAAE;AAE9B,MAAA,KAAK,IAAI/e,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGykB,QAAQ,CAACtlB,MAAM,EAAEa,CAAC,EAAE,EAAE;AACxC,QAAA,IAAM4H,IAAI,GAAG6c,QAAQ,CAACzkB,CAAC,CAAC;QAExBR,MAAM,CAAC2f,GAAG,CAACvX,IAAI,CAACwb,IAAI,EAAE,CAAC,CAAC;AACxB5jB,QAAAA,MAAM,CAAC2f,GAAG,CAACvX,IAAI,CAACzI,MAAM,EAAEujB,IAAI,CAACS,eAAe,CAACvb,IAAI,CAACwb,IAAI,EAAElC,UAAU,CAAC,CAAC;AACpEtZ,QAAAA,IAAI,CAAC2W,KAAK,CAAC/e,MAAM,CAAC;AACpB,MAAA;AAEA;MACA,IAAIgmB,cAAc,GAAG,CAAC;AACtB,MAAA,KAAK,IAAIxlB,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGulB,QAAQ,CAACpmB,MAAM,EAAEa,GAAC,EAAE,EAAE;AACxCwlB,QAAAA,cAAc,IAAID,QAAQ,CAACvlB,GAAC,CAAC,CAACwhB,SAAS;AACzC,MAAA;AAEA,MAAA,IAAMD,UAAU,GAAGiE,cAAc,GAAG,CAAC;AACrC,MAAA,IAAIhmB,MAAM,CAACwf,YAAY,GAAGuC,UAAU,EAAE;AACpC,QAAA,MAAM,IAAIze,KAAK,CAAA,yBAAA,CAAA+B,MAAA,CACarF,MAAM,CAACwf,YAAY,EAAA,KAAA,CAAA,CAAAna,MAAA,CAAM0c,UAAU,MAAG,CACjE;AACH,MAAA;AAEA;AACA,MAAA,IAAI/hB,MAAM,CAACwf,YAAY,GAAG,CAAC,IAAIuC,UAAU,EAAE;AACzC/hB,QAAAA,MAAM,CAAC2f,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAClB,MAAA;AAEA;AACA,MAAA,OAAO3f,MAAM,CAACwf,YAAY,GAAG,CAAC,KAAK,CAAC,EAAE;AACpCxf,QAAAA,MAAM,CAAC6f,MAAM,CAAC,KAAK,CAAC;AACtB,MAAA;AAEA;AACA,MAAA,OAAO,IAAI,EAAE;AACX,QAAA,IAAI7f,MAAM,CAACwf,YAAY,IAAIuC,UAAU,EAAE;AACrC,UAAA;AACF,QAAA;AACA/hB,QAAAA,MAAM,CAAC2f,GAAG,CAACiF,IAAI,EAAE,CAAC,CAAC;AAEnB,QAAA,IAAI5kB,MAAM,CAACwf,YAAY,IAAIuC,UAAU,EAAE;AACrC,UAAA;AACF,QAAA;AACA/hB,QAAAA,MAAM,CAAC2f,GAAG,CAACkF,IAAI,EAAE,CAAC,CAAC;AACrB,MAAA;AAEA,MAAA,OAAO,IAAI,CAACoB,WAAW,CAACjmB,MAAM,EAAE+lB,QAAQ,CAAC;AAC3C,IAAA;AAAC,GAAA,EAAA;IAAAtnB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAEO,SAAA+mB,OAAOA,CAACrd,IAAc,EAAEmb,WAAmB,EAAA;AACjD,MAAA,IAAQwB,OAAO,GAAkB,IAAI,CAA7BA,OAAO;QAAEhB,WAAW,GAAK,IAAI,CAApBA,WAAW;AAC5B,MAAA,IAAMmC,QAAQ,GAAGhD,IAAI,CAACI,eAAe,CAACC,WAAW,CAAC;MAClD,IAAI4C,GAAG,GAAG,EAAE;AACZ,MAAA,IAAIjC,GAAG,GAAGH,WAAW,GAAG,CAAC;MACzB,IAAIqC,QAAQ,GAAG,CAAC;MAChB,IAAIC,SAAS,GAAG,CAAC;AAEjB,MAAA,KAAK,IAAIlC,GAAG,GAAGD,GAAG,EAAEC,GAAG,GAAG,CAAC,EAAEA,GAAG,IAAI,CAAC,EAAE;AACrC,QAAA,IAAIA,GAAG,KAAK,CAAC,EAAEA,GAAG,IAAI,CAAC;AAEvB,QAAA,OAAO,IAAI,EAAE;UACX,KAAK,IAAI3f,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC1B,IAAIugB,OAAO,CAACb,GAAG,CAAC,CAACC,GAAG,GAAG3f,CAAC,CAAC,IAAI,IAAI,EAAE;cACjC,IAAI4f,IAAI,GAAG,KAAK;AAEhB,cAAA,IAAIiC,SAAS,GAAGje,IAAI,CAACzI,MAAM,EAAE;gBAC3BykB,IAAI,GAAG,CAAEhc,IAAI,CAACie,SAAS,CAAC,KAAKD,QAAQ,GAAI,CAAC,MAAM,CAAC;AACnD,cAAA;cAEA,IAAIF,QAAQ,CAAChC,GAAG,EAAEC,GAAG,GAAG3f,CAAC,CAAC,EAAE;gBAC1B4f,IAAI,GAAG,CAACA,IAAI;AACd,cAAA;cAEAW,OAAO,CAACb,GAAG,CAAC,CAACC,GAAG,GAAG3f,CAAC,CAAC,GAAG4f,IAAI;AAC5BgC,cAAAA,QAAQ,EAAE;AAEV,cAAA,IAAIA,QAAQ,KAAK,EAAE,EAAE;AACnBC,gBAAAA,SAAS,EAAE;AACXD,gBAAAA,QAAQ,GAAG,CAAC;AACd,cAAA;AACF,YAAA;AACF,UAAA;AAEAlC,UAAAA,GAAG,IAAIiC,GAAG;AAEV,UAAA,IAAIjC,GAAG,GAAG,CAAC,IAAIH,WAAW,IAAIG,GAAG,EAAE;AACjCA,YAAAA,GAAG,IAAIiC,GAAG;YACVA,GAAG,GAAG,CAACA,GAAG;AACV,YAAA;AACF,UAAA;AACF,QAAA;AACF,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAA1nB,GAAA,EAAA,aAAA;AAAAC,IAAAA,KAAA,EAEO,SAAAunB,WAAWA,CACjBK,SAAoB,EACpBP,QAAwB,EAAA;MAExB,IAAMQ,MAAM,GAAe,EAAE;MAC7B,IAAMC,MAAM,GAAe,EAAE;MAC7B,IAAIlH,MAAM,GAAG,CAAC;MACd,IAAImH,UAAU,GAAG,CAAC;MAClB,IAAIC,UAAU,GAAG,CAAC;AAElB,MAAA,KAAK,IAAIvhB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4gB,QAAQ,CAACpmB,MAAM,EAAEwF,CAAC,EAAE,EAAE;AACxC,QAAA,IAAMwhB,OAAO,GAAGZ,QAAQ,CAAC5gB,CAAC,CAAC,CAAC6c,SAAS;QACrC,IAAM4E,OAAO,GAAGb,QAAQ,CAAC5gB,CAAC,CAAC,CAAC4c,UAAU,GAAG4E,OAAO;QAEhDF,UAAU,GAAGrlB,IAAI,CAACG,GAAG,CAACklB,UAAU,EAAEE,OAAO,CAAC;QAC1CD,UAAU,GAAGtlB,IAAI,CAACG,GAAG,CAACmlB,UAAU,EAAEE,OAAO,CAAC;AAE1CL,QAAAA,MAAM,CAACphB,CAAC,CAAC,GAAG,EAAE;QAEd,KAAK,IAAI3E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmmB,OAAO,EAAEnmB,CAAC,EAAE,EAAE;AAChC+lB,UAAAA,MAAM,CAACphB,CAAC,CAAC,CAAC3E,CAAC,CAAC,GAAG,IAAI,GAAG8lB,SAAS,CAACtmB,MAAM,CAACQ,CAAC,GAAG8e,MAAM,CAAC;AACpD,QAAA;AAEAA,QAAAA,MAAM,IAAIqH,OAAO;AAEjB,QAAA,IAAME,MAAM,GAAG3D,IAAI,CAACO,yBAAyB,CAACmD,OAAO,CAAC;AACtD,QAAA,IAAME,OAAO,GAAG,IAAIxE,UAAU,CAACiE,MAAM,CAACphB,CAAC,CAAC,EAAE0hB,MAAM,CAAClnB,MAAM,GAAG,CAAC,CAAC;AAC5D,QAAA,IAAMonB,OAAO,GAAGD,OAAO,CAACtE,GAAG,CAACqE,MAAM,CAAC;AAEnCL,QAAAA,MAAM,CAACrhB,CAAC,CAAC,GAAG,IAAIjG,KAAK,CAAC2nB,MAAM,CAAClnB,MAAM,GAAG,CAAC,CAAC;AACxC,QAAA,KAAK,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGgmB,MAAM,CAACrhB,CAAC,CAAC,CAACxF,MAAM,EAAEa,GAAC,EAAE,EAAE;AACzC,UAAA,IAAMwmB,QAAQ,GAAGxmB,GAAC,GAAGumB,OAAO,CAACpnB,MAAM,GAAG6mB,MAAM,CAACrhB,CAAC,CAAC,CAACxF,MAAM;AAEtD6mB,UAAAA,MAAM,CAACrhB,CAAC,CAAC,CAAC3E,GAAC,CAAC,GAAGwmB,QAAQ,IAAI,CAAC,GAAGD,OAAO,CAACtH,KAAK,CAACuH,QAAQ,CAAC,GAAG,CAAC;AAC5D,QAAA;AACF,MAAA;MAEA,IAAIC,cAAc,GAAG,CAAC;AACtB,MAAA,KAAK,IAAIzmB,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGulB,QAAQ,CAACpmB,MAAM,EAAEa,GAAC,EAAE,EAAE;AACxCymB,QAAAA,cAAc,IAAIlB,QAAQ,CAACvlB,GAAC,CAAC,CAACuhB,UAAU;AAC1C,MAAA;AAEA,MAAA,IAAM3Z,IAAI,GAAG,IAAIlJ,KAAK,CAAC+nB,cAAc,CAAC;MACtC,IAAIC,KAAK,GAAG,CAAC;MAEb,KAAK,IAAI1mB,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGimB,UAAU,EAAEjmB,GAAC,EAAE,EAAE;AACnC,QAAA,KAAK,IAAI2E,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG4gB,QAAQ,CAACpmB,MAAM,EAAEwF,EAAC,EAAE,EAAE;UACxC,IAAI3E,GAAC,GAAG+lB,MAAM,CAACphB,EAAC,CAAC,CAACxF,MAAM,EAAE;YACxByI,IAAI,CAAC8e,KAAK,EAAE,CAAC,GAAGX,MAAM,CAACphB,EAAC,CAAC,CAAC3E,GAAC,CAAC;AAC9B,UAAA;AACF,QAAA;AACF,MAAA;MAEA,KAAK,IAAIA,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGkmB,UAAU,EAAElmB,GAAC,EAAE,EAAE;AACnC,QAAA,KAAK,IAAI2E,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG4gB,QAAQ,CAACpmB,MAAM,EAAEwF,GAAC,EAAE,EAAE;UACxC,IAAI3E,GAAC,GAAGgmB,MAAM,CAACrhB,GAAC,CAAC,CAACxF,MAAM,EAAE;YACxByI,IAAI,CAAC8e,KAAK,EAAE,CAAC,GAAGV,MAAM,CAACrhB,GAAC,CAAC,CAAC3E,GAAC,CAAC;AAC9B,UAAA;AACF,QAAA;AACF,MAAA;AAEA,MAAA,OAAO4H,IAAI;AACb,IAAA;AAAC,GAAA,EAAA;IAAA3J,GAAA,EAAA,QAAA;AAAAC,IAAAA,KAAA,EAEM,SAAA2lB,MAAMA,CAACH,GAAW,EAAEC,GAAW,EAAA;AACpC,MAAA,IAAQJ,WAAW,GAAK,IAAI,CAApBA,WAAW;AAEnB,MAAA,IAAIG,GAAG,GAAG,CAAC,IAAIH,WAAW,IAAIG,GAAG,IAAIC,GAAG,GAAG,CAAC,IAAIJ,WAAW,IAAII,GAAG,EAAE;QAClE,MAAM,IAAI7gB,KAAK,CAAA,EAAA,CAAA+B,MAAA,CAAI6e,GAAG,EAAA,IAAA,CAAA,CAAA7e,MAAA,CAAK8e,GAAG,CAAE,CAAC;AACnC,MAAA;MAEA,OAAO,IAAI,CAACY,OAAO,CAACb,GAAG,CAAC,CAACC,GAAG,CAAC;AAC/B,IAAA;AAAC,GAAA,EAAA;IAAA1lB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAEM,SAAAyoB,OAAOA,CAAC/e,IAAY,EAAA;MACzB,IAAI,CAAC6c,QAAQ,CAACjf,IAAI,CAAC,IAAIkb,OAAO,CAAC9Y,IAAI,CAAC,CAAC;MACrC,IAAI,CAAC4c,SAAS,GAAG,IAAI;AACvB,IAAA;AAAC,GAAA,EAAA;IAAAvmB,GAAA,EAAA,gBAAA;AAAAC,IAAAA,KAAA,EAEM,SAAAslB,cAAcA,GAAA;MACnB,OAAO,IAAI,CAACD,WAAW;AACzB,IAAA;AAAC,GAAA,EAAA;IAAAtlB,GAAA,EAAA,MAAA;AAAAC,IAAAA,KAAA,EAEM,SAAA0oB,IAAIA,GAAA;MACT,IAAI,CAAClC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAACU,kBAAkB,EAAE,CAAC;AACjD,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,EAAA,CCzYH;;AAEG;AACH,IAAayB,MAAM,gBAAA,YAAA;AAAA,EAAA,SAAAA,MAAAA,GAAA;AAAA5pB,IAAAA,eAAA,OAAA4pB,MAAA,CAAA;AAAA,EAAA;EAAA,OAAA7oB,YAAA,CAAA6oB,MAAA,EAAA,IAAA,EAAA,CAAA;IAAA5oB,GAAA,EAAA,YAAA;IAAAC,KAAA;AACjB;;;;AAIG;IACH,SAAO4oB,UAAUA,CAAClf,IAAqB,EAAA;MACrC,OAAO+U,UAAU,CAAC,IAAIpd,UAAU,CAACqI,IAAI,CAAC,CAAC,CAACpI,MAAM;AAChD,IAAA;AAEA;;;;;;AAMG;AANH,GAAA,EAAA;IAAAvB,GAAA,EAAA,YAAA;AAAAC,IAAAA,KAAA,EAOA,SAAO6oB,UAAUA,CACfnf,IAAqB,EACrBof,GAAW,EACmB;AAAA,MAAA,IAA9BC,qFAA0B,IAAI;MAE9B,OAAOtf,iBAAiB,CACtB,IAAIpI,UAAU,CAAC0nB,cAAc,GAAG,IAAI,CAACH,UAAU,CAAClf,IAAI,CAAC,GAAGA,IAAI,CAAC,EAC7DtJ,QAAQ,CAAC0H,IAAI,CAACwB,QAAQ,CAACwf,GAAG,CAAC,CAC5B;AACH,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAA/oB,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAKA,SAAagpB,QAAQA,CAACF,GAAW,EAAA;;;;;;cACvBG,OAAO,GAA0B7oB,QAAQ,CAAzC6oB,OAAO,EAAEC,MAAM,GAAkB9oB,QAAQ,CAAhC8oB,MAAM,EAAEphB,IAAI,GAAY1H,QAAQ,CAAxB0H,IAAI,EAAEqhB,KAAK,GAAK/oB,QAAQ,CAAlB+oB,KAAK;cAC5BC,GAAG,GAAKH,OAAO,CAAfG,GAAG;AACLC,cAAAA,YAAY,GAAGD,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,IAAI;cAC3CE,QAAQ,GAAGxhB,IAAI,CAACyhB,EAAE,CAACT,GAAG,CAAC,GACvBA,GAAG,GACHhhB,IAAI,CAAC0hB,OAAO,CAAC1hB,IAAI,CAACwB,QAAQ,CAACwf,GAAG,CAAC,CAAC,CAAA;AAEtC,cAAA,IAAA,CACIO,YAAY,EAAA;AAAAI,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAAke,cAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AACV,cAAA,OAAM4d,KAAM,CAACO,MAAM,CAACJ,QAAQ,CAAC;AAAA,YAAA,KAAA,CAAA;cAAA,IAAA,CAAAG,QAAA,CAAA9U,CAAA,EAAA;AAAA8U,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAAA,OAAAke,QAAA,CAAA7jB,CAAA,CAAA,CAAA,EACxBujB,KAAM,CAACQ,IAAI,CAACL,QAAQ,CAAC,CAAA;AAAA,YAAA,KAAA,CAAA;AAAAG,cAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAKnB,cAAA,OAAM2d,MAAM,CAACU,KAAK,CAACd,GAAG,CAAC;AAAA,YAAA,KAAA,CAAA;cAA9BrnB,IAAI,GAAAgoB,QAAA,CAAA9U,CAAA;AAAA,cAAA,IAAA,CAGN0U,YAAY,EAAA;AAAAI,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAAke,cAAAA,QAAA,CAAArU,CAAA,GAAA,CAAA;AAAAqU,cAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAEZ,cAAA,OAAM4d,KAAM,CAAC9I,KAAK,CAAC5e,IAAI,EAAE6nB,QAAQ,CAAC;AAAA,YAAA,KAAA,CAAA;AAAAG,cAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;AAAAke,cAAAA,QAAA,CAAArU,CAAA,GAAA,CAAA;cAAAyU,EAAA,GAAAJ,QAAA,CAAA9U,CAAA;AAElC;AACAmV,cAAAA,OAAO,CAACC,KAAK,CAAAF,EAAG,CAAC;AAAC,YAAA,KAAA,CAAA;AAAA,cAAA,OAAAJ,QAAA,CAAA7jB,CAAA,CAAA,CAAA,EAIfnE,IAAI,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAuoB,OAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,CACZ,CAAA,CAAA;AAAA,IAAA;AAED;;;;AAIG;AAJH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,MAAA;AAAAC,IAAAA,KAAA,EAKA,SAAaiqB,IAAIA,CAACnB,GAAW,EAAA;;;;;;oBACpBH,MAAM;AAAAuB,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAa,cAAA,OAAMod,MAAM,CAACK,QAAQ,CAACF,GAAG,CAAC;AAAA,YAAA,KAAA,CAAA;cAAAqB,GAAA,GAAAD,SAAA,CAAAvV,CAAA;AAAAyV,cAAAA,GAAA,GAAItB,GAAG;AAAA,cAAA,OAAAoB,SAAA,CAAAtkB,CAAA,CAAA,CAAA,EAAAykB,GAAA,CAA7CxB,UAAU,CAAAyB,IAAA,CAAAD,GAAA,EAAAF,GAAA,EAAAC,GAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAG,QAAA,CAAA;AAAA,MAAA,CACzB,CAAA,CAAA;AAAA,IAAA;AAAA,GAAA,CAAA,CAAA;AAAA,CAAA,GC3EH,IAAQ5rB,IAAI,GAAKyB,QAAQ,CAAjBzB,IAAI;AAEZ,IAAa6rB,OAAO,gBAAA,YAAA;AAwClB;;;;;;;;AAQG;AACH,EAAA,SAAAA,UAGY;AAAA,IAAA,IAFOtF,IAAA,GAAAuF,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAkB,WAAW;AAAA,IAAA,IAC9CvlB,KAAK,GAAAulB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC;AAAA,IAAA,IACTtlB,MAAM,GAAAslB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC;AAAA1rB,IAAAA,eAAA,OAAAyrB,OAAA,CAAA;IAFO,IAAA,CAAAtF,IAAI,GAAJA,IAAI;AAjDvB;;;AAGG;IACI,IAAA,CAAAwF,CAAC,GAAoD,IAAI;AAChE;;;AAGG;IACI,IAAA,CAAAC,EAAE,GAGE,IAAI;AACf;;;AAGG;IACI,IAAA,CAAAC,CAAC,GAAoD,IAAI;AAChE;;;AAGG;IACI,IAAA,CAAAC,EAAE,GAGE,IAAI;AASf;;AAEG;AACK,IAAA,IAAA,CAAAC,KAAK,GAAe,EAAgB;IAuKrC,IAAA,CAAAC,cAAc,GAAepsB,IAAI;IAEjC,IAAA,CAAAqsB,cAAc,GAAersB,IAAI;AAzJtC,IAAA,IAAQssB,GAAG,GAAK7qB,QAAQ,CAAC6oB,OAAO,CAAxBgC,GAAG;AAEX,IAAA,IAAI,CAACC,CAAC,GAAGhmB,KAAK,GAAG+lB,GAAG;AACpB,IAAA,IAAI,CAACnJ,CAAC,GAAG3c,MAAM,GAAG8lB,GAAG;AACvB,EAAA;AAEA;;;;AAIG;EAJH,OAAAnrB,YAAA,CAAA0qB,OAAA,EAAA,CAAA;IAAAzqB,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAKQ,SAAAmrB,QAAQA,CAAC3jB,IAAe,EAAA;AAC9B,MAAA,IAAQsjB,KAAK,GAAK,IAAI,CAAdA,KAAK;AACb,MAAA,IAAQ1B,GAAG,GAAKhpB,QAAQ,CAAC6oB,OAAO,CAAxBG,GAAG;AAEX;MACA0B,KAAK,CAACtjB,IAAI,GAAGA,IAAI;AAEjB;MACA,IACEA,IAAI,KAAK,GAAG;AACZ;MACA4hB,GAAG,KAAK,IAAI,IACZgC,SAAS,CAACC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,EACvC;QACAR,KAAK,CAAC5nB,KAAK,GAAG,IAAI;AACpB,MAAA,CAAC,MAAM,IAAKsE,IAAI,KAAK,GAAG,IAAI4hB,GAAG,KAAK,IAAI,IAAKA,GAAG,KAAK,QAAQ,EAAE;QAC7D0B,KAAK,CAAC5nB,KAAK,GAAG,IAAI;AACpB,MAAA,CAAC,MAAM;QACL4nB,KAAK,CAAC5nB,KAAK,GAAG,IAAI;AACpB,MAAA;AACF,IAAA;AAEA;;;;;AAKG;AALH,GAAA,EAAA;IAAAnD,GAAA,EAAA,UAAA;IAAAC,KAAA,EAMa,SAAAurB,QAAQA,CACnBC,QAAgB,EAChBC,WAAoB,EACpBC,SAAe,EAAA;;;;;;;cAEPZ,KAAK,GAAW,IAAI,CAApBA,KAAK,EAAE5F,IAAI,GAAK,IAAI,CAAbA,IAAI;cACXyG,SAAS,GAAmBvrB,QAAQ,CAApCurB,SAAS,EAAEC,YAAY,GAAKxrB,QAAQ,CAAzBwrB,YAAY;AACvBxC,cAAAA,GAAG,GAAKhpB,QAAQ,CAAC6oB,OAAO,CAAxBG,GAAG,CAAA;AAEX;cAAA,IAAA,EAEElE,IAAI,KAAK,QAAQ,KAChBkE,GAAG,KAAK,IAAI,IAAI,iBAAiB,IAAIyC,UAAU,CAAC,CAAA,EAAA;AAAA3B,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAEzC2f,CAAC,GAAQ,IAAI,CAAbA,CAAC,EAAEpJ,CAAC,GAAK,IAAI,CAAVA,CAAC;cAAAgK,aAAA,GACgBF,YAAY,CAAC;AAAE1mB,gBAAAA,KAAK,EAAEgmB,CAAC;AAAE/lB,gBAAAA,MAAM,EAAE2c;AAAC,eAAE,CAAC,EAAzDiK,MAAM,GAAAD,aAAA,CAANC,MAAM,EAAExhB,OAAO,GAAAuhB,aAAA,CAAPvhB,OAAO;cAEvB,IAAI,CAACmgB,CAAC,GAAGqB,MAAM;cACf,IAAI,CAACpB,EAAE,GAAGpgB,OAAO;AACjB,cAAA,IAAI,CAAC4gB,QAAQ,CAAC,GAAG,CAAC;AAACjB,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;AAAA2e,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAES,cAAA,OAAMogB,SAAS,CAACH,QAAQ,EAAEE,SAAS,CAAC;AAAA,YAAA,KAAA,CAAA;cAAAM,gBAAA,GAAA9B,SAAA,CAAAvV,CAAA;cAAxDoX,OAAM,GAAAC,gBAAA,CAAND,MAAM;cAAExhB,QAAO,GAAAyhB,gBAAA,CAAPzhB,OAAO;cACfrF,KAAK,GAAa6mB,OAAM,CAAxB7mB,KAAK,EAAEC,MAAM,GAAK4mB,OAAM,CAAjB5mB,MAAM,CAAA;cAErB,IAAI,CAACulB,CAAC,GAAGqB,OAAM;cACf,IAAI,CAACpB,EAAE,GAAGpgB,QAAO;AACjB,cAAA,IAAI,CAAC4gB,QAAQ,CAAC,GAAG,CAAC;cAElB,IAAIjG,IAAI,KAAK,QAAQ,EAAE;AACrB6G,gBAAAA,OAAM,CAAC7mB,KAAK,GAAG,IAAI,CAACgmB,CAAC;AACrBa,gBAAAA,OAAM,CAAC5mB,MAAM,GAAG,IAAI,CAAC2c,CAAC;AACxB,cAAA,CAAC,MAAM;gBACL,IAAI,CAACoJ,CAAC,GAAGhmB,KAAK;gBACd,IAAI,CAAC4c,CAAC,GAAG3c,MAAM;AACjB,cAAA;AAAC,YAAA,KAAA,CAAA;AAEH;AAEA;AACA;AACA;AACA,cAAA,IAAI2lB,KAAK,CAAC5nB,KAAK,KAAK,IAAI,EAAE;gBACxB,IAAI,CAAC6nB,cAAc,GAAG,YAAK;AACzB,kBAAA,IAAQG,CAAC,GAAYpsB,KAAI,CAAjBosB,CAAC;oBAAEpJ,CAAC,GAAShjB,KAAI,CAAdgjB,CAAC;oBAAE6I,EAAE,GAAK7rB,KAAI,CAAX6rB,EAAE;kBAEhBA,EAAG,CAACsB,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEf,CAAC,EAAEpJ,CAAC,CAAC;gBAC3B,CAAC;AACH,cAAA,CAAC,MAAM;gBACL,IAAI,CAACiJ,cAAc,GAAG,YAAK;AACzB,kBAAA,IAAQG,CAAC,GAAWpsB,KAAI,CAAhBosB,CAAC;oBAAEpJ,CAAC,GAAQhjB,KAAI,CAAbgjB,CAAC;oBAAE4I,CAAC,GAAK5rB,KAAI,CAAV4rB,CAAC;kBAEfA,CAAE,CAACxlB,KAAK,GAAGgmB,CAAC;kBACZR,CAAE,CAACvlB,MAAM,GAAG2c,CAAC;gBACf,CAAC;AACH,cAAA;AACA;cAAA,IAAA,EAEIoD,IAAI,KAAK,QAAQ,CAAA,EAAA;AAAAgF,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AACnB,cAAA,IAAI,CAACqf,CAAC,GAAG,IAAI,CAACF,CAAC;AACf,cAAA,IAAI,CAACG,EAAE,GAAG,IAAI,CAACF,EAAE;AACjB,cAAA,IAAI,CAACK,cAAc,GAAG,IAAI,CAACkB,KAAK,GAAGvtB,IAAI;AAACurB,cAAAA,SAAA,CAAA3e,CAAA,GAAA,EAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;AAAA,cAAA,IAAA,EAMpC,OAAOkgB,WAAW,KAAK,QAAQ,IAAIA,WAAW,KAAK,EAAE,CAAA,EAAA;AAAAvB,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA2e,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAC3C,cAAA,OAAMogB,SAAS,CAACF,WAAW,EAAEC,SAAS,CAAC;AAAA,YAAA,KAAA,CAAA;cAAnDS,SAAS,GAAAjC,SAAA,CAAAvV,CAAA;AACTwX,cAAAA,SAAS,CAACJ,MAAM,CAAC7mB,KAAK,GAAG,IAAI,CAACgmB,CAAC;AAC/BiB,cAAAA,SAAS,CAACJ,MAAM,CAAC5mB,MAAM,GAAG,IAAI,CAAC2c,CAAC;AAChC,cAAA,IAAI,CAACqJ,QAAQ,CAAC,GAAG,CAAC;AAACjB,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;cAEnB4gB,SAAS,GAAGP,YAAY,CAAC;gBAAE1mB,KAAK,EAAE,IAAI,CAACgmB,CAAC;gBAAE/lB,MAAM,EAAE,IAAI,CAAC2c;AAAC,eAAE,CAAC;AAC3D,cAAA,IAAI,CAACqJ,QAAQ,CAAC,GAAG,CAAC;AAAC,YAAA,KAAA,CAAA;AAGrB,cAAA,IAAI,CAACP,CAAC,GAAGuB,SAAS,CAACJ,MAAM;AACzB,cAAA,IAAI,CAAClB,EAAE,GAAGsB,SAAS,CAAC5hB,OAAO;AAC3B;AAEA;AACA;cAAAsf,EAAA,GACQiB,KAAK,CAAC5nB,KAAK;cAAAgnB,SAAA,CAAA3e,CAAA,GAAAse,EAAA,KACZ,IAAI,GAAA,CAAA,GAAAA,EAAA,KAUJ,IAAI,GAAA,CAAA,GAAA,EAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;cATP,IAAI,CAACmB,cAAc,GAAG,YAAK;AACzB,gBAAA,IAAQE,CAAC,GAAQpsB,KAAI,CAAbosB,CAAC;kBAAEpJ,CAAC,GAAKhjB,KAAI,CAAVgjB,CAAC;AACZ;gBACA,IAAAsK,cAAA,GAA4BR,YAAY,CAAC;AAAE1mB,oBAAAA,KAAK,EAAEgmB,CAAC;AAAE/lB,oBAAAA,MAAM,EAAE2c;AAAC,mBAAE,CAAC;kBAAzDiK,MAAM,GAAAK,cAAA,CAANL,MAAM;kBAAExhB,OAAO,GAAA6hB,cAAA,CAAP7hB,OAAO;gBAEvBzL,KAAI,CAAC8rB,CAAC,GAAGmB,MAAM;gBACfjtB,KAAI,CAAC+rB,EAAE,GAAGtgB,OAAO;cACnB,CAAC;cAAC,OAAA2f,SAAA,CAAAtkB,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAAA,YAAA,KAAA,CAAA;cAGF,IAAI,CAAColB,cAAc,GAAG,YAAK;AACzB,gBAAA,IAAQE,CAAC,GAAYpsB,KAAI,CAAjBosB,CAAC;kBAAEpJ,CAAC,GAAShjB,KAAI,CAAdgjB,CAAC;kBAAE+I,EAAE,GAAK/rB,KAAI,CAAX+rB,EAAE;AAChB;gBACAA,EAAG,CAACoB,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEf,CAAC,EAAEpJ,CAAC,CAAC;cAC3B,CAAC;cAAC,OAAAoI,SAAA,CAAAtkB,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAAA,YAAA,KAAA,EAAA;cAGF,IAAI,CAAColB,cAAc,GAAG,YAAK;AACzB,gBAAA,IAAQE,CAAC,GAAWpsB,KAAI,CAAhBosB,CAAC;kBAAEpJ,CAAC,GAAQhjB,KAAI,CAAbgjB,CAAC;kBAAE8I,CAAC,GAAK9rB,KAAI,CAAV8rB,CAAC;gBAEfA,CAAE,CAAC1lB,KAAK,GAAGgmB,CAAC;gBACZN,CAAE,CAACzlB,MAAM,GAAG2c,CAAC;cACf,CAAC;AAAC,YAAA,KAAA,EAAA;cAAA,OAAAoI,SAAA,CAAAtkB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAokB,OAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CAIT,CAAA,CAAA;AAAA,IAAA;AAAA,GAAA,EAAA;IAAAjqB,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAMM,SAAAksB,KAAKA,GAAA;AACV,MAAA,IAAQhB,CAAC,GAAqB,IAAI,CAA1BA,CAAC;QAAEpJ,CAAC,GAAkB,IAAI,CAAvBA,CAAC;QAAC6I,EAAE,GAAe,IAAI,CAArBA,EAAE;QAAEE,EAAE,GAAW,IAAI,CAAjBA,EAAE;QAAE3F,IAAI,GAAK,IAAI,CAAbA,IAAI;MAEzB,IAAIA,IAAI,KAAK,QAAQ,EAAE;AACrByF,QAAAA,EAAG,CAAC5b,SAAS,CAAC8b,EAAG,CAACkB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAEb,CAAC,EAAEpJ,CAAC,CAAC;AACvC,MAAA;AACF,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAA/hB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAwQ,OAAOA,GAAA;MACZ,IAAI,CAACua,cAAc,EAAE;MACrB,IAAI,CAACC,cAAc,EAAE;AACrB,MAAA,IAAI,CAACN,CAAC,GAAG,IAAI,CAACC,EAAE,GAAG,IAAI,CAACC,CAAC,GAAG,IAAI,CAACC,EAAE,GAAG,IAAI;MAC1C,IAAI,CAACE,cAAc,GAAG,IAAI,CAACC,cAAc,GAAG,IAAI,CAACkB,KAAK,GAAGvtB,IAAI;AAC/D,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,GC/NH,IAAa0tB,MAAM,gBAAA,YAAA;AAAnB,EAAA,SAAAA,SAAA;AAAAttB,IAAAA,eAAA,OAAAstB,MAAA,CAAA;AACE;;AAEG;AACI,IAAA,IAAA,CAAAC,QAAQ,GAAA,WAAA;AACf;;AAEG;AACI,IAAA,IAAA,CAAAC,QAAQ,GAAA,UAAA;AACf;;AAEG;AACI,IAAA,IAAA,CAAAtd,WAAW,GAAA,MAAA;AAClB;;AAEG;IACI,IAAA,CAAAud,UAAU,GAAG,CAAC;AACrB;;AAEG;IACI,IAAA,CAAAC,QAAQ,GAAG,CAAC;AACnB;;AAEG;IACI,IAAA,CAAAC,cAAc,GAAG,CAAC;AACzB;;AAEG;IACI,IAAA,CAAAna,IAAI,GAAG,CAAC;AAmHjB,EAAA;EAAC,OAAAzS,YAAA,CAAAusB,MAAA,EAAA,CAAA;IAAAtsB,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAjHQ,SAAAurB,QAAQA,CAACoB,MAA6B,EAAA;AAC3C,MAAA,IAAI,OAAOA,MAAM,CAACpa,IAAI,KAAK,QAAQ,IAAIoa,MAAM,CAACpa,IAAI,IAAI,CAAC,EAAE;AACvD,QAAA,IAAI,CAACA,IAAI,GAAGoa,MAAM,CAACpa,IAAI;AACzB,MAAA;MAEA,IACEoa,MAAM,CAACL,QAAQ,IACf,8HAIC,CAAChB,QAAQ,CAACqB,MAAM,CAACL,QAAQ,CAAC,EAC3B;AACA,QAAA,IAAI,CAACA,QAAQ,GAAGK,MAAM,CAACL,QAAQ;AACjC,MAAA;AAEA,MAAA,IACEK,MAAM,CAACJ,QAAQ,IACf,CAAA,UAAA,kCAAA,WAAA,kCAAuD,CAACjB,QAAQ,CAC9DqB,MAAM,CAACJ,QAAQ,CAChB,EACD;AACA,QAAA,IAAI,CAACA,QAAQ,GAAGI,MAAM,CAACJ,QAAQ;AACjC,MAAA;AAEA,MAAA,IAAI,OAAOI,MAAM,CAACH,UAAU,KAAK,QAAQ,IAAIG,MAAM,CAACH,UAAU,IAAI,CAAC,EAAE;AACnE,QAAA,IAAI,CAACA,UAAU,GAAGG,MAAM,CAACH,UAAU;AACrC,MAAA;AAEA,MAAA,IAAI,OAAOG,MAAM,CAACF,QAAQ,KAAK,QAAQ,IAAIE,MAAM,CAACF,QAAQ,IAAI,CAAC,EAAE;AAC/D,QAAA,IAAI,CAACA,QAAQ,GAAGE,MAAM,CAACF,QAAQ;AACjC,MAAA;AAEA,MAAA,IACE,OAAOE,MAAM,CAACD,cAAc,KAAK,QAAQ,IACzCC,MAAM,CAACD,cAAc,IAAI,CAAC,EAC1B;AACA,QAAA,IAAI,CAACA,cAAc,GAAGC,MAAM,CAACD,cAAc;AAC7C,MAAA;AAEA,MAAA,IAAI,OAAOC,MAAM,CAAC1d,WAAW,KAAK,QAAQ,EAAE;AAC1C,QAAA,IAAI,CAACA,WAAW,GAAG0d,MAAM,CAAC1d,WAAW;AACvC,MAAA;AACF,IAAA;AAAC,GAAA,EAAA;IAAAlP,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAEM,SAAA4sB,OAAOA,CAA+B7sB,GAAM,EAAEC,KAAsB,EAAA;MACzE,IAAI,CAACurB,QAAQ,CAAAsB,eAAA,KAAI9sB,GAAG,EAAGC,KAAK,CAAE,CAAC;AACjC,IAAA;AAAC,GAAA,EAAA;IAAAD,GAAA,EAAA,WAAA;AAAAC,IAAAA,KAAA,EAEM,SAAA8sB,SAASA,CAACC,MAA2B,EAAA;AAC1C,MAAA,IAAQR,QAAQ,GACd,IAAI,CADEA,QAAQ;QAAEG,cAAc,GAC9B,IAAI,CADYA,cAAc;QAAEF,UAAU,GAC1C,IAAI,CAD4BA,UAAU;QAAEC,QAAQ,GACpD,IAAI,CADwCA,QAAQ;QAAEH,QAAQ,GAC9D,IAAI,CADkDA,QAAQ;QAAE/Z,IAAI,GACpE,IAAI,CAD4DA,IAAI;AAEtE,MAAA,IAAQ3J,GAAG,GAAcmkB,MAAM,CAAvBnkB,GAAG;QAAEK,OAAO,GAAK8jB,MAAM,CAAlB9jB,OAAO;AACpB,MAAA,IAAMX,MAAM,GAAKykB,MAAM,CAAjBzkB,MAAM;AACZ,MAAA,IAAM0kB,WAAW,GAAG/jB,OAAO,CAAChI,MAAM;MAClC,IAAMS,KAAK,GAAG8qB,UAAU,GAAG,CAAC,GAAGA,UAAU,GAAG,CAAC;AAC7C,MAAA,IAAM7qB,GAAG,GAAG8qB,QAAQ,GAAG,CAAC,IAAIA,QAAQ,GAAGnkB,MAAM,GAAGmkB,QAAQ,GAAGnkB,MAAM;AACjE;AACA,MAAA,IAAM2kB,aAAa,GAAG,IAAI,GAAGrkB,GAAG;MAEhC,IAAIlH,KAAK,GAAGC,GAAG,EAAE;AACf,QAAA,MAAM,IAAIiD,KAAK,CAAC,yCAAyC,CAAC;AAC5D,MAAA;AAEA;MACA,IAAIjD,GAAG,GAAG2G,MAAM,EAAE;QAChBA,MAAM,GAAG3G,GAAG,GAAGD,KAAK;AACtB,MAAA,CAAC,MAAM,IAAIA,KAAK,GAAG,CAAC,EAAE;AACpB4G,QAAAA,MAAM,IAAI5G,KAAK;AACjB,MAAA;MAEA,IAAMoQ,QAAQ,GAAGpP,IAAI,CAACI,KAAK,CAACwF,MAAM,GAAG2kB,aAAa,GAAGvqB,IAAA,CAAAujB,GAAA,CAAA,EAAE,EAAI,CAAC,CAAA,CAAC,GAAGvjB,SAAA,EAAE,EAAI,CAAC,CAAA;MACvE,IAAIwqB,SAAS,GAAG,CAAC;MACjB,IAAIC,QAAQ,GAAG,CAAC;AAChB,MAAA,IAAIpb,SAAiB;AAErB;AACA,MAAA,IAAIwa,QAAQ,KAAA,UAAA,kCAAgC;AAC1C;QACAW,SAAS,GAAGxqB,IAAI,CAACG,GAAG,CAAC6pB,cAAc,EAAEF,UAAU,CAAC;AAChD,QAAA,IAAIF,QAAQ,KAAA,UAAA,kCAAgC;AAC1Ca,UAAAA,QAAQ,GAAG,CAAC;AACd,QAAA;AACApb,QAAAA,SAAS,GACP2a,cAAc,GAAGhrB,KAAK,GAAG,CAACgrB,cAAc,GAAGhrB,KAAK,IAAIurB,aAAa,GAAG,CAAC;AACzE,MAAA,CAAC,MAAM;AACL;QACAC,SAAS,GAAGxqB,IAAI,CAACC,GAAG,CAAC+pB,cAAc,EAAE/qB,GAAG,GAAG,CAAC,CAAC;AAC7C,QAAA,IAAI2qB,QAAQ,KAAA,WAAA,mCAAiC;AAC3Ca,UAAAA,QAAQ,GAAG,CAAC;AACd,QAAA;AACApb,QAAAA,SAAS,GACP2a,cAAc,GAAG/qB,GAAG,GAAG,CAACA,GAAG,GAAG+qB,cAAc,IAAIO,aAAa,GAAG,CAAC;AACrE,MAAA;MAEA,OAAO;AACLC,QAAAA,SAAS,EAATA,SAAS;AACTV,QAAAA,UAAU,EAAE9qB,KAAK;AACjB+qB,QAAAA,QAAQ,EAAE9qB,GAAG;AACbyrB,QAAAA,UAAU,EAAE9kB,MAAM;AAClB0kB,QAAAA,WAAW,EAAXA,WAAW;AACXK,QAAAA,SAAS,EAAE;AACT;AACAvb,UAAAA,QAAQ,EAARA,QAAQ;AACR;AACAC,UAAAA,SAAS,EAATA,SAAS;AACT;AACAQ,UAAAA,IAAI,EAAEA,IAAI,KAAK,CAAC,GAAG+a,QAAQ,GAAG/a,IAAI;AAClC;UACAC,SAAS,EAAE2a,QAAQ,GAAGF;AACvB;OACF;AACH,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,EAAA,CCpHH,SAASM,YAAYA,CAACC,OAA0B,EAAA;;AAC9C,EAAA,IAAMxK,UAAU,GAAG,CAAAtV,EAAA,GAAA8f,OAAO,CAACxK,UAAU,MAAA,IAAA,IAAAtV,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAI,CAAC;AAC1C,EAAA,IAAM+f,YAAY,GAAG,CAAA9f,EAAA,GAAA6f,OAAO,CAACC,YAAY,MAAA,IAAA,IAAA9f,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAI,GAAG;AAChD,EAAA,IAAM+f,SAAS,GAAG,CAAA9f,EAAA,GAAA4f,OAAO,CAACE,SAAS,MAAA,IAAA,IAAA9f,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAI,SAAS;AAChD,EAAA,IAAM+f,eAAe,GAAG,CAAA9f,EAAA,GAAA2f,OAAO,CAACG,eAAe,MAAA,IAAA,IAAA9f,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAI,SAAS;EAE5D,OAAO;IACLgI,IAAI,EAAE2X,OAAO,CAAC3X,IAAI;IAClBxT,IAAI,EAAEmrB,OAAO,CAACnrB,IAAI;AAClB2gB,IAAAA,UAAU,EAAVA,UAAU;AACVyK,IAAAA,YAAY,EAAZA,YAAY;AACZC,IAAAA,SAAS,EAATA,SAAS;AACTC,IAAAA,eAAe,EAAfA;GACD;AACH;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIvI,WAAmB,EAAEhjB,IAAY,EAAI;AACnE,EAAA,IAAMwrB,QAAQ,GAAG,CAAC,EAAExrB,IAAI,GAAGgjB,WAAW,CAAC;EAEvC,OAAO;IACLyI,OAAO,EAAE,CAAC,EAAE,CAACzrB,IAAI,GAAGgjB,WAAW,GAAGwI,QAAQ,IAAI,CAAC,CAAC;IAChDA,QAAQ,EAAEA,QAAQ,IAAI;GACvB;AACH,CAAC;AAEK,SAAUE,2BAA2BA,CAACP,OAA0B,EAAA;AACpE,EAAA,IAAAQ,aAAA,GACET,YAAY,CAACC,OAAO,CAAC;IADf3X,IAAI,GAAAmY,aAAA,CAAJnY,IAAI;IAAEmN,UAAU,GAAAgL,aAAA,CAAVhL,UAAU;IAAEyK,YAAY,GAAAO,aAAA,CAAZP,YAAY;IAAEprB,IAAI,GAAA2rB,aAAA,CAAJ3rB,IAAI;IAAEqrB,SAAS,GAAAM,aAAA,CAATN,SAAS;IAAEC,eAAe,GAAAK,aAAA,CAAfL,eAAe;AAExE,EAAA,IAAIvI,EAAU;EAEd,IAAI;AACFA,IAAAA,EAAE,GAAG,IAAIgB,MAAM,CAACpD,UAAU,EAAEyK,YAAY,CAAC;AACzCrI,IAAAA,EAAE,CAACqD,OAAO,CAAC5S,IAAI,CAAC;IAChBuP,EAAE,CAACsD,IAAI,EAAE;EACX,CAAC,CAAC,OAAOxc,CAAC,EAAE;IACV,IAAI8W,UAAU,IAAI,EAAE,EAAE;AACpB,MAAA,MAAM,IAAIpe,KAAK,CAAC,yBAAyB,CAAC;AAC5C,IAAA;IAEA,OAAO6lB,SAAS,CAACwD,MAAM,CAAC;AACtBpY,MAAAA,IAAI,EAAJA,IAAI;AACJxT,MAAAA,IAAI,EAAJA,IAAI;AACJorB,MAAAA,YAAY,EAAZA,YAAY;MACZzK,UAAU,EAAEA,UAAU,GAAG,CAAC;AAC1B0K,MAAAA,SAAS,EAATA,SAAS;AACTC,MAAAA,eAAe,EAAfA;AACD,KAAA,CAAC;AACJ,EAAA;AAEA;AACA,EAAA,IAAMtI,WAAW,GAAGD,EAAE,CAACE,cAAc,EAAE;AACvC,EAAA,IAAA4I,qBAAA,GAA8BN,sBAAsB,CAACvI,WAAW,EAAEhjB,IAAI,CAAC;IAA/DyrB,OAAO,GAAAI,qBAAA,CAAPJ,OAAO;IAAED,QAAQ,GAAAK,qBAAA,CAARL,QAAQ;AACzB,EAAA,IAAMhrB,GAAG,GAAGwiB,WAAW,GAAGwI,QAAQ,GAAGC,OAAO;AAC5C,EAAA,IAAMK,UAAU,GAAG,CAAA,EAAA,CAAAxnB,MAAA,CAAI+mB,SAAS,CAACU,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,EAAA,IAAA,CAAI;AACvD,EAAA,IAAMC,gBAAgB,GAAG,CAAA,EAAA,CAAA1nB,MAAA,CAAIgnB,eAAe,CAACS,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,EAAA,IAAA,CAAI;EACnE,IAAME,GAAG,GAAG,IAAInP,UAAU,CAAC9c,IAAI,EAAEA,IAAI,CAAC;EAEtC,KAAK,IAAI4C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5C,IAAI,EAAE4C,CAAC,EAAE,EAAE;IAC7B,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG3C,IAAI,EAAE2C,CAAC,EAAE,EAAE;AAC7B,MAAA,IAAI8oB,OAAO,IAAI9oB,CAAC,IAAIA,CAAC,GAAGnC,GAAG,IAAIirB,OAAO,IAAI7oB,CAAC,IAAIA,CAAC,GAAGpC,GAAG,EAAE;QACtD,IAAMiD,CAAC,GAAG,CAAC,EAAE,CAACd,CAAC,GAAG8oB,OAAO,IAAID,QAAQ,CAAC;QACtC,IAAMpnB,CAAC,GAAG,CAAC,EAAE,CAACxB,CAAC,GAAG6oB,OAAO,IAAID,QAAQ,CAAC;AAEtCS,QAAAA,GAAG,CAACnO,QAAQ,CAACnb,CAAC,EAAEC,CAAC,EAAEmgB,EAAE,CAACO,MAAM,CAAClf,CAAC,EAAEX,CAAC,CAAC,GAAGqoB,UAAU,GAAGE,gBAAgB,CAAC;AACrE,MAAA,CAAC,MAAM;QACLC,GAAG,CAACnO,QAAQ,CAACnb,CAAC,EAAEC,CAAC,EAAEopB,gBAAgB,CAAC;AACtC,MAAA;AACF,IAAA;AACF,EAAA;AAEA,EAAA,OAAOC,GAAG,CAAC/N,KAAK,EAAE;AACpB;AAEM,SAAUgO,qBAAqBA,CAACf,OAA0B,EAAA;AAC9D,EAAA,IAAM/rB,IAAI,GAAGssB,2BAA2B,CAACP,OAAO,CAAC;AAEjD,EAAA,OAAOptB,QAAQ,CAACqE,MAAM,CAAC+pB,SAAS,CAAC/sB,IAAI,CAAC;AACxC,CC5GM,SAAUgtB,uBAAuBA,CAACC,SAAoB,EAAA;AAC1D,EAAA,IAAQxpB,KAAK,GAAmBwpB,SAAS,CAAjCxpB,KAAK;IAAEC,MAAM,GAAWupB,SAAS,CAA1BvpB,MAAM;IAAEuE,IAAI,GAAKglB,SAAS,CAAlBhlB,IAAI;AAE3B,EAAA,OAAO,IAAIyV,UAAU,CAACja,KAAK,EAAEC,MAAM,CAAC,CAACkb,KAAK,CAAC3W,IAAI,CAAC,CAAC6W,KAAK,EAAE;AAC1D;AAEA;;AAEG;AACI,IAAMoO,sBAAsB,GAAGF;AAEhC,SAAUG,kBAAkBA,CAACF,SAAoB,EAAA;AACrD,EAAA,IAAMjtB,IAAI,GAAGgtB,uBAAuB,CAACC,SAAS,CAAC;AAE/C,EAAA,OAAOtuB,QAAQ,CAACqE,MAAM,CAAC+pB,SAAS,CAAC/sB,IAAI,CAAC;AACxC;AAEA;;AAEG;AACI,IAAMotB,uBAAuB,GAAGD,mBCvBvC;;;;AAIG;AACG,SAAUE,gBAAgBA,CAACplB,IAAgB,EAAA;AAC/C;AACA,EAAA,IAAIA,IAAI,CAACzI,MAAM,GAAG,CAAC,EAAE;AACnB,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;AACA,EAAA,IAAM8tB,GAAG,GAAGrlB,IAAI,CAAC,CAAC,CAAC;AACnB,EAAA,IAAMslB,GAAG,GAAGtlB,IAAI,CAAC,CAAC,CAAC;AAEnB;AACA;AACA,EAAA,IAAI,CAACqlB,GAAG,GAAG,IAAI,MAAM,CAAC,EAAE;AACtB,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;AACA;AAEA;EACA,IAAK,CAACA,GAAG,GAAG,GAAG,GAAGC,GAAG,IAAI,EAAE,KAAM,CAAC,EAAE;AAClC,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;AACA;AACA,EAAA,IAAMC,KAAK,GAAG,CAACD,GAAG,GAAG,IAAI,MAAM,CAAC;AAChC,EAAA,IAAIC,KAAK,EAAE;AACT;AACA;AACA,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;AACA;EACA,IAAMC,YAAY,GAAGxlB,IAAI,CAAC6O,KAAK,CAAC,EAAE,CAAC;AAEnC,EAAA,IAAI2W,YAAY,CAACjuB,MAAM,KAAK,CAAC,EAAE;AAC7B,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;EACA,IAAMkuB,OAAO,GAAID,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,GAAKA,YAAY,CAAC,CAAC,CAAC,IAAI,EAAG,GAAIA,YAAY,CAAC,CAAC,CAAC,IAAI,CAAE,GAAGA,YAAY,CAAC,CAAC,CAAC;AAE5G;EACA,IAAIxlB,IAAI,CAACzI,MAAM,GAAG,CAAC,IAAIkuB,OAAO,KAAK,CAAC,EAAE;AACpC,IAAA,OAAO,KAAK;AACd,EAAA;AAEA;AACA,EAAA,OAAO,IAAI;AACb,CCxBA,IAAaC,YAAY,gBAAA,YAAA;AAkEvB,EAAA,SAAAA,YAAAA,CAAYC,QAAkB,EAAE7B,OAAsC,EAAA;AAAAzuB,IAAAA,eAAA,OAAAqwB,YAAA,CAAA;AAjEtE;;AAEG;IACK,IAAA,CAAA/kB,KAAK,GAAW,CAAC;AACzB;;AAEG;IACK,IAAA,CAAAilB,SAAS,GAAW,CAAC;AAC7B;;AAEG;IACK,IAAA,CAAAC,WAAW,GAAW,CAAC;AAC/B;;AAEG;IACK,IAAA,CAAAC,SAAS,GAAW,CAAC;AAC7B;;;;AAIG;IACK,IAAA,CAAAH,QAAQ,GAAa,MAAM;AACnC;;AAEG;IACK,IAAA,CAAAI,OAAO,GAAa,EAAE;IAEb,IAAA,CAAAjC,OAAO,GAAwB;AAC9C;;;;AAIG;AACHkC,MAAAA,UAAU,EAAE,SAAZA,UAAUA,CAAGC,MAAc,EAAA;AAAA,QAAA,OAAKhH,MAAM,CAACK,QAAQ,CAAC2G,MAAM,CAACC,MAAM,CAAC;AAAA,MAAA,CAAA;AAC9D;;;;;AAKG;AACHC,MAAAA,WAAW,EAAE,SAAbA,WAAWA,CAAGF,MAAc,EAAEjmB,IAAqB,EAAA;QAAA,OACjDif,MAAM,CAACE,UAAU,CAACnf,IAAI,EAAEimB,MAAM,CAACC,MAAM,EAAE,IAAI,CAAC;AAAA,MAAA,CAAA;AAC9C;;;;AAIG;AACHE,MAAAA,OAAO,EAAE,SAATA,OAAOA,CAAGL,OAAiB,EAAI;AAC7B,QAAiCrvB,QAAQ,CAAjC6oB,OAAO;cAAEE,KAAK,GAAW/oB,QAAQ,CAAxB+oB,KAAK;UAAErhB,IAAI,GAAK1H,QAAQ,CAAjB0H;AAExB2nB,QAAAA,OAAO,CAACM,OAAO,CAAC,UAACJ,MAAc,EAAI;UACjC,IAAI7nB,IAAI,CAACyhB,EAAE,CAACoG,MAAM,CAACxG,KAAK,CAAC,EAAE;AACzBA,YAAAA,KAAM,CAAC6G,MAAM,CAACL,MAAM,CAACxG,KAAK,CAAC;AAC7B,UAAA;AACF,QAAA,CAAC,CAAC;AACJ,MAAA;KACD;AAUC,IAAA,IAAI,OAAOkG,QAAQ,KAAK,QAAQ,EAAE;MAChC,IAAI,CAACA,QAAQ,GAAGA,QAAQ;AAC1B,IAAA;IAEAY,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC1C,OAAO,EAAEA,OAAO,CAAC;AACtC,EAAA;AAEA;;AAEG;EAFH,OAAA1tB,YAAA,CAAAsvB,YAAA,EAAA,CAAA;IAAArvB,GAAA,EAAA,MAAA;IAAAqC,GAAA;AAfA;;AAEG;AACH,IAAA,SAAAA,MAAQ;AACN,MAAA,OAAO,IAAI,CAACqtB,OAAO,CAACxuB,MAAM;AAC5B,IAAA;AAAC,GAAA,EAAA;IAAAlB,GAAA,EAAA,mBAAA;IAAAC,KAAA,EAaO,SAAAmwB,iBAAiBA,CACvB9lB,KAAa,EACbilB,SAAiB,EACjBjM,UAAkB,EAAA;MAElB,IAAIhZ,KAAK,GAAG,CAAC,EAAE;QACb,IAAI,CAACA,KAAK,GAAG,CAAC;AAChB,MAAA,CAAC,MAAM,IAAIA,KAAK,IAAIgZ,UAAU,EAAE;AAC9B,QAAA,IAAI,CAAChZ,KAAK,GAAGgZ,UAAU,GAAG,CAAC;AAC7B,MAAA,CAAC,MAAM;QACL,IAAI,CAAChZ,KAAK,GAAGA,KAAK;AACpB,MAAA;AAEA,MAAA,IAAI,IAAI,CAACglB,QAAQ,KAAK,OAAO,EAAE;QAC7B,IAAI,CAACE,WAAW,GAAG,CAAC;QACpB,IAAI,CAACC,SAAS,GAAGnM,UAAU;AAC7B,MAAA,CAAC,MAAM;QACL,IAAIiM,SAAS,GAAG,CAAC,EAAE;UACjB,IAAI,CAACA,SAAS,GAAG,CAAC;AACpB,QAAA,CAAC,MAAM,IAAIA,SAAS,GAAGjM,UAAU,EAAE;UACjC,IAAI,CAACiM,SAAS,GAAGjM,UAAU;AAC7B,QAAA,CAAC,MAAM;UACL,IAAI,CAACiM,SAAS,GAAGA,SAAS;AAC5B,QAAA;AAEA,QAAA,IAAI,CAACC,WAAW,GAAG,IAAI,CAACllB,KAAK,GAAG3H,IAAI,CAACI,KAAK,CAAC,IAAI,CAACwsB,SAAS,GAAG,CAAC,CAAC;AAC9D,QAAA,IAAI,IAAI,CAACC,WAAW,GAAG,CAAC,EAAE;AACxB,UAAA,IAAI,CAACA,WAAW,GAAGlM,UAAU,GAAG,IAAI,CAACkM,WAAW;AAClD,QAAA;QAEA,IAAI,CAACC,SAAS,GAAG,IAAI,CAACD,WAAW,GAAG,IAAI,CAACD,SAAS;AAClD,QAAA,IAAI,IAAI,CAACE,SAAS,GAAGnM,UAAU,EAAE;AAC/B,UAAA,IAAI,CAACmM,SAAS,GAAG,IAAI,CAACA,SAAS,GAAGnM,UAAU;AAC9C,QAAA;AACF,MAAA;AACF,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAAtjB,GAAA,EAAA,oBAAA;AAAAC,IAAAA,KAAA,EAKQ,SAAAowB,kBAAkBA,CAAC/lB,KAAa,EAAA;AACtC,MAAA,IAAI,IAAI,CAACklB,WAAW,GAAG,IAAI,CAACC,SAAS,EAAE;QACrC,OAAOnlB,KAAK,IAAI,IAAI,CAACklB,WAAW,IAAIllB,KAAK,GAAG,IAAI,CAACmlB,SAAS;AAC5D,MAAA;AAEA,MAAA,IAAI,IAAI,CAACD,WAAW,GAAG,IAAI,CAACC,SAAS,EAAE;QACrC,OAAOnlB,KAAK,IAAI,IAAI,CAACklB,WAAW,IAAIllB,KAAK,GAAG,IAAI,CAACmlB,SAAS;AAC5D,MAAA;AAEA,MAAA,OAAO,IAAI;AACb,IAAA;AAAC,GAAA,EAAA;IAAAzvB,GAAA,EAAA,uBAAA;AAAAC,IAAAA,KAAA,EAUa,SAAAqwB,qBAAqBA,CAAAC,QAAA,EAAA;0DACjCX,MAAc,EAAA;AAAA,QAAA,IAAA7wB,KAAA,GAAA,IAAA;AAAA,QAAA,IACdyxB,gFAAqB,KAAK;AAAA,QAAA,oBAAAC,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAoV,OAAAA,GAAA;UAAA,IAAAwD,OAAA,EAAA9jB,IAAA;AAAA,UAAA,OAAA8mB,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAA4c,QAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAle,CAAA;AAAA,cAAA,KAAA,CAAA;gBAElBiiB,OAAO,GAAK1uB,KAAI,CAAhB0uB,OAAO;AAAA/D,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AACF,gBAAA,OAAMiiB,OAAO,CAACkC,UAAU,CAACC,MAAM,CAAC;AAAA,cAAA,KAAA,CAAA;gBAAvCjmB,IAAI,GAAA+f,QAAA,CAAA9U,CAAA;AAAA,gBAAA,IAAA,CAEN4b,SAAS,EAAA;AAAA9G,kBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,kBAAA;AAAA,gBAAA;gBAAA,OAAAke,QAAA,CAAA7jB,CAAA,CAAA,CAAA,EACJ4nB,OAAO,CAACqC,WAAW,CAACF,MAAM,EAAEjmB,IAAI,CAAC,CAAA;AAAA,cAAA,KAAA,CAAA;AAAA,gBAAA,OAAA+f,QAAA,CAAA7jB,CAAA,CAAA,CAAA,EAGnC8D,IAAI,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAsgB,OAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CACZ,CAAA;AAAA,IAAA;AAED;;;;;;AAMG;AANH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,cAAA;IAAAC,KAAA,EAOc,SAAAywB,YAAYA,CACxB3H,GAAW,EACXze,KAAa,EACbqmB,oBAA6B,EAAA;;;;;;cAErB5oB,IAAI,GAAK1H,QAAQ,CAAjB0H,IAAI;AACN6nB,cAAAA,MAAM,GAAW;AACrBC,gBAAAA,MAAM,EAAE9G,GAAG;gBACXK,KAAK,EAAErhB,IAAI,CAAC0hB,OAAO,CAAC1hB,IAAI,CAACwB,QAAQ,CAACwf,GAAG,CAAC,CAAC;AACvCiE,gBAAAA,MAAM,EAAE,IAAI;AACZ4D,gBAAAA,OAAO,EAAE;eACV;AAED,cAAA,IAAI,CAAClB,OAAO,CAACplB,KAAK,CAAC,GAAGslB,MAAM;AAAC,cAAA,IAAA,CACzBe,oBAAoB,EAAA;AAAAxG,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA2e,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AACN,cAAA,OAAM,IAAI,CAAC8kB,qBAAqB,CAACV,MAAM,EAAE,IAAI,CAAC;AAAA,YAAA,KAAA,CAAA;AAA9DA,cAAAA,MAAM,CAAC5C,MAAM,GAAA7C,SAAA,CAAAvV,CAAA;AAAAuV,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;AACR,cAAA,IAAI,IAAI,CAAC6kB,kBAAkB,CAAC/lB,KAAK,CAAC,EAAE;gBACzCslB,MAAM,CAACgB,OAAO,GAAG,IAAI,CAACN,qBAAqB,CAACV,MAAM,CAAC;AACrD,cAAA;AAAC,YAAA,KAAA,CAAA;AAAA,cAAA,OAAAzF,SAAA,CAAAtkB,CAAA,CAAA,CAAA,EAEM+pB,MAAM,CAAA;AAAA;AAAA,QAAA,CAAA,EAAApF,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CACd,CAAA,CAAA;AAAA,IAAA;AAED;;;;;AAKG;AALH,GAAA,EAAA;IAAAxqB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAMM,SAAA4wB,OAAOA,CAAAC,MAAA,EAAA;MACX,OAAAC,SAAA,CAAA,IAAA,EAAArG,SAAA,EAAA,MAAA,EAAA,UAAAsG,IAAc,EAAA;AAAA,QAAA,IAAAC,MAAA,GAAA,IAAA;AAAA,QAAA,IACd3mB,KAAA,GAAAogB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAgB,CAAC;AAAA,QAAA,IACjB6E,gFAAoB,CAAC;AAAA,QAAA,oBAAAkB,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAqc,QAAAA,GAAA;AAAA,UAAA,IAAA5B,QAAA,EAAA1kB,YAAA,EAAAumB,aAAA;AAAA,UAAA,OAAAV,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAAskB,SAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAA5lB,CAAA;AAAA,cAAA,KAAA,CAAA;gBAErBylB,MAAI,CAACb,iBAAiB,CAAC9lB,KAAK,EAAEilB,SAAS,EAAEyB,IAAI,CAAC9vB,MAAM,CAAC;gBAE7CouB,QAAQ,GAA0B2B,MAAI,CAAtC3B,QAAQ,EAAS1kB,YAAY,GAAKqmB,MAAI,CAA5B3mB,KAAK,CAAA;AACvB8mB,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAC8B,gBAAA,OAAMylB,MAAI,CAACP,YAAY,CACnDM,IAAI,CAACpmB,YAAY,CAAC,EAClBA,YAAY,EACZ,IAAI,CACL;AAAA,cAAA,KAAA,CAAA;gBAJKumB,aAAa,GAAAC,SAAA,CAAAxc,CAAA;AAAAwc,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAMnB,gBAAA,OAAM6lB,OAAO,CAACC,GAAG,CACfN,IAAI,CAACrwB,GAAG,CAAC,UAACooB,GAAW,EAAEN,KAAa,EAAI;AACtC;kBACA,IAAIA,KAAK,KAAK7d,YAAY,EAAE;AAC1B,oBAAA,OAAOumB,aAAa;AACtB,kBAAA;kBAEA,OAAOF,MAAI,CAACP,YAAY,CAAC3H,GAAG,EAAEN,KAAK,EAAE6G,QAAQ,KAAK,OAAO,CAAC;AAC5D,gBAAA,CAAC,CAAC,CACH;AAAA,cAAA,KAAA,CAAA;gBAAA,OAAA8B,SAAA,CAAAvrB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAqrB,QAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CACF,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAAlxB,GAAA,EAAA,KAAA;AAAAC,IAAAA,KAAA,EAIM,SAAAoC,GAAGA,GAAA;;;;;;;cACDutB,MAAM,GAAG,IAAI,CAACF,OAAO,CAAC,IAAI,CAACplB,KAAK,CAAC;cAAA,IAAA,CAEnCslB,MAAM,CAACgB,OAAO,EAAA;AAAAW,gBAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA+lB,cAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AACA,cAAA,OAAMokB,MAAM,CAACgB,OAAO,CAACY,IAAI,CAAC,UAAC7nB,IAAqB,EAAA;gBAAA,OAC9D8nB,MAAI,CAAChE,OAAO,CAACqC,WAAW,CAACF,MAAM,EAAEjmB,IAAI,CAAC;cAAA,CAAA,CACvC;AAAA,YAAA,KAAA,CAAA;AAFDimB,cAAAA,MAAM,CAAC5C,MAAM,GAAAuE,SAAA,CAAA3c,CAAA;cAGbgb,MAAM,CAACgB,OAAO,GAAG,IAAI;AAACW,cAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;cAAA,IACZokB,MAAM,CAAC5C,MAAM,EAAA;AAAAuE,gBAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA+lB,cAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AACP,cAAA,OAAM,IAAI,CAAC8kB,qBAAqB,CAACV,MAAM,EAAE,IAAI,CAAC;AAAA,YAAA,KAAA,CAAA;AAA9DA,cAAAA,MAAM,CAAC5C,MAAM,GAAAuE,SAAA,CAAA3c,CAAA;AAAA,YAAA,KAAA,CAAA;AAAA,cAAA,OAAA2c,SAAA,CAAA1rB,CAAA,CAAA,CAAA,EAGR+pB,MAAM,CAAA;AAAA;AAAA,QAAA,CAAA,EAAA8B,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CACd,CAAA,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAA1xB,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAIA,SAAA0xB,QAAQA,GAAA;MACN,OAAO,IAAI,CAACrnB,KAAK;AACnB,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAAtK,GAAA,EAAA,IAAA;AAAAC,IAAAA,KAAA,EAKM,SAAA2xB,EAAEA,CAACtnB,KAAa,EAAA;;;;;;;AACZhI,cAAAA,IAAI,GAAwB,IAAI,CAAhCA,IAAI,EAAEotB,OAAO,GAAe,IAAI,CAA1BA,OAAO,EAAEJ,QAAQ,GAAK,IAAI,CAAjBA,QAAQ;AAAA,cAAA,IAAA,EAE3BhlB,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAIhI,IAAI,CAAA,EAAA;AAAAuvB,gBAAAA,SAAA,CAAArmB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAAA,OAAAqmB,SAAA,CAAAhsB,CAAA,CAAA,CAAA,EACrB6pB,OAAO,CAAC,IAAI,CAACplB,KAAK,CAAC,CAAA;AAAA,YAAA,KAAA,CAAA;AAG5B,cAAA,IAAI,CAAC8lB,iBAAiB,CAAC9lB,KAAK,EAAE,IAAI,CAACilB,SAAS,EAAEG,OAAO,CAACxuB,MAAM,CAAC;cAC7D,IAAIouB,QAAQ,KAAK,MAAM,IAAI,IAAI,CAACC,SAAS,KAAKG,OAAO,CAACxuB,MAAM,EAAE;AAC5DwuB,gBAAAA,OAAO,CAACM,OAAO,CAAC,UAACJ,MAAc,EAAEnH,KAAa,EAAI;AAChD,kBAAA,IAAIqJ,MAAI,CAACzB,kBAAkB,CAAC5H,KAAK,CAAC,EAAE;oBAClC,IAAImH,MAAM,CAAC5C,MAAM,KAAK,IAAI,IAAI4C,MAAM,CAACgB,OAAO,KAAK,IAAI,EAAE;sBACrDhB,MAAM,CAACgB,OAAO,GAAGkB,MAAI,CAACxB,qBAAqB,CAACV,MAAM,CAAC;AACrD,oBAAA;AACF,kBAAA,CAAC,MAAM;oBACLA,MAAM,CAAC5C,MAAM,GAAG,IAAI;oBACpB4C,MAAM,CAACgB,OAAO,GAAG,IAAI;AACvB,kBAAA;AACF,gBAAA,CAAC,CAAC;AACJ,cAAA;cAAC,OAAAiB,SAAA,CAAAhsB,CAAA,CAAA,CAAA,EAEM,IAAI,CAACxD,GAAG,EAAE,CAAA;AAAA;AAAA,QAAA,CAAA,EAAA0vB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CAClB,CAAA,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAA/xB,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAIM,SAAAkD,KAAKA,GAAA;MAAC,OAAA4tB,SAAA,CAAA,IAAA,EAAArG,SAAA,EAAA,MAAA,EAAA,YAAA;AAAA,QAAA,IAAAsH,MAAA,GAAA,IAAA;AAAA,QAAA,IAAAC,eAAA,GAAAvH,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAA2B,IAAI;AAAA,QAAA,oBAAA+F,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAqd,QAAAA,GAAA;AAAA,UAAA,IAAAxC,OAAA;AAAA,UAAA,OAAAe,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAAqlB,SAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAA3mB,CAAA;AAAA,cAAA,KAAA,CAAA;gBACjCkkB,OAAO,GAAKsC,MAAI,CAAhBtC,OAAO;gBAEfsC,MAAI,CAAC1nB,KAAK,GAAG,CAAC;gBACd0nB,MAAI,CAACxC,WAAW,GAAG,CAAC;gBACpBwC,MAAI,CAACvC,SAAS,GAAG,CAAC;gBAClBuC,MAAI,CAACzC,SAAS,GAAG,CAAC;gBAClByC,MAAI,CAACtC,OAAO,GAAG,EAAE;AAAC,gBAAA,IAAA,CAEduC,eAAe,EAAA;AAAAE,kBAAAA,SAAA,CAAA3mB,CAAA,GAAA,CAAA;AAAA,kBAAA;AAAA,gBAAA;AAAA2mB,gBAAAA,SAAA,CAAA3mB,CAAA,GAAA,CAAA;AACjB,gBAAA,OAAMwmB,MAAI,CAACvE,OAAO,CAACsC,OAAO,CAACL,OAAO,CAAC;AAAA,cAAA,KAAA,CAAA;gBAAA,OAAAyC,SAAA,CAAAtsB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAqsB,QAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CAEtC,CAAA;AAAA,IAAA;AAAA,GAAA,CAAA,CAAA;AAAA,CAAA,GClTH,IAAaE,WAAW,gBAAA,YAAA;AACtB,EAAA,SAAAA,YACmBC,OAAgB,EAChBC,QAAyB,EACzBtF,MAA2B,EAAA;AAAAhuB,IAAAA,eAAA,OAAAozB,WAAA,CAAA;IAF3B,IAAA,CAAAC,OAAO,GAAPA,OAAO;IACP,IAAA,CAAAC,QAAQ,GAARA,QAAQ;IACR,IAAA,CAAAtF,MAAM,GAANA,MAAM;AACtB,EAAA;EAAC,OAAAjtB,YAAA,CAAAqyB,WAAA,EAAA,CAAA;IAAApyB,GAAA,EAAA,KAAA;AAAAC,IAAAA,KAAA,EAEU,SAAAiD,GAAGA,CAAAqvB,KAAA,EAAAC,OAAA,EAAA;AACf,MAAA,OAAAzB,SAAA,CAAA,IAAA,EAAArG,SAAA,EAAA,MAAA,EAAA,UAAA1qB,GAAW,EACXC,KAAe,EAAA;AAAA,QAAA,IAAAlB,KAAA,GAAA,IAAA;AAAA,QAAA,IACfomB,IAAA,GAAAuF,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAmC,GAAG;AAAA,QAAA,oBAAA+F,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAoV,OAAAA,GAAA;UAAA,IAAA+C,MAAA,EAAAsF,QAAA;AAAA,UAAA,OAAA7B,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAA4c,QAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAle,CAAA;AAAA,cAAA,KAAA,CAAA;gBAE9BwhB,MAAM,GAAejuB,KAAI,CAAzBiuB,MAAM,EAAEsF,QAAQ,GAAKvzB,KAAI,CAAjBuzB,QAAQ;gBAAA,IAAA,EAEpBnN,IAAI,KAAK,GAAG,CAAA,EAAA;AAAAuE,kBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,kBAAA;AAAA,gBAAA;AAAAke,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AACd,gBAAA,OAAM8mB,QAAQ,CAACG,oBAAoB,CAAA3F,eAAA,CAAA,EAAA,EAC9B9sB,GAAG,EAAGC,KAAK,GACd+sB,MAAM,CAACzjB,QAAQ,EACf,SAAS,CACV;AAAA,cAAA,KAAA,CAAA;AAAAmgB,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA,KAAA,CAAA;AAEDwhB,gBAAAA,MAAM,CAAC/jB,MAAM,CAACjJ,GAAG,CAAC,GAAGC,KAAK;AAAC,cAAA,KAAA,CAAA;gBAAA,OAAAypB,QAAA,CAAA7jB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAokB,OAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CAE9B,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,YAAA;AAAAC,IAAAA,KAAA,EAIA,SAAAyyB,UAAUA,GAAA;AACR,MAAA,OAAO,IAAI,CAACL,OAAO,CAACvH,EAAE;AACxB,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAA9qB,GAAA,EAAA,aAAA;AAAAC,IAAAA,KAAA,EAKA,SAAA0yB,WAAWA,CAAC3yB,GAAW,EAAA;AACrB,MAAA,IAAQiJ,MAAM,GAAK,IAAI,CAAC+jB,MAAM,CAAtB/jB,MAAM;AAEd,MAAA,IAAI,OAAOinB,MAAM,CAAC0C,MAAM,KAAK,UAAU,EAAE;AACvC,QAAA,OAAO1C,MAAM,CAAC0C,MAAM,CAAC3pB,MAAM,EAAEjJ,GAAG,CAAC;AACnC,MAAA;MAEA,OAAOkwB,MAAM,CAAC2C,SAAS,CAACC,cAAc,CAACvI,IAAI,CAACthB,MAAM,EAAEjJ,GAAG,CAAC;AAC1D,IAAA;AAEA;;;;;AAKG;AALH,GAAA,EAAA;IAAAA,GAAA,EAAA,WAAA;AAAAC,IAAAA,KAAA,EAMA,SAAA8yB,SAASA,CACPC,MAA2B,EAC3BjK,GAAW,EAAA;AAEX,MAAA,OAAO,IAAI,CAACuJ,QAAQ,CAACW,YAAY,CAACD,MAAM,EAAE3yB,QAAQ,CAAC0H,IAAI,CAACwB,QAAQ,CAACwf,GAAG,CAAC,CAAC;AACxE,IAAA;AAEA;;;;;;AAMG;AANH,GAAA,EAAA;IAAA/oB,GAAA,EAAA,WAAA;IAAAC,KAAA,EAOM,SAAAizB,SAASA,CACblzB,GAAW,EACXwK,OAAmC,EACnCijB,OAAkE,EAAA;;;;;;mBAE9D,IAAI,CAACT,MAAM,CAACxjB,MAAM,EAAA;AAAA2gB,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAAA,OAAA2e,SAAA,CAAAtkB,CAAA,CAAA,CAAA,CAAA;AAAA,YAAA,KAAA,CAAA;cAEdmmB,MAAM,GAAKxhB,OAAO,CAAlBwhB,MAAM;AACR7mB,cAAAA,KAAK,GAAG,CAAAwI,EAAA,GAAA8f,OAAO,aAAPA,OAAO,KAAA,MAAA,GAAA,MAAA,GAAPA,OAAO,CAAEtoB,KAAK,MAAA,IAAA,IAAAwI,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAIqe,MAAM,CAAC7mB,KAAK;AACtCC,cAAAA,MAAM,GAAG,CAAAwI,EAAA,GAAA6f,OAAO,aAAPA,OAAO,KAAA,MAAA,GAAA,MAAA,GAAPA,OAAO,CAAEroB,MAAM,MAAA,IAAA,IAAAwI,EAAA,KAAA,MAAA,GAAAA,EAAA,GAAIoe,MAAM,CAAC5mB,MAAM;AACzCupB,cAAAA,SAAS,GAAGnkB,OAAO,CAAC2oB,YAAY,CAAC,CAAC,EAAE,CAAC,EAAEhuB,KAAK,EAAEC,MAAM,CAAC;AAAA+kB,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAE3D,cAAA,OAAM,IAAI,CAACtI,GAAG,CACZlD,GAAG,EACH,IAAIsB,UAAU,CAACstB,sBAAsB,CAACD,SAAS,CAAC,CAAC,EACjDlB,OAAO,KAAA,IAAA,IAAPA,OAAO,uBAAPA,OAAO,CAAEtI,IAAI,CACd;AAAA,YAAA,KAAA,CAAA;cAAA,OAAAgF,SAAA,CAAAtkB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAA2kB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CACF,CAAA,CAAA;AAAA,IAAA;AAED;;;;;;AAMG;AANH,GAAA,EAAA;IAAAxqB,GAAA,EAAA,UAAA;IAAAC,KAAA,EAOM,SAAAmzB,QAAQA,CAACpzB,GAAW,EAAE+oB,GAAW,EAAE0E,OAA4B,EAAA;;;;;;mBAC/D,IAAI,CAACT,MAAM,CAACxjB,MAAM,EAAA;AAAA4nB,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAAA,OAAA4lB,SAAA,CAAAvrB,CAAA,CAAA,CAAA,CAAA;AAAA,YAAA,KAAA,CAAA;AAAA,cAAA,IAAA,CAElBkjB,GAAG,CAACsK,UAAU,CAAC,YAAY,CAAC,EAAA;AAAAjC,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA4lB,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;cAC9B,OAAM,IAAI,CAACtI,GAAG,CAAClD,GAAG,EAAE+oB,GAAG,EAAE0E,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,MAAA,GAAA,MAAA,GAAPA,OAAO,CAAEtI,IAAI,CAAC;AAAA,YAAA,KAAA,CAAA;AAAAiM,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAA,cAAA;AAAA,YAAA,KAAA,CAAA;AAAAse,cAAAA,EAAA,GAEjC,IAAI;AAAAQ,cAAAA,GAAA,GACRtqB,GAAG;AAAAoqB,cAAAA,GAAA,GACC9oB,UAAU;AAAA8vB,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAC,cAAA,OAAMod,MAAM,CAACK,QAAQ,CAACF,GAAG,CAAC;AAAA,YAAA,KAAA,CAAA;cAAAsB,GAAA,GAAA+G,SAAA,CAAAxc,CAAA;cAAA0e,GAAA,GAAA,IAAAlJ,GAAA,CAAAC,GAAA,CAAA;AAAAkJ,cAAAA,GAAA,GACzC9F,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,MAAA,GAAA,MAAA,GAAPA,OAAO,CAAEtI,IAAI;AAAAiM,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAHf,cAAA,OAAAse,EAAA,CAAW5mB,GAAG,CAAAqnB,IAAA,CAAAT,EAAA,EAAAQ,GAAA,EAAAgJ,GAAA,EAAAC,GAAA,CAAA;AAIb,YAAA,KAAA,CAAA;cAAA,OAAAnC,SAAA,CAAAvrB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAqrB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CAEJ,CAAA,CAAA;AAAA,IAAA;AAED;;;;;;AAMG;AANH,GAAA,EAAA;IAAAlxB,GAAA,EAAA,WAAA;IAAAC,KAAA,EAOM,SAAAuzB,SAASA,CACbxzB,GAAW,EACX8V,IAAY,EACZ2X,OAA6D,EAAA;;;;;mBAEzD,IAAI,CAACT,MAAM,CAACxjB,MAAM,EAAA;AAAA+nB,gBAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;cAAA,OAAA+lB,SAAA,CAAA1rB,CAAA,CAAA,CAAA,CAAA;AAAA,YAAA,KAAA,CAAA;AAAA0rB,cAAAA,SAAA,CAAA/lB,CAAA,GAAA,CAAA;cAEtB,OAAM,IAAI,CAACtI,GAAG,CACZlD,GAAG,EACH,IAAIsB,UAAU,CAAC0sB,2BAA2B,CAAAkC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAA,EAAA,EAAM1C,OAAO;AAAE3X,gBAAAA,IAAI,EAAJA;AAAI,eAAA,CAAA,CAAG,CAAC,EACjE2X,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,MAAA,GAAA,MAAA,GAAPA,OAAO,CAAEtI,IAAI,CACd;AAAA,YAAA,KAAA,CAAA;cAAA,OAAAoM,SAAA,CAAA1rB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAA6rB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CACF,CAAA,CAAA;AAAA,IAAA;AAAA,GAAA,CAAA,CAAA;AAAA,CAAA,GCxIH,IAAa+B,eAAe,gBAAA,YAAA;EAmD1B,SAAAA,eAAAA,CAA6BpB,OAAgB,EAAA;AAAArzB,IAAAA,eAAA,OAAAy0B,eAAA,CAAA;IAAhB,IAAA,CAAApB,OAAO,GAAPA,OAAO;AAnBpC;IACQ,IAAA,CAAAnwB,MAAM,GAAuC,EAAE;AAEvD;;AAEG;AACa,IAAA,IAAA,CAAAkO,gBAAgB,GAC9B,IAAIjO,GAAG,EAAE;AAEX;;AAEG;AACa,IAAA,IAAA,CAAAgO,SAAS,GAAwB,IAAIhO,GAAG,EAAE;AAE1D;;AAEG;IACK,IAAA,CAAAmI,KAAK,GAAW,CAAC;AAEuB,EAAA;AAEhD;;;AAGG;EAHH,OAAAvK,YAAA,CAAA0zB,eAAA,EAAA,CAAA;IAAAzzB,GAAA,EAAA,aAAA;AAAAC,IAAAA,KAAA,EAIQ,SAAAyzB,WAAWA,GAAA;MACjB,IAAIC,GAAG,GAAyB,IAAI;AAEpC,MAAA,IAAI,IAAI,CAACrpB,KAAK,GAAG,CAAC,EAAE;QAClB,IAAI,CAACA,KAAK,EAAE;AACZqpB,QAAAA,GAAG,GAAG,IAAI,CAACzxB,MAAM,CAACwB,KAAK,EAAmB;AAC5C,MAAA;MAEA,IAAI,CAACiwB,GAAG,EAAE;AACRA,QAAAA,GAAG,GAAGtzB,QAAQ,CAACuzB,KAAK,CAACC,MAAM,CAAC,IAAI,CAACxB,OAAO,CAAC1H,CAAE,CAAC;AAC9C,MAAA;AAEA,MAAA,IAAI,CAACzoB,MAAM,CAACqF,IAAI,CAACosB,GAAG,CAAC;AAErB,MAAA,OAAOA,GAAG;AACZ,IAAA;AAEA;;;AAGG;AAHH,GAAA,EAAA;IAAA3zB,GAAA,EAAA,uBAAA;AAAAC,IAAAA,KAAA,EAIQ,SAAA6zB,qBAAqBA,CAC3BH,GAAgC,EAAA;AAEhC,MAAA,IAAIF,eAAe,CAACM,QAAQ,CAACJ,GAAG,CAAC,EAAE;AACjC,QAAA,IAAI,CAACzxB,MAAM,CAACqF,IAAI,CAACosB,GAAG,CAAC;AACvB,MAAA;AACF,IAAA;AAEA;;;;;AAKG;AALH,GAAA,EAAA;IAAA3zB,GAAA,EAAA,cAAA;AAAAC,IAAAA,KAAA,EAMO,SAAAgzB,YAAYA,CACjBD,MAA2B,EAC3BzpB,QAAgB,EAAA;AAAA,MAAA,IAAAxK,KAAA,GAAA,IAAA;AAEhB,MAAA,OAAOsB,QAAQ,CAACuzB,KAAK,CAClB1J,IAAI,CACH,YAAA;AAAA,QAAA,OAAMnrB,KAAI,CAAC20B,WAAW,EAAE;AAAA,MAAA,CAAA,EACxBV,MAAM,EACN3yB,QAAQ,CAAC0H,IAAI,CAAC0hB,OAAO,CAAClgB,QAAQ,EAAE,KAAK,CAAC,CACvC,CACAioB,IAAI,CAAC,UAACmC,GAAG,EAAI;AACZ50B,QAAAA,KAAI,CAAC+0B,qBAAqB,CAACH,GAAG,CAAC;AAE/B,QAAA,OAAOA,GAAG;AACZ,MAAA,CAAC,CAAC;AACN,IAAA;AAEA;;;;;AAKG;AALH,GAAA,EAAA;IAAA3zB,GAAA,EAAA,sBAAA;AAAAC,IAAAA,KAAA,EAMa,SAAAwyB,oBAAoBA,CAAAuB,QAAA,EAAAC,UAAA,EAAA;AAC/B,MAAA,OAAAlD,SAAA,CAAA,IAAA,EAAArG,SAAA,EAAA,MAAA,EAAA,UAAAzhB,MAAiB,EACjBM,QAAgB,EAAA;AAAA,QAAA,IAAA0nB,MAAA,GAAA,IAAA;AAAA,QAAA,IAChBxpB,IAAA,GAAAijB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAA6B,QAAQ;AAAA,QAAA,oBAAA+F,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAoV,OAAAA,GAAA;UAAA,IAAAiK,WAAA,EAAAC,aAAA;AAAA,UAAA,OAAA1D,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAA4c,QAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAle,CAAA;AAAA,cAAA,KAAA,CAAA;AAE/B0oB,gBAAAA,WAAW,GAAoB,EAAE;gBACjCC,aAAa,GAAA,EAAA,CAAAvtB,MAAA,CAAM2C,QAAQ,CAAC8kB,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAA,MAAA,CAAA;gBAEzD6B,MAAM,CAACkE,OAAO,CAACnrB,MAAM,CAAC,CAAC+mB,OAAO,CAAC,UAAAxhB,IAAA,EAAkB;AAAA,kBAAA,IAAA6lB,KAAA,GAAAlwB,cAAA,CAAAqK,IAAA,EAAA,CAAA,CAAA;AAAhB8lB,oBAAAA,IAAI,GAAAD,KAAA,CAAA,CAAA,CAAA;AAAET,oBAAAA,KAAK,GAAAS,KAAA,CAAA,CAAA,CAAA;AAC1C;kBACA,IAAIT,KAAK,YAAYtyB,UAAU,IAAIsyB,KAAK,CAACW,UAAU,GAAG,EAAE,EAAE;AACxD,oBAAA;AACF,kBAAA;AAEA,kBAAA,IAAMlf,CAAC,GAAGhV,QAAQ,CAACuzB,KAAK,CACrB1J,IAAI,CACH,YAAA;AAAA,oBAAA,OAAM+G,MAAI,CAACyC,WAAW,EAAE;kBAAA,CAAA,EACxBE,KAAiB,EACjBvzB,QAAQ,CAAC0H,IAAI,CAAC0hB,OAAO,CACnB0K,aAAa,EACb1sB,IAAI,KAAK,SAAS,UAAAb,MAAA,CAAU0tB,IAAI,CAAA,GAAKA,IAAI,CAC1C,CACF,CACA9C,IAAI,CAAC,UAACmC,GAAG,EAAI;AACZ1C,oBAAAA,MAAI,CAAC6C,qBAAqB,CAACH,GAAG,CAAC;oBAC/B,IAAIlsB,IAAI,KAAK,SAAS,EAAE;sBACtBwpB,MAAI,CAAC7gB,gBAAgB,CAAClN,GAAG,CAACoxB,IAAI,EAAEX,GAAG,CAAC;AACtC,oBAAA,CAAC,MAAM;sBACL1C,MAAI,CAAC9gB,SAAS,CAACjN,GAAG,CAACoxB,IAAI,EAAEX,GAAG,CAAC;AAC/B,oBAAA;AACF,kBAAA,CAAC,CAAC;AAEJO,kBAAAA,WAAW,CAAC3sB,IAAI,CAAC8N,CAAC,CAAC;AACrB,gBAAA,CAAC,CAAC;AAACqU,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;AAEH,gBAAA,OAAM6lB,OAAO,CAACC,GAAG,CAAC4C,WAAW,CAAC;AAAA,cAAA,KAAA,CAAA;gBAAA,OAAAxK,QAAA,CAAA7jB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAokB,OAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CAC/B,CAAA;AAAA,IAAA;AAED;;AAEG;AAFH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAoK,OAAOA,GAAA;AACZ;AAAA,MAAA,IAAAe,SAAA,GAAAC,0BAAA,CACkB,IAAI,CAACnJ,MAAM,CAAA;QAAAoJ,KAAA;AAAA,MAAA,IAAA;QAA7B,KAAAF,SAAA,CAAAG,CAAA,EAAA,EAAA,CAAA,CAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,EAAA,EAAAC,IAAA,GAA+B;AAAA,UAAA,IAApBkoB,GAAG,GAAAroB,KAAA,CAAArL,KAAA;AACZwzB,UAAAA,eAAe,CAACe,UAAU,CAACb,GAAG,CAAC;AACjC,QAAA;AAAC,MAAA,CAAA,CAAA,OAAAznB,GAAA,EAAA;QAAAd,SAAA,CAAAe,CAAA,CAAAD,GAAA,CAAA;AAAA,MAAA,CAAA,SAAA;AAAAd,QAAAA,SAAA,CAAAgB,CAAA,EAAA;AAAA,MAAA;AAED,MAAA,IAAI,CAAC+D,SAAS,CAAChN,KAAK,EAAE;AACtB,MAAA,IAAI,CAACiN,gBAAgB,CAACjN,KAAK,EAAE;AAC7B;AACA9C,MAAAA,QAAQ,CAAC6oB,OAAO,CAACG,GAAG,KAAK,QAAQ,GAAG,IAAI,CAAC0G,OAAO,EAAE,GAAG,IAAI,CAAC0E,MAAM,EAAE;AACpE,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAz0B,GAAA,EAAA,QAAA;AAAAC,IAAAA,KAAA,EAGQ,SAAAw0B,MAAMA,GAAA;AACZ;AACA,MAAA,IAAI,CAACvyB,MAAM,GAAGzB,KAAK,CAACye,IAAI,CAAC,IAAIvN,GAAG,CAAC,IAAI,CAACzP,MAAM,CAAC,CAAC;AAC9C,MAAA,IAAI,CAACoI,KAAK,GAAG,IAAI,CAACpI,MAAM,CAAChB,MAAM;AACjC,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAlB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAGO,SAAA8vB,OAAOA,GAAA;AACZ,MAAA,IAAI,CAAC7tB,MAAM,CAAChB,MAAM,GAAG,CAAC;MACtB,IAAI,CAACoJ,KAAK,GAAG,CAAC;AAChB,IAAA;AAAC,GAAA,CAAA,EAAA,CAAA;IAAAtK,GAAA,EAAA,UAAA;IAAAC,KAAA;AAtLD;;;;AAIG;IACK,SAAO8zB,QAAQA,CAACJ,GAAQ,EAAA;MAC9B,OAAOtzB,QAAQ,CAAC6oB,OAAO,CAACG,GAAG,KAAK,IAAI,IAAIsK,GAAG,YAAYe,WAAW;AACpE,IAAA;AAEA;;;AAGG;AAHH,GAAA,EAAA;IAAA10B,GAAA,EAAA,YAAA;AAAAC,IAAAA,KAAA,EAIQ,SAAOu0B,UAAUA,CAACb,GAAgC,EAAA;AACxD,MAAA,IAAIF,eAAe,CAACM,QAAQ,CAACJ,GAAG,CAAC,EAAE;QAChCA,GAAmB,CAACgB,KAAK,EAAE;AAC9B,MAAA,CAAC,MAAM,IAAKhB,GAAqB,CAACiB,GAAG,KAAK,EAAE,EAAE;AAC5C;QACA,IACEv0B,QAAQ,CAAC6oB,OAAO,CAACG,GAAG,KAAK,OAAO,IAC/BsK,GAAqB,CAACiB,GAAG,CAACrJ,QAAQ,CACjClrB,QAAQ,CAAC0H,IAAI,CAAC8sB,cAAc,CAC7B,EACD;UACAx0B,QAAQ,CAAC+oB,KAAM,CAAC6G,MAAM,CAAE0D,GAAqB,CAACiB,GAAG,CAAC;AACpD,QAAA;AAEAv0B,QAAAA,QAAQ,CAACuzB,KAAK,CAACvpB,OAAO,CAACspB,GAAoB,CAAC;AAC9C,MAAA;AACF,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,GCnBH;;AAEG;AACH,IAAamB,MAAM,gBAAA,YAAA;AAAnB,EAAA,SAAAA,SAAA;AAAA91B,IAAAA,eAAA,OAAA81B,MAAA,CAAA;AAOE;;AAEG;AACc,IAAA,IAAA,CAAAlI,MAAM,GAAG,IAAIN,MAAM,EAAE;AAEtC;;AAEG;IACI,IAAA,CAAAgG,QAAQ,GAA2B,IAAI;AAE9C;;AAEG;AACa,IAAA,IAAA,CAAAD,OAAO,GAAG,IAAI5H,OAAO,EAAE;AAEvC;;AAEG;AACc,IAAA,IAAA,CAAAsK,QAAQ,GAAa,IAAInjB,QAAQ,EAAE;AAEpD;;AAEG;IACK,IAAA,CAAAojB,QAAQ,GAAsB,IAAI;AAkT5C,EAAA;AAhTE;;;;;;;;;;;;AAYG;EAZH,OAAAj1B,YAAA,CAAA+0B,MAAA,EAAA,CAAA;IAAA90B,GAAA,EAAA,WAAA;AAAAC,IAAAA,KAAA,EAaa,SAAAsS,SAASA,CACpBkb,OAAqC,EACrC9B,SAAe,EAAA;;;;;;AAETiB,cAAAA,MAAM,GACV,OAAOa,OAAO,KAAK,QAAQ,GAAG;AAAEwH,gBAAAA,SAAS,EAAExH;AAAO,eAAE,GAAGA,OAAO;cACxDwH,SAAS,GAAgBrI,MAAM,CAA/BqI,SAAS,EAAEC,SAAS,GAAKtI,MAAM,CAApBsI,SAAS;AAE5B,cAAA,IAAI,CAACtI,MAAM,CAACpB,QAAQ,CAACoB,MAAM,CAAC;AAC5B;AACA;AAAAlD,cAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;cACA,OAAM,IAAI,CAAC6mB,OAAO,CAAC7G,QAAQ,CAACyJ,SAAS,EAAEC,SAAS,EAAEvJ,SAAS,CAAC;AAAA,YAAA,KAAA,CAAA;cAC5D,IAAI,CAACqJ,QAAQ,GAAG,IAAIzqB,UAAU,CAAC,IAAI,CAAC8nB,OAAO,CAACvH,EAAG,CAAC;cAChD,IAAI,CAACwH,QAAQ,GAAG,IAAImB,eAAe,CAAC,IAAI,CAACpB,OAAO,CAAC;AACjD,cAAA,IAAI,CAAC0C,QAAQ,CAAC5iB,SAAS,GAAG9R,QAAQ,CAAC80B,GAAG,CAACC,IAAI,CACzC,IAAI,EACJ,IAAI,CAAC/C,OAAO,CAAC1H,CAAmB,CACjC;AAAC,YAAA,KAAA,CAAA;cAAA,OAAAjB,QAAA,CAAA7jB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAokB,OAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CACH,CAAA,CAAA;AAAA,IAAA;AAED;;;;AAIG;AAJH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAKO,SAAA4sB,OAAOA,CACZ7sB,GAAM,EACNC,KAAsB,EAAA;MAEtB,IAAI,CAAC2sB,MAAM,CAACC,OAAO,CAAI7sB,GAAG,EAAEC,KAAK,CAAC;AACpC,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAAD,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAKa,SAAAo1B,KAAKA,CAACnlB,WAAgC,EAAA;;;;;;kBAC5CA,WAAW,EAAA;AAAAia,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,cAAA,MAAQ,IAAI3G,KAAK,CAAC,uBAAuB,CAAC;AAAA,YAAA,KAAA,CAAA;cAElDoE,MAAM,GAAeiH,WAAW,CAAhCjH,MAAM,EAAEM,QAAQ,GAAK2G,WAAW,CAAxB3G,QAAQ;AAExB,cAAA,IAAI,CAACwrB,QAAS,CAACjiB,IAAI,EAAE;AACrB,cAAA,IAAI,CAACuf,OAAO,CAACpH,cAAc,EAAE;AAC7B,cAAA,IAAI,CAACqH,QAAS,CAACjoB,OAAO,EAAE;cACxB,IAAI,CAAC2iB,MAAM,GAAG9c,WAAW;AAACia,cAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;cAE1B,OAAM,IAAI,CAAC8mB,QAAS,CAACG,oBAAoB,CAACxpB,MAAM,EAAEM,QAAQ,CAAC;AAAA,YAAA,KAAA,CAAA;cAAA,OAAA4gB,SAAA,CAAAtkB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAA2kB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CAC5D,CAAA,CAAA;AAAA,IAAA;AAmCD;;AAEG;AAFH,GAAA,EAAA;IAAAxqB,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAGO,SAAA0B,KAAKA,GAAA;;MACV,IAAI,CAAC2zB,cAAc,EAAE;MACrB,CAAA3nB,EAAA,GAAA,IAAI,CAACyE,OAAO,MAAA,IAAA,IAAAzE,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAA,IAAA,CAAI;AAClB,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAvqB,GAAA,EAAA,QAAA;AAAAC,IAAAA,KAAA,EAGO,SAAA2S,MAAMA,GAAA;;AACX,MAAA,IAAI,IAAI,CAACmiB,QAAQ,CAACniB,MAAM,EAAE,EAAE;QAC1B,CAAAjF,EAAA,GAAA,IAAI,CAAC4nB,QAAQ,MAAA,IAAA,IAAA5nB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAA,IAAA,CAAI;AACnB,MAAA;AACF,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAvqB,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAGO,SAAA4S,KAAKA,GAAA;;AACV,MAAA,IAAI,IAAI,CAACkiB,QAAQ,CAACliB,KAAK,EAAE,EAAE;QACzB,CAAAlF,EAAA,GAAA,IAAI,CAAC6nB,OAAO,MAAA,IAAA,IAAA7nB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAA,IAAA,CAAI;AAClB,MAAA;AACF,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAvqB,GAAA,EAAA,MAAA;AAAAC,IAAAA,KAAA,EAGO,SAAA6S,IAAIA,GAAA;;AACT,MAAA,IAAI,CAACiiB,QAAQ,CAACjiB,IAAI,EAAE;AACpB,MAAA,IAAI,CAACuf,OAAO,CAACrH,cAAc,EAAE;AAC7B,MAAA,IAAI,CAACqH,OAAO,CAACpH,cAAc,EAAE;MAC7B,CAAAtd,EAAA,GAAA,IAAI,CAAC8nB,MAAM,MAAA,IAAA,IAAA9nB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAA,IAAA,CAAI;AACjB,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAvqB,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAwQ,OAAOA,GAAA;;AACZ,MAAA,IAAI,CAACskB,QAAQ,CAACjiB,IAAI,EAAE;AACpB,MAAA,IAAI,CAACuf,OAAO,CAAC5hB,OAAO,EAAE;MACtB,CAAA9C,EAAA,GAAA,IAAI,CAACqnB,QAAQ,MAAA,IAAA,IAAArnB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAE8C,OAAO,EAAE;MACxB,CAAA7C,EAAA,GAAA,IAAI,CAAC0kB,QAAQ,MAAA,IAAA,IAAA1kB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAEvD,OAAO,EAAE;MACxB,CAAAwD,EAAA,GAAA,IAAI,CAACykB,QAAQ,MAAA,IAAA,IAAAzkB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAEkiB,OAAO,EAAE;MACxB,IAAI,CAAC/C,MAAM,GAAGrpB,SAAS;AACzB,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAA3D,GAAA,EAAA,aAAA;AAAAC,IAAAA,KAAA,EAKO,SAAAy1B,WAAWA,CAACrnB,KAAa,EAAiB;AAAA,MAAA,IAAfsnB,OAAO,GAAAjL,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK;AAC/C,MAAA,IAAI,CAAC,IAAI,CAACsC,MAAM,IAAI3e,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI,IAAI,CAAC2e,MAAM,CAACzkB,MAAM,EAAE;MAE9D,IAAI,CAACsK,KAAK,EAAE;AACZ,MAAA,IAAI,CAAC+Z,MAAM,CAACD,cAAc,GAAGte,KAAK;AAClC,MAAA,IAAIsnB,OAAO,EAAE;QACX,IAAI,CAACh0B,KAAK,EAAE;AACd,MAAA;AACF,IAAA;AAEA;;;;AAIG;AAJH,GAAA,EAAA;IAAA3B,GAAA,EAAA,kBAAA;AAAAC,IAAAA,KAAA,EAKO,SAAA21B,gBAAgBA,CAAC3iB,OAAe,EAA0B;AAAA,MAAA,IAAxB0iB,OAAA,GAAAjL,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAmB,KAAK;AAC/D,MAAA,IAAI,CAAC,IAAI,CAACsC,MAAM,EAAE;AAElB,MAAA,IAAQzkB,MAAM,GAAK,IAAI,CAACykB,MAAM,CAAtBzkB,MAAM;AACd,MAAA,IAAI8F,KAAK,GAAG4E,OAAO,GAAG,CAAC,GAAG,CAAC,GAAGtQ,IAAI,CAACkzB,KAAK,CAAC5iB,OAAO,GAAG1K,MAAM,CAAC;MAE1D,IAAI8F,KAAK,IAAI9F,MAAM,EAAE;QACnB8F,KAAK,GAAG9F,MAAM,GAAG,CAAC;AACpB,MAAA;AAEA,MAAA;AACA,MAAA,IAAI,CAACmtB,WAAW,CAACrnB,KAAK,EAAEsnB,OAAO,CAAC;AAClC,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAA31B,GAAA,EAAA,gBAAA;AAAAC,IAAAA,KAAA,EAGQ,SAAAq1B,cAAcA,GAAA;AAAA,MAAA,IAAAv2B,KAAA,GAAA,IAAA;AACpB,MAAA,IAAQiuB,MAAM,GAAoD,IAAI,CAA9DA,MAAM;QAAEJ,MAAM,GAA4C,IAAI,CAAtDA,MAAM;QAAEmI,QAAQ,GAAkC,IAAI,CAA9CA,QAAQ;QAAE1C,OAAO,GAAyB,IAAI,CAApCA,OAAO;QAAE2C,QAAQ,GAAe,IAAI,CAA3BA,QAAQ;QAAE1C,QAAQ,GAAK,IAAI,CAAjBA,QAAQ;AAC7D,MAAA,IAAQnH,CAAC,GAAQkH,OAAO,CAAhBlH,CAAC;QAAEpJ,CAAC,GAAKsQ,OAAO,CAAbtQ,CAAC;AACZ,MAAA,IAAQwK,QAAQ,GAA4BK,MAAM,CAA1CL,QAAQ;QAAEC,QAAQ,GAAkBI,MAAM,CAAhCJ,QAAQ;QAAEtd,WAAW,GAAK0d,MAAM,CAAtB1d,WAAW;AACvC,MAAA,IAAA4mB,iBAAA,GAOIlJ,MAAM,CAACG,SAAS,CAACC,MAAO,CAAC;QAN3BG,SAAS,GAAA2I,iBAAA,CAAT3I,SAAS;QACTV,UAAU,GAAAqJ,iBAAA,CAAVrJ,UAAU;QACVC,QAAQ,GAAAoJ,iBAAA,CAARpJ,QAAQ;QACRW,UAAU,GAAAyI,iBAAA,CAAVzI,UAAU;QACVJ,WAAW,GAAA6I,iBAAA,CAAX7I,WAAW;QACXK,SAAS,GAAAwI,iBAAA,CAATxI,SAAS;AAEX,MAAA,IAAQvb,QAAQ,GAAiCub,SAAS,CAAlDvb,QAAQ;QAAEC,SAAS,GAAsBsb,SAAS,CAAxCtb,SAAS;QAAEQ,IAAI,GAAgB8a,SAAS,CAA7B9a,IAAI;QAAEC,SAAS,GAAK6a,SAAS,CAAvB7a,SAAS;AAC5C,MAAA,IAAMsjB,aAAa,GAAGvJ,QAAQ,KAAA,WAAA;AAE9B;MACA,IAAInc,YAAY,GAAG8c,SAAS;AAC5B;MACA,IAAI5c,IAAI,GAAG,CAAC;AACZ,MAAA,IAAIylB,QAAgB;AACpB;AACA,MAAA,IAAIC,WAAmB;AACvB;AACA,MAAA,IAAIC,SAAiB;AACrB;AACA,MAAA,IAAIC,UAAkB;AACtB;AACA,MAAA,IAAIljB,OAAe;AACnB;AACA,MAAA,IAAImjB,WAAoB;AAExB;MACArB,QAAQ,CAACxiB,SAAS,CAACR,QAAQ,EAAEC,SAAS,EAAEQ,IAAI,EAAEC,SAAS,CAAC;MACxDuiB,QAAS,CAAC/lB,MAAM,CAACC,WAAW,EAAE8d,MAAO,CAAC1qB,IAAI,EAAE;AAAE6C,QAAAA,KAAK,EAAEgmB,CAAC;AAAE/lB,QAAAA,MAAM,EAAE2c;AAAC,OAAE,CAAC;AAEpE;MACA,IAAMsU,uBAAuB,GAAG,CAAC;MACjC,IAAMC,kCAAkC,GAAG,CAAC;MAC5C,IAAMC,sBAAsB,GAAG,EAAE;MACjC,IAAMC,sBAAsB,GAAG,CAAC;AAChC;AACA,MAAA,IAAIC,gBAAgB,GAAG,CAAC,CAAC;AACzB,MAAA,IAAI3kB,SAAiB;AACrB,MAAA,IAAI4kB,KAAa;AACjB,MAAA,IAAIC,OAAe;AACnB;AACA,MAAA,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,MAAkB,EAAI;AACvC/kB,QAAAA,SAAS,GAAGzR,QAAQ,CAACqS,GAAG,EAAE;AAC1BmkB,QAAAA,MAAM,EAAE;QAER,OAAOtmB,IAAI,GAAG0c,WAAW,EAAE;AACzB;UACAyJ,KAAK,GAAG/zB,IAAI,CAACC,GAAG,CAAC6zB,gBAAgB,EAAExJ,WAAW,GAAG1c,IAAI,CAAC;AACtDylB,UAAAA,QAAQ,GAAIzlB,IAAI,GAAGmmB,KAAK,GAAI,CAAC;AAC7B1B,UAAAA,QAAS,CAAC/kB,MAAM,CACd+c,MAAO,EACPsF,QAAS,CAACniB,SAAS,EACnBmiB,QAAS,CAACliB,gBAAgB,EAC1BC,YAAY,EACZE,IAAI,EACJylB,QAAQ,CACT;AACDzlB,UAAAA,IAAI,GAAGylB,QAAQ;AACf;AACAW,UAAAA,OAAO,GAAGt2B,QAAQ,CAACqS,GAAG,EAAE,GAAGZ,SAAS;UAEpC,IAAI6kB,OAAO,GAAGL,kCAAkC,EAAE;AAChDG,YAAAA,gBAAgB,GAAG9zB,IAAI,CAACC,GAAG,CACzB6zB,gBAAgB,GAAG,CAAC,EACpBF,sBAAsB,CACvB,CAAC;AACJ,UAAA,CAAC,MAAM,IAAII,OAAO,GAAGN,uBAAuB,EAAE;AAC5CI,YAAAA,gBAAgB,GAAG9zB,IAAI,CAACG,GAAG,CACzB2zB,gBAAgB,GAAG,CAAC,EACpBD,sBAAsB,CACvB,CAAC;AACF,YAAA;AACF,UAAA;AACF,QAAA;MACF,CAAC;AAED;AACAzB,MAAAA,QAAQ,CAAC1iB,QAAQ,GAAG,UAACykB,WAAmB,EAAI;;AAC1CF,QAAAA,SAAS,CAAC,YAAK;AACb3jB,UAAAA,OAAO,GAAG8iB,aAAa,GAAG,CAAC,GAAGe,WAAW,GAAGA,WAAW;UACvDX,UAAU,GAAGljB,OAAO,GAAGoa,UAAU;AAEjC,UAAA,IAAI0I,aAAa,EAAE;AACjBG,YAAAA,SAAS,GACP,CAACY,WAAW,KAAK,CAAC,GAAGpK,QAAQ,GAAG/pB,IAAI,CAACyZ,IAAI,CAAC+Z,UAAU,CAAC,IAAI,CAAC;AAC5D;YACAljB,OAAO,GAAG5C,YAAY,GAAGgd,UAAU;AACrC,UAAA,CAAC,MAAM;AACL6I,YAAAA,SAAS,GAAGY,WAAW,KAAK,CAAC,GAAGrK,UAAU,GAAG9pB,IAAI,CAACI,KAAK,CAACozB,UAAU,CAAC;AACrE,UAAA;UAEAC,WAAW,GAAG/lB,YAAY,KAAK6lB,SAAS;AAC1C,QAAA,CAAC,CAAC;AAEF,QAAA,IAAIE,WAAW,EAAE;QAEjB/D,OAAO,CAACrH,cAAc,EAAE;QACxBqH,OAAO,CAAClG,KAAK,EAAE;QACfkG,OAAO,CAACpH,cAAc,EAAE;AACxBgL,QAAAA,WAAW,GAAG5lB,YAAY;AAC1BA,QAAAA,YAAY,GAAG6lB,SAAS;AACxB3lB,QAAAA,IAAI,GAAG,CAAC;AACR,QAAA,CAAA5C,EAAA,GAAA5O,KAAI,CAACg4B,SAAS,MAAA,IAAA,IAAAppB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAAxrB,KAAA,EAAG,CAAC,EAAEkU,OAAO,GAAG,GAAG,CAAC,GAAG,GAAG,EAAEgjB,WAAW,CAAC;MACxD,CAAC;MACDlB,QAAQ,CAAC3iB,OAAO,GAAG,YAAK;QACtB4a,MAAO,CAACxjB,MAAM,GAAG,IAAI;MACvB,CAAC;MACDurB,QAAQ,CAACziB,KAAK,GAAG,YAAK;;QACpB0a,MAAO,CAACxjB,MAAM,GAAG,KAAK;AACtB;AACA,QAAA,IAAI+iB,QAAQ,KAAA,MAAA,8BAA4B;UACtC8F,OAAO,CAACrH,cAAc,EAAE;AAC1B,QAAA;QAEA,CAAArd,EAAA,GAAA5O,KAAI,CAACuT,KAAK,MAAA,IAAA,IAAA3E,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAA4c,IAAA,CAAAxrB,KAAA,CAAI;MAChB,CAAC;MACDg2B,QAAQ,CAACpzB,KAAK,EAAE;AAClB,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,GCxVH,IAAaq1B,MAAM,gBAAA,YAAA;AA6CjB,EAAA,SAAAA,MAAAA,CAAY7xB,KAAa,EAAEC,MAAc,EAAA;AAAApG,IAAAA,eAAA,OAAAg4B,MAAA,CAAA;AAtCzC;;AAEG;IACc,IAAA,CAAApK,MAAM,GAAiB;AACtC;;AAEG;AACHqI,MAAAA,SAAS,EAAE,EAAE;AACb;;AAEG;MACH/lB,WAAW,EAAA,MAAA;;AACX;;AAEG;AACHb,MAAAA,KAAK,EAAE;KACR;AAED;;AAEG;IACK,IAAA,CAAA4oB,YAAY,GAAG,KAAK;AAO5B;;AAEG;IACI,IAAA,CAAA3E,QAAQ,GAA2B,IAAI;AAE9C;;AAEG;IACK,IAAA,CAAA0C,QAAQ,GAAsB,IAAI;IAGxC,IAAI,CAAC3C,OAAO,GAAG,IAAI5H,OAAO,CAAC,QAAQ,EAAEtlB,KAAK,EAAEC,MAAM,CAAC;AACrD,EAAA;AAEA;;;;AAIG;EAJH,OAAArF,YAAA,CAAAi3B,MAAA,EAAA,CAAA;IAAAh3B,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAKc,SAAAurB,QAAQA,GAAA;;;YACpBC,QAAA,GAAAf,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAmB,EAAE;QAAA,IACrBiB,SAAe,GAAAjB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,GAAAwpB,SAAA,MAAA/mB,SAAA;AAAA,QAAA,oBAAA8sB,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAAoV,OAAAA,GAAA;AAAA,UAAA,OAAAwG,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAA4c,QAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAle,CAAA;AAAA,cAAA,KAAA,CAAA;AAAAke,gBAAAA,QAAA,CAAAle,CAAA,GAAA,CAAA;gBAEf,OAAMzM,KAAI,CAACszB,OAAO,CAAC7G,QAAQ,CAACC,QAAQ,EAAE,EAAE,EAAEE,SAAS,CAAC;AAAA,cAAA,KAAA,CAAA;gBACpD5sB,KAAI,CAACi2B,QAAQ,GAAG,IAAIzqB,UAAU,CAACxL,KAAI,CAACszB,OAAO,CAACvH,EAAG,CAAC;gBAChD/rB,KAAI,CAACuzB,QAAQ,GAAG,IAAImB,eAAe,CAAC10B,KAAI,CAACszB,OAAO,CAAC;AAAC,cAAA,KAAA,CAAA;gBAAA,OAAA3I,QAAA,CAAA7jB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAAokB,OAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CACnD,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAAjqB,GAAA,EAAA,WAAA;AAAAC,IAAAA,KAAA,EAIa,SAAAsS,SAASA,GAAA;;;YACpBkb,OAAA,GAAA/C,SAAA,CAAAxpB,MAAA,GAAA,CAAA,IAAAwpB,SAAA,CAAA,CAAA,CAAA,KAAA/mB,SAAA,GAAA+mB,SAAA,CAAA,CAAA,CAAA,GAAwC,EAAE;QAAA,IAC1CiB,SAAe,GAAAjB,SAAA,CAAAxpB,MAAA,GAAA,CAAA,GAAAwpB,SAAA,MAAA/mB,SAAA;AAAA,QAAA,oBAAA8sB,YAAA,EAAA,CAAA5b,CAAA,CAAA,SAAA2V,QAAAA,GAAA;AAAA,UAAA,OAAAiG,YAAA,EAAA,CAAA3jB,CAAA,CAAA,UAAAqd,SAAA,EAAA;YAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAA3e,CAAA;AAAA,cAAA,KAAA,CAAA;AAEf,gBAAA,IAAI,OAAOiiB,OAAO,KAAK,QAAQ,EAAE;AAC/BwD,kBAAAA,MAAI,CAACrE,MAAM,CAACqI,SAAS,GAAGxH,OAAO;AACjC,gBAAA,CAAC,MAAM;kBACLyC,MAAM,CAACC,MAAM,CAACc,MAAI,CAACrE,MAAM,EAAEa,OAAO,CAAC;AACrC,gBAAA;gBAEAwD,MAAI,CAACgG,YAAY,GAAG,IAAI;AAAC9M,gBAAAA,SAAA,CAAA3e,CAAA,GAAA,CAAA;gBACzB,OAAMylB,MAAI,CAACzF,QAAQ,CAACyF,MAAI,CAACrE,MAAM,CAACqI,SAAS,EAAEtJ,SAAS,CAAC;AAAA,cAAA,KAAA,CAAA;gBAAA,OAAAxB,SAAA,CAAAtkB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,UAAA,CAAA,EAAA2kB,QAAA,CAAA;AAAA,QAAA,CAAA,CAAA,EAAA;AAAA,MAAA,CACtD,CAAA;AAAA,IAAA;AAED;;;AAGG;AAHH,GAAA,EAAA;IAAAxqB,GAAA,EAAA,gBAAA;AAAAC,IAAAA,KAAA,EAIO,SAAAi3B,cAAcA,CAAChoB,WAAgC,EAAA;AACpD,MAAA,IAAI,CAAC0d,MAAM,CAAC1d,WAAW,GAAGA,WAAW;AACvC,IAAA;AAEA;;;AAGG;AAHH,GAAA,EAAA;IAAAlP,GAAA,EAAA,UAAA;AAAAC,IAAAA,KAAA,EAIO,SAAAk3B,QAAQA,CAAC9oB,KAAa,EAAA;AAC3B,MAAA,IAAI,CAACue,MAAM,CAACve,KAAK,GAAGA,KAAK;AAC3B,IAAA;AAEA;;;;;AAKG;AALH,GAAA,EAAA;IAAArO,GAAA,EAAA,OAAA;AAAAC,IAAAA,KAAA,EAMa,SAAAo1B,KAAKA,CAACnlB,WAAgC,EAAA;;;;;;kBAC5CA,WAAW,EAAA;AAAAkhB,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,cAAA,MACR,IAAI3G,KAAK,CAAC,uBAAuB,CAAC;AAAA,YAAA,KAAA,CAAA;cAAA,IAGrC,IAAI,CAACoyB,YAAY,EAAA;AAAA7F,gBAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA4lB,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;AACpB,cAAA,OAAM,IAAI,CAACggB,QAAQ,EAAE;AAAA,YAAA,KAAA,CAAA;cACrB,IAAI,CAACyL,YAAY,GAAG,IAAI;AAAC,YAAA,KAAA,CAAA;cAGnBhuB,MAAM,GAAeiH,WAAW,CAAhCjH,MAAM,EAAEM,QAAQ,GAAK2G,WAAW,CAAxB3G,QAAQ;AAExB,cAAA,IAAI,CAAC8oB,OAAO,CAACrH,cAAc,EAAE;AAC7B,cAAA,IAAI,CAACsH,QAAS,CAACjoB,OAAO,EAAE;cACxB,IAAI,CAAC2iB,MAAM,GAAG9c,WAAW;AAACkhB,cAAAA,SAAA,CAAA5lB,CAAA,GAAA,CAAA;cAE1B,OAAM,IAAI,CAAC8mB,QAAS,CAACG,oBAAoB,CAACxpB,MAAM,EAAEM,QAAQ,CAAC;AAAA,YAAA,KAAA,CAAA;cAAA,OAAA6nB,SAAA,CAAAvrB,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,QAAA,CAAA,EAAAqrB,QAAA,EAAA,IAAA,CAAA;AAAA,MAAA,CAC5D,CAAA,CAAA;AAAA,IAAA;AAED;;AAEG;AAFH,GAAA,EAAA;IAAAlxB,GAAA,EAAA,MAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAm3B,IAAIA,GAAA;AACT,MAAA,IAAI,CAAC,IAAI,CAACpK,MAAM,EAAE;AAElB,MAAA,IAAQqF,OAAO,GAAyC,IAAI,CAApDA,OAAO;QAAE2C,QAAQ,GAA+B,IAAI,CAA3CA,QAAQ;QAAE1C,QAAQ,GAAqB,IAAI,CAAjCA,QAAQ;QAAEtF,MAAM,GAAa,IAAI,CAAvBA,MAAM;QAAEJ,MAAM,GAAK,IAAI,CAAfA,MAAM;AAEnDoI,MAAAA,QAAS,CAAC/lB,MAAM,CAAC2d,MAAM,CAAC1d,WAAW,EAAE8d,MAAO,CAAC1qB,IAAI,EAAE+vB,OAAO,CAAC1H,CAAE,CAAC;MAC9DqK,QAAS,CAAC/kB,MAAM,CACd+c,MAAO,EACPsF,QAAS,CAACniB,SAAS,EACnBmiB,QAAS,CAACliB,gBAAgB,EAC1Bwc,MAAM,CAACve,KAAK,EACZ,CAAC,EACD2e,MAAO,CAAC9jB,OAAO,CAAChI,MAAM,CACvB;AACH,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAAlB,GAAA,EAAA,aAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAo3B,WAAWA,GAAA;AAChB,MAAA,IAAAC,aAAA,GAAoC,IAAI,CAACjF,OAAO;QAAxCzH,EAAE,GAAA0M,aAAA,CAAF1M,EAAE;QAAKzlB,KAAK,GAAAmyB,aAAA,CAARnM,CAAC;QAAY/lB,MAAM,GAAAkyB,aAAA,CAATvV,CAAC;MAEvB,OAAO6I,EAAG,CAACuI,YAAY,CAAC,CAAC,EAAE,CAAC,EAAEhuB,KAAK,EAAEC,MAAM,CAAC;AAC9C,IAAA;AAEA;;AAEG;AAFH,GAAA,EAAA;IAAApF,GAAA,EAAA,SAAA;AAAAC,IAAAA,KAAA,EAGO,SAAAwQ,OAAOA,GAAA;;AACZ,MAAA,IAAI,CAAC4hB,OAAO,CAAC5hB,OAAO,EAAE;MACtB,CAAA9C,EAAA,GAAA,IAAI,CAACqnB,QAAQ,MAAA,IAAA,IAAArnB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAE8C,OAAO,EAAE;MACxB,CAAA7C,EAAA,GAAA,IAAI,CAAC0kB,QAAQ,MAAA,IAAA,IAAA1kB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAEvD,OAAO,EAAE;MACxB,CAAAwD,EAAA,GAAA,IAAI,CAACykB,QAAQ,MAAA,IAAA,IAAAzkB,EAAA,KAAA,MAAA,GAAA,MAAA,GAAAA,EAAA,CAAEkiB,OAAO,EAAE;MACxB,IAAI,CAAC/C,MAAM,GAAGrpB,SAAS;AACzB,IAAA;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA","x_google_ignoreList":[0]}