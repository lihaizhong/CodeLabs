function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e,r;var n,s=t(function(){if(r)return e;function t(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=128===r[3];function s(t,n,s){e[0]=t,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3]}function i(t,n,s){e[0]=t,n[s]=r[3],n[s+1]=r[2],n[s+2]=r[1],n[s+3]=r[0]}function o(t,n){return r[0]=t[n],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e[0]}function a(t,n){return r[3]=t[n],r[2]=t[n+1],r[1]=t[n+2],r[0]=t[n+3],e[0]}t.writeFloatLE=n?s:i,t.writeFloatBE=n?i:s,t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(t,e,r,n){var s=e<0?1:0;if(s&&(e=-e),0===e)t(1/e>0?0:2147483648,r,n);else if(isNaN(e))t(2143289344,r,n);else if(e>34028234663852886e22)t((s<<31|2139095040)>>>0,r,n);else if(e<11754943508222875e-54)t((s<<31|Math.round(e/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(e)/Math.LN2);t((s<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(t,e,r){var n=t(e,r),s=2*(n>>31)+1,i=n>>>23&255,o=8388607&n;return 255===i?o?NaN:s*(1/0):0===i?1401298464324817e-60*s*o:s*Math.pow(2,i-150)*(o+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,s),t.readFloatLE=r.bind(null,i),t.readFloatBE=r.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=128===r[7];function s(t,n,s){e[0]=t,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3],n[s+4]=r[4],n[s+5]=r[5],n[s+6]=r[6],n[s+7]=r[7]}function i(t,n,s){e[0]=t,n[s]=r[7],n[s+1]=r[6],n[s+2]=r[5],n[s+3]=r[4],n[s+4]=r[3],n[s+5]=r[2],n[s+6]=r[1],n[s+7]=r[0]}function o(t,n){return r[0]=t[n],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],r[4]=t[n+4],r[5]=t[n+5],r[6]=t[n+6],r[7]=t[n+7],e[0]}function a(t,n){return r[7]=t[n],r[6]=t[n+1],r[5]=t[n+2],r[4]=t[n+3],r[3]=t[n+4],r[2]=t[n+5],r[1]=t[n+6],r[0]=t[n+7],e[0]}t.writeDoubleLE=n?s:i,t.writeDoubleBE=n?i:s,t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(t,e,r,n,s,i){var o=n<0?1:0;if(o&&(n=-n),0===n)t(0,s,i+e),t(1/n>0?0:2147483648,s,i+r);else if(isNaN(n))t(0,s,i+e),t(2146959360,s,i+r);else if(n>17976931348623157e292)t(0,s,i+e),t((o<<31|2146435072)>>>0,s,i+r);else{var a;if(n<22250738585072014e-324)t((a=n/5e-324)>>>0,s,i+e),t((o<<31|a/4294967296)>>>0,s,i+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),t(4503599627370496*(a=n*Math.pow(2,-l))>>>0,s,i+e),t((o<<31|l+1023<<20|1048576*a&1048575)>>>0,s,i+r)}}}function r(t,e,r,n,s){var i=t(n,s+e),o=t(n,s+r),a=2*(o>>31)+1,l=o>>>20&2047,h=4294967296*(1048575&o)+i;return 2047===l?h?NaN:a*(1/0):0===l?5e-324*a*h:a*Math.pow(2,l-1075)*(h+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,s,4,0),t.readDoubleLE=r.bind(null,i,0,4),t.readDoubleBE=r.bind(null,o,4,0)}(),t}function n(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function s(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function i(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}return r=1,e=t(t)}()),i={};var o=(n||(n=1,function(){var t=i;t.length=function(t){for(var e=0,r=0,n=0;n<t.length;++n)(r=t.charCodeAt(n))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e},t.read=function(t,e,r){if(r-e<1)return"";for(var n,s=null,i=[],o=0;e<r;)(n=t[e++])<128?i[o++]=n:n>191&&n<224?i[o++]=(31&n)<<6|63&t[e++]:n>239&&n<365?(n=((7&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[o++]=55296+(n>>10),i[o++]=56320+(1023&n)):i[o++]=(15&n)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,i.slice(0,o))),s.join("")):String.fromCharCode.apply(String,i.slice(0,o))},t.write=function(t,e,r){for(var n,s,i=r,o=0;o<t.length;++o)(n=t.charCodeAt(o))<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(s=t.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&s),++o,e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=63&n|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=63&n|128);return r-i}}()),i),a=t(o);class l{static create(t){if(t instanceof l)return t;if(t instanceof Uint8Array)return new l(t);throw Error("illegal buffer")}buf;pos;len;constructor(t){this.buf=t,this.pos=0,this.len=t.length}slice(t,e,r){return t.subarray(e,r)}indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,this.indexOutOfRange(this,10);return t}int32(){return 0|this.uint32()}float(){if(this.pos+4>this.len)throw this.indexOutOfRange(this,4);const t=s.readFloatLE(this.buf,this.pos);return this.pos+=4,t}bytes(){const t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw this.indexOutOfRange(this,t);return this.pos+=t,e==r?new Uint8Array(0):this.slice(this.buf,e,r)}string(){const t=this.bytes();return a.read(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw this.indexOutOfRange(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw this.indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this}}class h{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new h;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.x=t.float();break;case 2:n.y=t.float();break;case 3:n.width=t.float();break;case 4:n.height=t.float();break;default:t.skipType(7&e)}}return n}x=0;y=0;width=0;height=0;constructor(t){t&&(null!=t.x&&(this.x=t.x),null!=t.y&&(this.y=t.y),null!=t.width&&(this.width=t.width),null!=t.height&&(this.height=t.height))}}class u{static decode(t,e){t=l.create(t);let r=null==e?t.len:t.pos+e,n=new u;for(;t.pos<r;){let e=t.uint32();switch(e>>>3){case 1:n.a=t.float();break;case 2:n.b=t.float();break;case 3:n.c=t.float();break;case 4:n.d=t.float();break;case 5:n.tx=t.float();break;case 6:n.ty=t.float();break;default:t.skipType(7&e)}}return n}a=0;b=0;c=0;d=0;tx=0;ty=0;constructor(t){t&&(null!=t.a&&(this.a=t.a),null!=t.b&&(this.b=t.b),null!=t.c&&(this.c=t.c),null!=t.d&&(this.d=t.d),null!=t.tx&&(this.tx=t.tx),null!=t.ty&&(this.ty=t.ty))}}class c{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new c;for(;t.pos<r;){const e=t.uint32();if(e>>>3==1)n.d=t.string();else t.skipType(7&e)}return n}d="";constructor(t){t&&null!=t.d&&(this.d=t.d)}}class f{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new f;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.x=t.float();break;case 2:n.y=t.float();break;case 3:n.width=t.float();break;case 4:n.height=t.float();break;case 5:n.cornerRadius=t.float();break;default:t.skipType(7&e)}}return n}x=0;y=0;width=0;height=0;cornerRadius=0;constructor(t){t&&(null!=t.x&&(this.x=t.x),null!=t.y&&(this.y=t.y),null!=t.width&&(this.width=t.width),null!=t.height&&(this.height=t.height),null!=t.cornerRadius&&(this.cornerRadius=t.cornerRadius))}}class d{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new d;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.x=t.float();break;case 2:n.y=t.float();break;case 3:n.radiusX=t.float();break;case 4:n.radiusY=t.float();break;default:t.skipType(7&e)}}return n}x=0;y=0;radiusX=0;radiusY=0;constructor(t){t&&(null!=t.x&&(this.x=t.x),null!=t.y&&(this.y=t.y),null!=t.radiusX&&(this.radiusX=t.radiusX),null!=t.radiusY&&(this.radiusY=t.radiusY))}}class p{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new p;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.r=t.float();break;case 2:n.g=t.float();break;case 3:n.b=t.float();break;case 4:n.a=t.float();break;default:t.skipType(7&e)}}return n}r=0;g=0;b=0;a=0;constructor(t){t&&(null!=t.r&&(this.r=t.r),null!=t.g&&(this.g=t.g),null!=t.b&&(this.b=t.b),null!=t.a&&(this.a=t.a))}}class w{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new w;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.fill=p.decode(t,t.uint32());break;case 2:n.stroke=p.decode(t,t.uint32());break;case 3:n.strokeWidth=t.float();break;case 4:n.lineCap=t.int32();break;case 5:n.lineJoin=t.int32();break;case 6:n.miterLimit=t.float();break;case 7:n.lineDashI=t.float();break;case 8:n.lineDashII=t.float();break;case 9:n.lineDashIII=t.float();break;default:t.skipType(7&e)}}return n}fill=null;stroke=null;strokeWidth=0;lineCap=0;lineJoin=0;miterLimit=0;lineDashI=0;lineDashII=0;lineDashIII=0;constructor(t){t&&(null!=t.fill&&(this.fill=t.fill),null!=t.lineCap&&(this.lineCap=t.lineCap),null!=t.lineDashI&&(this.lineDashI=t.lineDashI),null!=t.lineDashII&&(this.lineDashII=t.lineDashII),null!=t.lineDashIII&&(this.lineDashIII=t.lineDashIII),null!=t.lineJoin&&(this.lineJoin=t.lineJoin),null!=t.miterLimit&&(this.miterLimit=t.miterLimit),null!=t.stroke&&(this.stroke=t.stroke),null!=t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}}class b{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new b;for(;t.pos<r;){let e=t.uint32();switch(e>>>3){case 1:n.type=t.int32();break;case 2:n.shape=c.decode(t,t.uint32());break;case 3:n.rect=f.decode(t,t.uint32());break;case 4:n.ellipse=d.decode(t,t.uint32());break;case 10:n.styles=w.decode(t,t.uint32());break;case 11:n.transform=u.decode(t,t.uint32());break;default:t.skipType(7&e)}}return n}type=0;shape=null;rect=null;ellipse=null;styles=null;transform=null;$oneOfFields=["shape","rect","ellipse"];$fieldMap={};get args(){const t=Object.keys(this);for(let e=t.length-1;e>-1;--e){const r=t[e],n=this[r];if(1==this.$fieldMap[r]&&null!=n)return r}return""}set args(t){for(var e=0;e<this.$oneOfFields.length;++e){const r=this.$oneOfFields[e];r!=t&&delete this[r]}}constructor(t){t&&(null!=t.type&&(this.type=t.type),null!=t.ellipse&&(this.ellipse=t.ellipse),null!=t.rect&&(this.rect=t.rect),null!=t.shape&&(this.shape=t.shape),null!=t.styles&&(this.styles=t.styles),null!=t.transform&&(this.transform=t.transform));for(var e=0;e<this.$oneOfFields.length;++e)this.$fieldMap[this.$oneOfFields[e]]=1}}class g{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new g;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.alpha=t.float();break;case 2:n.layout=h.decode(t,t.uint32());break;case 3:n.transform=u.decode(t,t.uint32());break;case 4:n.clipPath=t.string();break;case 5:n.shapes&&n.shapes.length||(n.shapes=[]),n.shapes.push(b.decode(t,t.uint32()));break;default:t.skipType(7&e)}}return n}shapes=[];alpha=0;layout=null;transform=null;clipPath="";constructor(t){t&&(null!=t.alpha&&(this.alpha=t.alpha),null!=t.clipPath&&(this.clipPath=t.clipPath),null!=t.layout&&(this.layout=t.layout),null!=t.shapes&&(this.shapes=t.shapes),null!=t.transform&&(this.transform=t.transform))}}class y{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new y;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.imageKey=t.string();break;case 2:n.frames&&n.frames.length||(n.frames=[]),n.frames.push(g.decode(t,t.uint32()));break;case 3:n.matteKey=t.string();break;default:t.skipType(7&e)}}return n}frames=[];imageKey="";matteKey="";constructor(t){t&&(null!=t.frames&&(this.frames=t.frames),null!=t.imageKey&&(this.imageKey=t.imageKey),null!=t.matteKey&&(this.matteKey=t.matteKey))}}class m{static decode(t,e){t=l.create(t);let r=null==e?t.len:t.pos+e,n=new m;for(;t.pos<r;){let e=t.uint32();switch(e>>>3){case 1:n.viewBoxWidth=t.float();break;case 2:n.viewBoxHeight=t.float();break;case 3:n.fps=t.int32();break;case 4:n.frames=t.int32();break;default:t.skipType(7&e)}}return n}viewBoxWidth=0;viewBoxHeight=0;fps=0;frames=0;constructor(t){t&&(null!=t.viewBoxWidth&&(this.viewBoxWidth=t.viewBoxWidth),null!=t.viewBoxHeight&&(this.viewBoxHeight=t.viewBoxHeight),null!=t.fps&&(this.fps=t.fps),null!=t.frames&&(this.frames=t.frames))}}const k=Object.freeze({});class T{static decode(t,e){t=l.create(t);const r=null==e?t.len:t.pos+e,n=new T;let s,i;for(;t.pos<r;){const e=t.uint32();switch(e>>>3){case 1:n.version=t.string();break;case 2:n.params=m.decode(t,t.uint32());break;case 3:{n.images==k&&(n.images={});const e=t.uint32()+t.pos;for(s="",i=[];t.pos<e;){let e=t.uint32();switch(e>>>3){case 1:s=t.string();break;case 2:i=t.bytes();break;default:t.skipType(7&e)}}n.images[s]=i;break}case 4:n.sprites&&n.sprites.length||(n.sprites=[]),n.sprites.push(y.decode(t,t.uint32()));break;default:t.skipType(7&e)}}return n}version="";params=null;images=k;sprites=[];constructor(t){t&&(null!=t.version&&(this.version=t.version),null!=t.images&&(this.images=t.images),null!=t.params&&(this.params=t.params),null!=t.sprites&&(this.sprites=t.sprites))}}class v{buffer=[];lengthInBits=0;getAt(t){const e=~~(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}putBit(t){const{lengthInBits:e,buffer:r}=this,n=~~(e/8);r.length<=n&&r.push(0),t&&(r[n]|=128>>>e%8),this.lengthInBits+=1}}const B={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},A={L:1,M:0,Q:3,H:2},C={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class E{bytes;constructor(t){let e=[];for(let r=0;r<t.length;r++){const n=[],s=t.charCodeAt(r);s>65536?(n[0]=240|(1835008&s)>>>18,n[1]=128|(258048&s)>>>12,n[2]=128|(4032&s)>>>6,n[3]=128|63&s):s>2048?(n[0]=224|(61440&s)>>>12,n[1]=128|(4032&s)>>>6,n[2]=128|63&s):s>128?(n[0]=192|(1984&s)>>>6,n[1]=128|63&s):n[0]=s,e.push(n)}this.bytes=e.flat(1);const{bytes:r}=this;r.length!=t.length&&(r.unshift(191),r.unshift(187),r.unshift(239))}get mode(){return B.MODE_8BIT_BYTE}get length(){return this.bytes.length}write(t){const{bytes:e}=this;for(let r=0;r<e.length;r++)t.put(e[r],8)}}const I=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class D{getRSBlockTable(t,e){const{L:r,M:n,Q:s,H:i}=A,o=4*(t-1);switch(e){case r:return I[o+0];case n:return I[o+1];case s:return I[o+2];case i:return I[o+3];default:throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel: ${e}`)}}getRSBlocks(t,e){const r=this.getRSBlockTable(t,e),n=r.length/3,s=[];for(let t=0;t<n;t++){const e=r[3*t],n=r[3*t+1],i=r[3*t+2];for(let t=0;t<e;t++)s.push({totalCount:n,dataCount:i})}return s}}class x{data;pos=0;buffer=0;buflen=0;constructor(t){this.data=t}decode(t){if(t>=65&&t<=90)return t-65;if(t>=97&&t<=122)return t-97+26;if(t>=48&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error(`c: ${t}`)}read(){for(;this.buflen<8;){if(this.pos>=this.data.length){if(0==this.buflen)return-1;throw new Error(`unexpected end of file./${this.buflen}`)}const t=this.data.charAt(this.pos);if(this.pos++,"="==t)return this.buflen=0,-1;t.match(/^\s$/)||(this.buffer=this.buffer<<6|this.decode(t.charCodeAt(0)),this.buflen+=6)}this.buflen-=8;return this.buffer>>>this.buflen&255}}const M=new Array(256),P=new Array(256);for(let t=0;t<8;t++)M[t]=1<<t;for(let t=8;t<256;t++)M[t]=M[t-4]^M[t-5]^M[t-6]^M[t-8];for(let t=0;t<255;t++)P[M[t]]=t;const N={glog(t){if(t<1)throw new Error(`glog(${t})`);return P[t]},gexp:t=>(t<0?t=255+t%255:t>255&&(t%=255),M[t])};class ${num;constructor(t,e){const{length:r}=t;if(void 0===r)throw new Error(`${r}/${e}`);let n=0;for(;n<r&&0==t[n];)n++;const s=r-n;this.num=new Array(s+e);for(let e=0;e<s;e++)this.num[e]=t[e+n]}get length(){return this.num.length}getAt(t){return this.num[t]}multiply(t){const{glog:e,gexp:r}=N,n=[];for(let s=0;s<this.length;s++)for(let i=0;i<t.length;i++)n[s+i]^=r(e(this.getAt(s))+e(t.getAt(i)));return new $(n,0)}mod(t){if(this.length-t.length<0)return this;const{glog:e,gexp:r}=N,n=e(this.getAt(0))-e(t.getAt(0)),s=[];for(var i=0;i<this.length;i++){const o=this.getAt(i);s[i]=i<t.length?o^r(e(t.getAt(i))+n):o}return new $(s,0).mod(t)}}const L=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],R=t=>0==t?0:Math.log2(t),S=R(1335),O=R(7973),F={getBCHTypeInfo(t){let e=t<<10;for(;R(e)-S>=0;)e^=1335<<R(e)-S;return 21522^(t<<10|e)},getBCHTypeNumber(t){let e=t<<12;for(;R(e)-O>=0;)e^=7973<<R(e)-O;return t<<12|e},getPatternPosition:t=>L[t-1],getMaskFunction(t){const{PATTERN000:e,PATTERN001:r,PATTERN010:n,PATTERN011:s,PATTERN100:i,PATTERN101:o,PATTERN110:a,PATTERN111:l}=C;switch(t){case e:return(t,e)=>(t+e)%2==0;case r:return t=>t%2==0;case n:return(t,e)=>e%3==0;case s:return(t,e)=>(t+e)%3==0;case i:return(t,e)=>(~~(t/2)+~~(e/3))%2==0;case o:return(t,e)=>t*e%2+t*e%3==0;case a:return(t,e)=>(t*e%2+t*e%3)%2==0;case l:return(t,e)=>(t*e%3+(t+e)%2)%2==0;default:throw new Error(`bad maskPattern: ${t}`)}},getErrorCorrectPolynomial(t){let e=new $([1],0);for(let r=0;r<t;r++)e=e.multiply(new $([1,N.gexp(r)],0));return e},getLengthInBits(t,e){const{MODE_NUMBER:r,MODE_ALPHA_NUM:n,MODE_8BIT_BYTE:s,MODE_KANJI:i}=B;if(e<1||e>40)throw new Error(`type: ${e}`);if(e>=1&&e<10)switch(t){case r:return 10;case n:return 9;case s:case i:return 8}if(e<27)switch(t){case r:return 12;case n:return 11;case s:return 16;case i:return 10}if(e<=40)switch(t){case r:return 14;case n:return 13;case s:return 16;case i:return 12}throw new Error(`mode: ${t}`)},getLostPoint(t){const e=t.getModuleCount();let r=0;for(let n=0;n<e;n++)for(let s=0;s<e;s++){const i=t.isDark(n,s);let o=0;for(let r=-1;r<=1;r++){const a=n+r;if(!(a<0||e<=a))for(let n=-1;n<=1;n++){const l=s+n;l<0||e<=l||(0==r&&0==n||i==t.isDark(a,l)&&o++)}}o>5&&(r+=o+3-5)}for(let n=0;n<e-1;n++)for(let s=0;s<e-1;s++){let e=0;t.isDark(n,s)&&e++,t.isDark(n+1,s)&&e++,t.isDark(n,s+1)&&e++,t.isDark(n+1,s+1)&&e++,0!=e&&4!=e||(r+=3)}for(let n=0;n<e;n++)for(let s=0;s<e-6;s++)t.isDark(n,s)&&!t.isDark(n,s+1)&&t.isDark(n,s+2)&&t.isDark(n,s+3)&&t.isDark(n,s+4)&&!t.isDark(n,s+5)&&t.isDark(n,s+6)&&(r+=40);for(let n=0;n<e;n++)for(let s=0;s<e-6;s++)t.isDark(s,n)&&!t.isDark(s+1,n)&&t.isDark(s+2,n)&&t.isDark(s+3,n)&&t.isDark(s+4,n)&&!t.isDark(s+5,n)&&t.isDark(s+6,n)&&(r+=40);let n=0;for(let r=0;r<e;r++)for(let s=0;s<e;s++)t.isDark(s,r)&&n++;return r+10*(Math.abs(100*n/Math.pow(e,2)-50)/5)}};class U{typeNumber;static stringToBytes(t){const e=[];for(let r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}static createStringToBytes(t,e){const r=(()=>{const r=new x(t),n=()=>{const t=r.read();if(-1==t)throw new Error("character defect!");return t},s={};let i=0;for(;;){const t=r.read();if(-1==t)break;const e=n(),o=n()<<8|n();s[String.fromCharCode(t<<8|e)]=o,i+=1}if(i!=e)throw new Error(`${i} != ${e}`);return s})(),n="?".charCodeAt(0);return t=>{const e=[];for(let s=0;s<t.length;s++){const i=t.charCodeAt(s);if(i<128)e.push(i);else{const i=r[t.charAt(s)];"number"==typeof i?(255&i)==i?e.push(i):(e.push(i>>>8),e.push(255&i)):e.push(n)}}return e}}errorCorrectLevel;modules=[];moduleCount=0;dataCache=null;dataList=[];constructor(t,e){this.typeNumber=t,this.errorCorrectLevel=A[e]}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=(t=>{const e=[];for(let r=0;r<t;r++){e[r]=[];for(let n=0;n<t;n++)e[r][n]=null}return e})(this.moduleCount);const r=this.moduleCount-7;this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(r,0),this.setupPositionProbePattern(0,r),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=this.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){const{modules:r,moduleCount:n}=this;for(let s=-1;s<=7;s++){const i=t+s;if(!(i<=-1||n<=i))for(let t=-1;t<=7;t++){const o=e+t;o<=-1||n<=o||(r[i][o]=s>=0&&s<=6&&(0==t||6==t)||t>=0&&t<=6&&(0==s||6==s)||s>=2&&s<=4&&t>=2&&t<=4)}}}setupPositionAdjustPattern(){const{typeNumber:t,modules:e}=this,r=F.getPatternPosition(t),{length:n}=r;for(let t=0;t<n;t++)for(let s=0;s<n;s++){const n=r[t],i=r[s];if(null==e[n][i])for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)e[n+t][i+r]=-2==t||2==t||-2==r||2==r||0==t&&0==r}}setupTimingPattern(){const{moduleCount:t,modules:e}=this,r=t-8;for(let t=8;t<r;t++)null==e[t][6]&&(e[t][6]=t%2==0);for(let t=8;t<r;t++)null==e[6][t]&&(e[6][t]=t%2==0)}setupTypeInfo(t,e){const{errorCorrectLevel:r,modules:n,moduleCount:s}=this,i=r<<3|e,o=F.getBCHTypeInfo(i);for(let e=0;e<15;e++){const r=!t&&1==(o>>e&1);e<6?n[e][8]=r:e<8?n[e+1][8]=r:n[s-15+e][8]=r}for(let e=0;e<15;e++){const r=!t&&1==(o>>e&1);e<8?n[8][s-e-1]=r:e<9?n[8][15-e]=r:n[8][15-e-1]=r}n[s-8][8]=!t}getBestMaskPattern(){let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const n=F.getLostPoint(this);(0==r||t>n)&&(t=n,e=r)}return e}setupTypeNumber(t){const{typeNumber:e,modules:r,moduleCount:n}=this,s=F.getBCHTypeNumber(e);for(let e=0;e<18;e++){const i=!t&&1==(s>>e&1);r[~~(e/3)][e%3+n-8-3]=i,r[e%3+n-8-3][~~(e/3)]=i}}createData(t,e,r){const n=(new D).getRSBlocks(t,e),s=new v;for(let e=0;e<r.length;e++){const n=r[e];s.put(n.mode,4),s.put(n.length,F.getLengthInBits(n.mode,t)),n.write(s)}let i=0;for(let t=0;t<n.length;t++)i+=n[t].dataCount;const o=8*i;if(s.lengthInBits>o)throw new Error(`code length overflow. (${s.lengthInBits} > ${o})`);for(s.lengthInBits+4<=o&&s.put(0,4);s.lengthInBits%8!=0;)s.putBit(!1);for(;!(s.lengthInBits>=o||(s.put(236,8),s.lengthInBits>=o));)s.put(17,8);return this.createBytes(s,n)}mapData(t,e){const{modules:r,moduleCount:n}=this,s=F.getMaskFunction(e);let i=-1,o=n-1,a=7,l=0;for(let e=o;e>0;e-=2)for(6==e&&(e-=1);;){for(let n=0;n<2;n++)if(null==r[o][e-n]){let i=!1;l<t.length&&(i=1==(t[l]>>>a&1)),s(o,e-n)&&(i=!i),r[o][e-n]=i,a--,-1==a&&(l++,a=7)}if(o+=i,o<0||n<=o){o-=i,i=-i;break}}}createBytes(t,e){const r=[],n=[];let s=0,i=0,o=0;for(let a=0;a<e.length;a++){const l=e[a].dataCount,h=e[a].totalCount-l;i=Math.max(i,l),o=Math.max(o,h),r[a]=[];for(let e=0;e<l;e++)r[a][e]=255&t.buffer[e+s];s+=l;const u=F.getErrorCorrectPolynomial(h),c=new $(r[a],u.length-1).mod(u);n[a]=new Array(u.length-1);for(let t=0;t<n[a].length;t++){const e=t+c.length-n[a].length;n[a][t]=e>=0?c.getAt(e):0}}let a=0;for(let t=0;t<e.length;t++)a+=e[t].totalCount;const l=new Array(a);let h=0;for(let t=0;t<i;t++)for(let n=0;n<e.length;n++)t<r[n].length&&(l[h++]=r[n][t]);for(let t=0;t<o;t++)for(let r=0;r<e.length;r++)t<n[r].length&&(l[h++]=n[r][t]);return l}isDark(t,e){const{moduleCount:r}=this;if(t<0||r<=t||e<0||r<=e)throw new Error(`${t}, ${e}`);return this.modules[t][e]}addData(t){this.dataList.push(new E(t)),this.dataCache=null}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}}class z{out;bit=0;bitlen=0;constructor(t){this.out=t}write(t,e){if(t>>>e!=0)throw new Error("length over");for(;this.bitlen+e>=8;)this.out.writeByte(255&(t<<this.bitlen|this.bit)),e-=8-this.bitlen,t>>>=8-this.bitlen,this.bit=this.bitlen=0;this.bit=t<<this.bitlen|this.bit,this.bitlen+=e}flush(){this.bitlen>0&&this.out.writeByte(this.bit)}}class _{bytes=[];writeByte(t){this.bytes.push(255&t)}writeBytes(t,e,r){const n=e||0,s=r||t.length;for(let e=0;e<s;e++)this.writeByte(t[e+n])}writeShort(t){this.writeByte(t),this.writeByte(t>>>8)}writeString(t){for(let e=0;e<t.length;e++)this.writeByte(t.charCodeAt(e))}toByteArray(){return this.bytes}toString(){return`[${this.bytes.join(",")}]`}}class H{map={};mapSize=0;get size(){return this.mapSize}add(t){if(this.contains(t))throw new Error(`dup key: ${t}`);this.map[t]=this.mapSize,this.mapSize++}indexOf(t){return this.map[t]??-1}contains(t){return null!=this.map[t]}}class K{buffer=0;buflen=0;length=0;base64="";encode(t){if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47;throw new Error(`n: ${t}`)}writeEncoded(t){this.base64+=String.fromCharCode(this.encode(63&t))}writeByte(t){for(this.buffer=this.buffer<<8|255&t,this.buflen+=8,this.length+=1;this.buflen>=6;)this.buflen-=6,this.writeEncoded(this.buffer>>>this.buflen)}flush(){const{buffer:t,buflen:e,length:r}=this;if(e>0&&(this.writeEncoded(t<<6-e),this.buffer=0,this.buflen=0),r%3!=0){const t=3-r%3;for(let e=0;e<t;e++)this.base64+="="}}toString(){return this.base64}}class W{width;height;data=[];constructor(t,e){this.width=t,this.height=e}getLZWRaster(t){const{data:e}=this,r=1<<t,n=r+1;let s=t+1;const i=new H,o=t=>String.fromCharCode(t);for(let t=0;t<r;t+=1)i.add(o(t));i.add(o(r)),i.add(o(n));const a=new _,l=new z(a);l.write(r,s);let h=0,u=o(e[h++]);for(;h<e.length;){const t=o(e[h++]);i.contains(u+t)?u+=t:(l.write(i.indexOf(u),s),i.size<4095&&(i.size==1<<s&&s++,i.add(u+t)),u=t)}return l.write(i.indexOf(u),s),l.write(n,s),l.flush(),a.toByteArray()}setPixel(t,e,r){this.data[e*this.width+t]=r}write(t,e="#000000",r="#ffffff"){const{width:n,height:s}=this;t.writeString("GIF87a"),t.writeShort(n),t.writeShort(s),t.writeByte(128),t.writeByte(0),t.writeByte(0);const i=e.split("");t.writeByte(parseInt(`${i[1]}${i[2]}`,16)),t.writeByte(parseInt(`${i[3]}${i[4]}`,16)),t.writeByte(parseInt(`${i[5]}${i[6]}`,16));const o=r.split("");t.writeByte(parseInt(`${o[1]}${o[2]}`,16)),t.writeByte(parseInt(`${o[3]}${o[4]}`,16)),t.writeByte(parseInt(`${o[5]}${o[6]}`,16)),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(s),t.writeByte(0);const a=this.getLZWRaster(2);t.writeByte(2);let l=0;for(;a.length-l>255;)t.writeByte(255),t.writeBytes(a,l,255),l+=255;const h=a.length-l;t.writeByte(h),t.writeBytes(a,l,h),t.writeByte(0),t.writeString(";")}}function Y(t,e,r,n,s){const i=new W(t,e);for(let n=0;n<e;n++)for(let e=0;e<t;e++)i.setPixel(e,n,r(e,n));const o=new _;i.write(o,n,s);const a=new K,l=o.toByteArray();for(let t=0;t<l.length;t++)a.writeByte(l[t]);return a.flush(),`data:image/gif;base64,${a}`}var j=Uint8Array,J=Uint16Array,X=Int32Array,Q=new j([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V=new j([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Z=new j([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G=function(t,e){for(var r=new J(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new X(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},q=G(Q,2),tt=q.b,et=q.r;tt[28]=258,et[258]=28;for(var rt=G(V,0).r,nt=new J(32768),st=0;st<32768;++st){var it=(43690&st)>>1|(21845&st)<<1;it=(61680&(it=(52428&it)>>2|(13107&it)<<2))>>4|(3855&it)<<4,nt[st]=((65280&it)>>8|(255&it)<<8)>>1}var ot=function(t,e,r){for(var n=t.length,s=0,i=new J(e);s<n;++s)t[s]&&++i[t[s]-1];var o,a=new J(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;if(r){o=new J(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var h=s<<4|t[s],u=e-t[s],c=a[t[s]-1]++<<u,f=c|(1<<u)-1;c<=f;++c)o[nt[c]>>l]=h}else for(o=new J(n),s=0;s<n;++s)t[s]&&(o[s]=nt[a[t[s]-1]++]>>15-t[s]);return o},at=new j(288);for(st=0;st<144;++st)at[st]=8;for(st=144;st<256;++st)at[st]=9;for(st=256;st<280;++st)at[st]=7;for(st=280;st<288;++st)at[st]=8;var lt=new j(32);for(st=0;st<32;++st)lt[st]=5;var ht=ot(at,9,0),ut=ot(lt,5,0),ct=function(t){return(t+7)/8|0},ft=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},dt=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},pt=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:Tt,l:0};if(1==s){var o=new j(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort((function(t,e){return t.f-e.f})),r.push({s:-1,f:25001});var a=r[0],l=r[1],h=0,u=1,c=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=r[r[h].f<r[c].f?h++:c++],l=r[h!=u&&r[h].f<r[c].f?h++:c++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=i[0].s;for(n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var d=new J(f+1),p=wt(r[u-1],d,0);if(p>e){n=0;var w=0,b=p-e,g=1<<b;for(i.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));n<s;++n){var y=i[n].s;if(!(d[y]>e))break;w+=g-(1<<p-d[y]),d[y]=e}for(w>>=b;w>0;){var m=i[n].s;d[m]<e?w-=1<<e-d[m]++-1:++n}for(;n>=0&&w;--n){var k=i[n].s;d[k]==e&&(--d[k],++w)}p=e}return{t:new j(d),l:p}},wt=function(t,e,r){return-1==t.s?Math.max(wt(t.l,e,r+1),wt(t.r,e,r+1)):e[t.s]=r},bt=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new J(++e),n=0,s=t[0],i=1,o=function(t){r[n++]=t},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:r.subarray(0,n),n:e}},gt=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},yt=function(t,e,r){var n=r.length,s=ct(e+2);t[s]=255&n,t[s+1]=n>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<n;++i)t[s+i+4]=r[i];return 8*(s+4+n)},mt=function(t,e,r,n,s,i,o,a,l,h,u){ft(e,u++,r),++s[256];for(var c=pt(s,15),f=c.t,d=c.l,p=pt(i,15),w=p.t,b=p.l,g=bt(f),y=g.c,m=g.n,k=bt(w),T=k.c,v=k.n,B=new J(19),A=0;A<y.length;++A)++B[31&y[A]];for(A=0;A<T.length;++A)++B[31&T[A]];for(var C=pt(B,7),E=C.t,I=C.l,D=19;D>4&&!E[Z[D-1]];--D);var x,M,P,N,$=h+5<<3,L=gt(s,at)+gt(i,lt)+o,R=gt(s,f)+gt(i,w)+o+14+3*D+gt(B,E)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&$<=L&&$<=R)return yt(e,u,t.subarray(l,l+h));if(ft(e,u,1+(R<L)),u+=2,R<L){x=ot(f,d,0),M=f,P=ot(w,b,0),N=w;var S=ot(E,I,0);ft(e,u,m-257),ft(e,u+5,v-1),ft(e,u+10,D-4),u+=14;for(A=0;A<D;++A)ft(e,u+3*A,E[Z[A]]);u+=3*D;for(var O=[y,T],F=0;F<2;++F){var U=O[F];for(A=0;A<U.length;++A){var z=31&U[A];ft(e,u,S[z]),u+=E[z],z>15&&(ft(e,u,U[A]>>5&127),u+=U[A]>>12)}}}else x=ht,M=at,P=ut,N=lt;for(A=0;A<a;++A){var _=n[A];if(_>255){dt(e,u,x[(z=_>>18&31)+257]),u+=M[z+257],z>7&&(ft(e,u,_>>23&31),u+=Q[z]);var H=31&_;dt(e,u,P[H]),u+=N[H],H>3&&(dt(e,u,_>>5&8191),u+=V[H])}else dt(e,u,x[_]),u+=M[_]}return dt(e,u,x[256]),u+M[256]},kt=new X([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tt=new j(0),vt=function(t,e,r,n,s,i){var o=i.z||t.length,a=new j(n+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(n,a.length-s),h=i.l,u=7&(i.r||0);if(e){u&&(l[0]=i.r>>3);for(var c=kt[e-1],f=c>>13,d=8191&c,p=(1<<r)-1,w=i.p||new J(32768),b=i.h||new J(p+1),g=Math.ceil(r/3),y=2*g,m=function(e){return(t[e]^t[e+1]<<g^t[e+2]<<y)&p},k=new X(25e3),T=new J(288),v=new J(32),B=0,A=0,C=i.i||0,E=0,I=i.w||0,D=0;C+2<o;++C){var x=m(C),M=32767&C,P=b[x];if(w[M]=P,b[x]=M,I<=C){var N=o-C;if((B>7e3||E>24576)&&(N>423||!h)){u=mt(t,l,0,k,T,v,A,E,D,C-D,u),E=B=A=0,D=C;for(var $=0;$<286;++$)T[$]=0;for($=0;$<30;++$)v[$]=0}var L=2,R=0,S=d,O=M-P&32767;if(N>2&&x==m(C-O))for(var F=Math.min(f,N)-1,U=Math.min(32767,C),z=Math.min(258,N);O<=U&&--S&&M!=P;){if(t[C+L]==t[C+L-O]){for(var _=0;_<z&&t[C+_]==t[C+_-O];++_);if(_>L){if(L=_,R=O,_>F)break;var H=Math.min(O,_-2),K=0;for($=0;$<H;++$){var W=C-O+$&32767,Y=W-w[W]&32767;Y>K&&(K=Y,P=W)}}}O+=(M=P)-(P=w[M])&32767}if(R){k[E++]=268435456|et[L]<<18|rt[R];var Z=31&et[L],G=31&rt[R];A+=Q[Z]+V[G],++T[257+Z],++v[G],I=C+L,++B}else k[E++]=t[C],++T[t[C]]}}for(C=Math.max(C,I);C<o;++C)k[E++]=t[C],++T[t[C]];u=mt(t,l,h,k,T,v,A,E,D,C-D,u),h||(i.r=7&u|l[u/8|0]<<3,u-=7,i.h=b,i.p=w,i.i=C,i.w=I)}else{for(C=i.w||0;C<o+h;C+=65535){var q=C+65535;q>=o&&(l[u/8|0]=h,q=o),u=yt(l,u+1,t.subarray(C,q))}i.i=o}return function(t,e,r){return(null==r||r>t.length)&&(r=t.length),new j(t.subarray(e,r))}(a,0,n+ct(u)+s)};function Bt(t,e){return function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new j(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return vt(t,null==e.level?6:e.level,null==e.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,s)}(t,{},0,0)}var At="undefined"!=typeof TextDecoder&&new TextDecoder;try{At.decode(Tt,{stream:!0})}catch(t){}class Ct{buf;static table=null;constructor(t){if(this.buf=t,null==Ct.table){const t=this.signedCRCTable(),e=this.sliceBy16Tables(t);Ct.table={T0:t,T1:e[0],T2:e[1],T3:e[2],T4:e[3],T5:e[4],T6:e[5],T7:e[6],T8:e[7],T9:e[8],Ta:e[9],Tb:e[10],Tc:e[11],Td:e[12],Te:e[13],Tf:e[14]}}}signedCRCTable(){let t=0,e=new Array(256);for(let r=0;r<256;r++){t=r;for(let e=0;e<8;e++)t=1&t?-306674912^t>>>1:t>>>1;e[r]=t}return e}sliceBy16Tables(t){let e=0,r=0,n=0;const s=new Array(4096);for(n=0;n<256;n++)s[n]=t[n];for(n=0;n<256;n++)for(r=t[n],e=256+n;e<4096;e+=256)r=s[e]=r>>>8^t[255&r];const i=[];for(n=1;n<16;n++)i[n-1]=s.slice(256*n,256*n+256);return i}read(){const{buf:t}=this,{T0:e,T1:r,T2:n,T3:s,T4:i,T5:o,T6:a,T7:l,T8:h,T9:u,Ta:c,Tb:f,Tc:d,Td:p,Te:w,Tf:b}=Ct.table;let g=-1,y=t.length-15,m=0;for(;m<y;)g=b[t[m++]^255&g]^w[t[m++]^g>>8&255]^p[t[m++]^g>>16&255]^d[t[m++]^g>>>24]^f[t[m++]]^c[t[m++]]^u[t[m++]]^h[t[m++]]^l[t[m++]]^a[t[m++]]^o[t[m++]]^i[t[m++]]^s[t[m++]]^n[t[m++]]^r[t[m++]]^e[t[m++]];for(y+=15;m<y;)g=g>>>8^e[255&(g^t[m++])];return~g}}class Et{width;height;data;constructor(t,e){this.width=t,this.height=e,this.data=new Uint32Array(t*e)}toInt8(t){const e=new ArrayBuffer(1);return new DataView(e).setUint8(0,t),e}toInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}createChunk(t,e,r=[]){const n=new Uint8Array(e);return new Uint8Array([...new Uint8Array(this.toInt32(t)),...n,...r,...new Uint8Array(this.toInt32(new Ct([...n,...r]).read()))])}get length(){return this.data.length}setPixel(t,e,r){this.data[e*this.width+t]=r}write(t){const{width:e,height:r}=this;t.writeBytes([137,80,78,71,13,10,26,10]);const n=this.createChunk(13,[73,72,68,82],new Uint8Array([...new Uint8Array(this.toInt32(e)),...new Uint8Array(this.toInt32(r)),...new Uint8Array(this.toInt8(1)),...new Uint8Array(this.toInt8(0)),...new Uint8Array(this.toInt8(0)),...new Uint8Array(this.toInt8(0)),...new Uint8Array(this.toInt8(0))]));t.writeBytes(n);const s=Bt(new Uint8Array(this.data.buffer)),i=this.createChunk(s.length,[73,68,65,84],s);t.writeBytes(i);const o=this.createChunk(0,[73,69,78,68]);t.writeBytes(o)}}function It(t,e,r){const n=new Et(t,e);for(let e=0;e<n.length;e++){const s=e%t,i=Math.floor(e/t);n.setPixel(s,i,r(s,i))}const s=new _;n.write(s);const i=new K,o=s.toByteArray();for(let t=0;t<o.length;t++)i.writeByte(o[t]);return i.flush(),`data:image/png;base64,${i}`}function Dt(t={}){const e={...t};return{typeNumber:e.typeNumber??4,errorCorrectLevel:e.errorCorrectLevel??"M",size:e.size??500,black:e.black??"#000000FF",white:e.white??"#FFFFFFFF"}}const xt=(t,e)=>{const r=~~(e/t);return{margin:~~((e-t*r)/2),cellSize:r||2}};function Mt(t,e){const{typeNumber:r,errorCorrectLevel:n,size:s,black:i,white:o}=Dt(e);let a;try{a=new U(r,n),a.addData(t),a.make()}catch(e){if(r>=40)throw new Error("Text too long to encode");return arguments.callee(t,{size:s,errorCorrectLevel:n,typeNumber:r+1,black:i,white:o})}const l=a.getModuleCount(),{margin:h,cellSize:u}=xt(l,s),c=l*u+h;return Y(s,s,((t,e)=>{if(h<=t&&t<c&&h<=e&&e<c){const r=~~((t-h)/u),n=~~((e-h)/u);return a.isDark(n,r)?0:1}return 1}),i,o)}function Pt(t,e){const{typeNumber:r,errorCorrectLevel:n,size:s,black:i,white:o}=Dt(e);let a;try{a=new U(r,n),a.addData(t),a.make()}catch(e){if(r>=40)throw new Error("Text too long to encode");return arguments.callee(t,{size:s,errorCorrectLevel:n,typeNumber:r+1,black:i,white:o})}const l=a.getModuleCount(),{margin:h,cellSize:u}=xt(l,s),c=l*u+h,f=+i.replace("#","0x"),d=+o.replace("#","0x");return It(s,s,((t,e)=>{if(h<=t&&t<c&&h<=e&&e<c){const r=~~((t-h)/u),n=~~((e-h)/u);return a.isDark(n,r)?f:d}return d}))}function Nt(t,e){const{typeNumber:r,errorCorrectLevel:n,size:s,black:i,white:o}=Dt(e);let a;try{a=new U(r,n),a.addData(t),a.make()}catch(e){if(r>=40)throw new Error("Text too long to encode");return arguments.callee(t,{size:s,errorCorrectLevel:n,typeNumber:r+1,black:i,white:o})}const l=a.getModuleCount(),{margin:h,cellSize:u}=xt(l,s),c="border-width: 0px; border-style: none; border-collapse: collapse; padding: 0px;";let f=`<table style="${c} margin: ${h}px;"><tbody>`;for(let t=0;t<l;t++){f+="<tr>";for(let e=0;e<l;e++)f+=`<td style="${c} margin: 0px; width: ${u}px; height: ${u}px; background-color: ${a.isDark(t,e)?"#000000":"#ffffff"};"/>`;f+="</tr>"}return f+"</tbody></table>"}export{W as GifImage,T as MovieEntity,Et as PngImage,U as QRCode,Y as createGifTag,It as createPngTag,Mt as createQRCodeToGIF,Nt as createQRCodeToHTML,Pt as createQRCodeToPNG};
//# sourceMappingURL=index.js.map
